(this["webpackJsonpextraordinary-growth-app"]=this["webpackJsonpextraordinary-growth-app"]||[]).push([[0],{10:function(e,t,a){"use strict";var s=a(6),r=a(14),i=a(8),o=a(3);const n=new r.b;n.addScope("profile"),n.addScope("email");const c=new class{constructor(){this.currentUser=null,this.authStateListeners=[],this.initializeAuthListener()}initializeAuthListener(){Object(r.g)(o.a,e=>{this.currentUser=e,this.notifyAuthStateListeners(e),e?(o.c.success("Utente autenticato",{uid:e.uid,email:e.email,displayName:e.displayName}),this.updateUserLastSeen(e)):o.c.info("Utente disconnesso")})}onAuthStateChange(e){return this.authStateListeners.push(e),()=>{this.authStateListeners=this.authStateListeners.filter(t=>t!==e)}}notifyAuthStateListeners(e){this.authStateListeners.forEach(t=>{try{t(e)}catch(a){o.c.error("Errore nel listener auth state",a)}})}async signInWithEmail(e,t){try{o.c.info("Tentativo login con email...");const a=(await Object(r.j)(o.a,e,t)).user;return await this.updateUserLastSeen(a),o.c.success("Login completato",{uid:a.uid}),{success:!0,user:a,error:null}}catch(a){return o.c.error("Errore login email",a),{success:!1,user:null,error:this.handleAuthError(a)}}}async signUpWithEmail(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{o.c.info("Tentativo registrazione con email...");const s=(await Object(r.d)(o.a,e,t)).user;return a&&await Object(r.n)(s,{displayName:a}),await this.createUserDocument(s,{displayName:a}),o.c.success("Registrazione completata",{uid:s.uid}),{success:!0,user:s,error:null}}catch(s){return o.c.error("Errore registrazione email",s),{success:!1,user:null,error:this.handleAuthError(s)}}}async signInWithGoogle(){try{o.c.info("Tentativo login con Google...");const e=(await Object(r.k)(o.a,n)).user;return await this.createUserDocument(e,{displayName:e.displayName,photoURL:e.photoURL,provider:"google"}),o.c.success("Login Google completato",{uid:e.uid}),{success:!0,user:e,error:null}}catch(e){return o.c.error("Errore login Google",e),{success:!1,user:null,error:this.handleAuthError(e)}}}async signOutUser(){try{return o.c.info("Logout utente..."),await Object(r.l)(o.a),o.c.success("Logout completato"),{success:!0,error:null}}catch(e){return o.c.error("Errore logout",e),{success:!1,error:this.handleAuthError(e)}}}async resetPassword(e){try{return o.c.info("Invio reset password..."),await Object(r.i)(o.a,e),o.c.success("Email reset password inviata"),{success:!0,error:null}}catch(t){return o.c.error("Errore reset password",t),{success:!1,error:this.handleAuthError(t)}}}async updateUserPassword(e,t){try{if(!this.currentUser)throw new Error("Nessun utente autenticato");o.c.info("Aggiornamento password...");const a=r.a.credential(this.currentUser.email,e);return await Object(r.h)(this.currentUser,a),await Object(r.m)(this.currentUser,t),o.c.success("Password aggiornata"),{success:!0,error:null}}catch(a){return o.c.error("Errore aggiornamento password",a),{success:!1,error:this.handleAuthError(a)}}}async createUserDocument(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e)try{const a=Object(i.f)(o.b,"users",e.uid);if((await Object(i.h)(a)).exists())await Object(i.p)(a,{lastSeen:Object(i.o)()},{merge:!0}),o.c.info("LastSeen aggiornato");else{const r=Object(s.a)({uid:e.uid,email:e.email,displayName:e.displayName||t.displayName||"Utente",photoURL:e.photoURL||t.photoURL||null,provider:t.provider||"email",createdAt:Object(i.o)(),lastSeen:Object(i.o)(),settings:{units:"metric",language:"it",notifications:!0,darkMode:!1},profile:{age:null,height:null,activityLevel:"moderate",goals:[],experience:"beginner"}},t);await Object(i.p)(a,r),o.c.success("Documento utente creato")}}catch(a){o.c.error("Errore creazione documento utente",a)}}async updateUserLastSeen(e){if(e)try{const t=Object(i.f)(o.b,"users",e.uid);await Object(i.p)(t,{lastSeen:Object(i.o)(),isOnline:!0},{merge:!0})}catch(t){o.c.error("Errore aggiornamento lastSeen",t)}}handleAuthError(e){return{code:e.code,message:{"auth/user-not-found":"Utente non trovato. Verifica l'email inserita.","auth/wrong-password":"Password non corretta. Riprova.","auth/email-already-in-use":"Email gi\xe0 registrata. Prova ad effettuare il login.","auth/weak-password":"Password troppo debole. Usa almeno 6 caratteri.","auth/invalid-email":"Email non valida. Verifica il formato.","auth/user-disabled":"Account disabilitato. Contatta l'assistenza.","auth/too-many-requests":"Troppi tentativi. Riprova pi\xf9 tardi.","auth/network-request-failed":"Errore di connessione. Verifica la rete.","auth/popup-closed-by-user":"Login annullato dall'utente.","auth/cancelled-popup-request":"Popup gi\xe0 aperto. Completa il login.","auth/popup-blocked":"Popup bloccato dal browser. Abilita i popup.","auth/requires-recent-login":"Operazione sensibile. Effettua nuovamente il login."}[e.code]||e.message||"Errore sconosciuto",originalError:e}}isAuthenticated(){return!!this.currentUser}getCurrentUser(){return this.currentUser}async deleteAccount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!this.currentUser)throw new Error("Nessun utente autenticato");if(o.c.warn("Tentativo eliminazione account..."),e){const t=r.a.credential(this.currentUser.email,e);await Object(r.h)(this.currentUser,t)}const t=this.currentUser.uid;return await Object(r.e)(this.currentUser),o.c.warn("Account eliminato",{uid:t}),{success:!0,error:null}}catch(t){return o.c.error("Errore eliminazione account",t),{success:!1,error:this.handleAuthError(t)}}}};t.a=c},16:function(e,t,a){"use strict";a.d(t,"c",function(){return c}),a.d(t,"f",function(){return l}),a.d(t,"a",function(){return u}),a.d(t,"e",function(){return d}),a.d(t,"b",function(){return m}),a.d(t,"d",function(){return p});var s=a(6),r=a(8),i=a(3),o=a(10);class n{constructor(e){this.collectionName=e,this.collectionRef=Object(r.b)(i.b,e),this.cache=new Map,this.listeners=new Map}async getById(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(t&&this.cache.has(e)){const t=this.cache.get(e);if(Date.now()-t.timestamp<3e5)return i.c.info("Cache hit per ".concat(this.collectionName,"/").concat(e)),{success:!0,data:t.data,fromCache:!0}}const a=Object(r.f)(i.b,this.collectionName,e),o=await Object(r.h)(a);if(o.exists()){const a=Object(s.a)({id:o.id},o.data());return t&&this.cache.set(e,{data:a,timestamp:Date.now()}),{success:!0,data:a,fromCache:!1}}return{success:!1,error:"Documento non trovato",data:null}}catch(a){return i.c.error("Errore getById ".concat(this.collectionName),a),{success:!1,error:a.message,data:null}}}async create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var a;const n=null===(a=o.a.getCurrentUser())||void 0===a?void 0:a.uid;if(!n)throw new Error("Utente non autenticato");const c=Object(s.a)(Object(s.a)({},e),{},{userId:n,createdAt:Object(r.o)(),updatedAt:Object(r.o)()});let l;t?(l=Object(r.f)(i.b,this.collectionName,t),await Object(r.p)(l,c)):l=await Object(r.a)(this.collectionRef,c);const u=t||l.id;return this.invalidateCache(),i.c.success("Documento creato in ".concat(this.collectionName),{id:u}),{success:!0,id:u,data:Object(s.a)({id:u},c)}}catch(n){return i.c.error("Errore create ".concat(this.collectionName),n),{success:!1,error:n.message,id:null}}}async update(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{const o=Object(r.f)(i.b,this.collectionName,e),n=Object(s.a)(Object(s.a)({},t),{},{updatedAt:Object(r.o)()});return a?await Object(r.q)(o,n):await Object(r.p)(o,n),this.cache.delete(e),i.c.success("Documento aggiornato in ".concat(this.collectionName),{id:e}),{success:!0,id:e}}catch(o){return i.c.error("Errore update ".concat(this.collectionName),o),{success:!1,error:o.message}}}async delete(e){try{const t=Object(r.f)(i.b,this.collectionName,e);return await Object(r.d)(t),this.cache.delete(e),i.c.success("Documento eliminato da ".concat(this.collectionName),{id:e}),{success:!0}}catch(t){return i.c.error("Errore delete ".concat(this.collectionName),t),{success:!1,error:t.message}}}async getWithQuery(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{const t=Object(r.m)(this.collectionRef,...e),a=await Object(r.i)(t),i=[];return a.forEach(e=>{i.push(Object(s.a)({id:e.id},e.data()))}),{success:!0,data:i,count:i.length}}catch(t){return i.c.error("Errore query ".concat(this.collectionName),t),{success:!1,error:t.message,data:[],count:0}}}subscribeToChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{const a=Object(r.m)(this.collectionRef,...e);return Object(r.k)(a,e=>{const a=[];e.forEach(e=>{a.push(Object(s.a)({id:e.id},e.data()))}),t(a)})}catch(a){return i.c.error("Errore subscription ".concat(this.collectionName),a),()=>{}}}invalidateCache(){this.cache.clear(),i.c.info("Cache invalidata per ".concat(this.collectionName))}}const c=new class extends n{constructor(){super("progress")}async getUserProgress(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=null===(e=o.a.getCurrentUser())||void 0===e?void 0:e.uid;if(!s)return{success:!1,error:"Utente non autenticato",data:[]};const i=[Object(r.r)("userId","==",s),Object(r.l)("date","desc")];return t&&i.push(Object(r.r)("date",">=",t)),a&&i.push(Object(r.r)("date","<=",a)),this.getWithQuery(i)}async addMeasurement(e){const t=Object(s.a)(Object(s.a)({},e),{},{date:e.date||(new Date).toISOString().split("T")[0],type:"measurement"});return this.create(t)}async getPeriodStats(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;if(!(null===(e=o.a.getCurrentUser())||void 0===e?void 0:e.uid))return{success:!1,error:"Utente non autenticato"};const a=new Date,s=new Date(a.getTime()-24*t*60*60*1e3),r=await this.getUserProgress(s.toISOString().split("T")[0],a.toISOString().split("T")[0]);if(r.success&&r.data.length>0){const e=r.data,i=e[0],o=e[e.length-1];return{success:!0,stats:{totalEntries:e.length,weightChange:i.weight-o.weight,muscleMassChange:i.muscleMass-o.muscleMass,bodyFatChange:i.bodyFat-o.bodyFat,averageWeight:e.reduce((e,t)=>e+(t.weight||0),0)/e.length,period:{startDate:s,endDate:a,days:t}}}}return{success:!1,error:"Dati insufficienti per calcolare statistiche"}}},l=new class extends n{constructor(){super("workouts")}async startSession(e){const t=Object(s.a)(Object(s.a)({},e),{},{status:"in_progress",startTime:Object(r.o)(),exercises:e.exercises||[],totalDuration:0});return this.create(t)}async completeSession(e,t){const a=Object(s.a)(Object(s.a)({},t),{},{status:"completed",endTime:Object(r.o)(),completedAt:Object(r.o)()});return this.update(e,a)}async getUserSessions(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;const a=null===(e=o.a.getCurrentUser())||void 0===e?void 0:e.uid;return a?this.getWithQuery([Object(r.r)("userId","==",a),Object(r.l)("createdAt","desc"),t(t)]):{success:!1,error:"Utente non autenticato",data:[]}}async getWorkoutStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;const t=await this.getUserSessions(100);if(!t.success)return t;const a=new Date,s=new Date(a.getTime()-24*e*60*60*1e3),r=t.data.filter(e=>{var t,a;return((null===(t=e.createdAt)||void 0===t||null===(a=t.toDate)||void 0===a?void 0:a.call(t))||new Date(e.createdAt))>=s&&"completed"===e.status}),i=r.length,o=r.reduce((e,t)=>e+(t.totalDuration||0),0),n=i>0?o/i:0,c={};return r.forEach(e=>{var t;null===(t=e.exercises)||void 0===t||t.forEach(e=>{c[e.name]||(c[e.name]={count:0,totalVolume:0}),c[e.name].count++,c[e.name].totalVolume+=e.sets*e.reps*e.weight||0})}),{success:!0,stats:{totalSessions:i,totalDuration:o,averageDuration:n,exerciseStats:c,period:{days:e,startDate:s,endDate:a}}}}},u=new class extends n{constructor(){super("exercises")}async logExercise(e){const t=Object(s.a)(Object(s.a)({},e),{},{date:e.date||(new Date).toISOString().split("T")[0],volume:e.sets*e.reps*e.weight||0,oneRepMax:this.calculateOneRepMax(e.weight,e.reps)});return this.create(t)}calculateOneRepMax(e,t){return!e||!t||t<=0?0:1===t?e:Math.round(e*(1+t/30))}async getPersonalRecords(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const a=null===(e=o.a.getCurrentUser())||void 0===e?void 0:e.uid;if(!a)return{success:!1,error:"Utente non autenticato"};const s=[Object(r.r)("userId","==",a),Object(r.l)("weight","desc")];t&&s.unshift(Object(r.r)("exerciseName","==",t));const i=await this.getWithQuery(s);if(i.success){const e={};return i.data.forEach(t=>{const a=t.exerciseName;(!e[a]||t.weight>e[a].weight)&&(e[a]=t)}),{success:!0,data:Object.values(e)}}return i}},d=new class extends n{constructor(){super("users")}async getCurrentUserProfile(){var e;const t=null===(e=o.a.getCurrentUser())||void 0===e?void 0:e.uid;return t?this.getById(t):{success:!1,error:"Utente non autenticato"}}async updateSettings(e){var t;const a=null===(t=o.a.getCurrentUser())||void 0===t?void 0:t.uid;return a?this.update(a,{settings:e},!0):{success:!1,error:"Utente non autenticato"}}async updateProfile(e){var t;const a=null===(t=o.a.getCurrentUser())||void 0===t?void 0:t.uid;return a?this.update(a,{profile:e},!0):{success:!1,error:"Utente non autenticato"}}},m=new class extends n{constructor(){super("nutrition")}async logMeal(e){const t=Object(s.a)(Object(s.a)({},e),{},{date:e.date||(new Date).toISOString().split("T")[0],completedAt:"completed"===e.status?new Date:null});return this.create(t)}async updateMealStatus(e,t){const a={status:t,notes:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,completedAt:"completed"===t?new Date:null};return this.update(e,a)}async getUserMeals(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=null===(e=o.a.getCurrentUser())||void 0===e?void 0:e.uid;if(!s)return{success:!1,error:"Utente non autenticato",data:[]};const i=[Object(r.r)("userId","==",s),Object(r.l)("date","desc")];return t&&i.push(Object(r.r)("date",">=",t)),a&&i.push(Object(r.r)("date","<=",a)),this.getWithQuery(i)}async getDayMeals(e){var t;const a=null===(t=o.a.getCurrentUser())||void 0===t?void 0:t.uid;return a?this.getWithQuery([Object(r.r)("userId","==",a),Object(r.r)("date","==",e),Object(r.l)("mealType","asc")]):{success:!1,error:"Utente non autenticato",data:[]}}async getNutritionStats(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;if(!(null===(e=o.a.getCurrentUser())||void 0===e?void 0:e.uid))return{success:!1,error:"Utente non autenticato"};const a=new Date,s=new Date(a.getTime()-24*t*60*60*1e3),r=await this.getUserMeals(s.toISOString().split("T")[0],a.toISOString().split("T")[0]);if(!r.success)return r;const i=r.data,n=i.filter(e=>"completed"===e.status),c=i.length,l=c>0?n.length/c*100:0,u=n.reduce((e,t)=>e+(t.proteins||0),0),d=t>0?u/t:0,m=this.calculateNutritionStreak(i);return{success:!0,stats:{totalMeals:c,completedMeals:n.length,adherenceRate:Math.round(l),totalProteins:u,avgProteinsPerDay:Math.round(d),currentStreak:m,period:{startDate:s,endDate:a,days:t}}}}calculateNutritionStreak(e){if(!e.length)return 0;const t={};e.forEach(e=>{t[e.date]||(t[e.date]=[]),t[e.date].push(e)});let a=0;const s=Object.keys(t).sort().reverse();for(const r of s){const e=t[r];if(!(e.filter(e=>"completed"===e.status).length/e.length>=.66))break;a++}return a}},p=new class extends n{constructor(){super("recovery")}async logRecoverySession(e){const t=Object(s.a)(Object(s.a)({},e),{},{date:e.date||(new Date).toISOString().split("T")[0],completedAt:new Date});return this.create(t)}async getUserRecoverySessions(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=null===(e=o.a.getCurrentUser())||void 0===e?void 0:e.uid;if(!s)return{success:!1,error:"Utente non autenticato",data:[]};const i=[Object(r.r)("userId","==",s),Object(r.l)("date","desc")];return t&&i.push(Object(r.r)("date",">=",t)),a&&i.push(Object(r.r)("date","<=",a)),this.getWithQuery(i)}async getDayRecoverySessions(e){var t;const a=null===(t=o.a.getCurrentUser())||void 0===t?void 0:t.uid;return a?this.getWithQuery([Object(r.r)("userId","==",a),Object(r.r)("date","==",e),Object(r.l)("createdAt","desc")]):{success:!1,error:"Utente non autenticato",data:[]}}async getRecoveryStats(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;if(!(null===(e=o.a.getCurrentUser())||void 0===e?void 0:e.uid))return{success:!1,error:"Utente non autenticato"};const a=new Date,s=new Date(a.getTime()-24*t*60*60*1e3),r=await this.getUserRecoverySessions(s.toISOString().split("T")[0],a.toISOString().split("T")[0]);if(!r.success)return r;const i=r.data,n=i.length,c=i.reduce((e,t)=>e+(t.duration||0),0),l=n>0?c/n:0,u={};i.forEach(e=>{const t=e.activityType;u[t]||(u[t]={count:0,totalDuration:0}),u[t].count++,u[t].totalDuration+=e.duration||0});const d=n/Math.ceil(t/7);return{success:!0,stats:{totalSessions:n,totalDuration:c,avgDuration:Math.round(l),weeklyFrequency:Math.round(10*d)/10,activityBreakdown:u,period:{startDate:s,endDate:a,days:t}}}}}},18:function(e,t,a){"use strict";a.d(t,"b",function(){return m}),a.d(t,"a",function(){return p});var s=a(6),r=a(1),i=a(10),o=a(16),n=a(3);const c=new class{constructor(){this.migrationKey="firebase_migration_status",this.backupKey="firebase_migration_backup"}isMigrationCompleted(){try{return"completed"===localStorage.getItem(this.migrationKey)}catch(e){return n.c.error("Errore verifica migrazione",e),!1}}markMigrationCompleted(){try{const e={status:"completed",timestamp:(new Date).toISOString(),version:"1.0.0"};localStorage.setItem(this.migrationKey,"completed"),localStorage.setItem("".concat(this.migrationKey,"_details"),JSON.stringify(e)),n.c.success("Migrazione marcata come completata")}catch(e){n.c.error("Errore marcamento migrazione",e)}}createBackup(){try{const e={timestamp:(new Date).toISOString(),data:{progressData:this.safeGetLocalStorage("progressData"),workoutSessions:this.safeGetLocalStorage("workoutSessions"),exerciseData:this.safeGetLocalStorage("exerciseData"),timeStats:this.safeGetLocalStorage("timeStats"),streakData:this.safeGetLocalStorage("streakData"),personalRecords:this.safeGetLocalStorage("personalRecords"),goals12Week:this.safeGetLocalStorage("goals12Week"),userSettings:this.safeGetLocalStorage("userSettings")}},t=JSON.stringify(e);return t.length>2097152&&n.c.warn("Backup molto grande, compressione necessaria"),localStorage.setItem(this.backupKey,t),n.c.success("Backup creato",{size:"".concat(Math.round(t.length/1024),"KB")}),{success:!0,backup:e}}catch(e){return n.c.error("Errore creazione backup",e),{success:!1,error:e.message}}}safeGetLocalStorage(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return n.c.warn("Errore parsing ".concat(e),t),null}}async migrateAllData(){if(!i.a.isAuthenticated())return{success:!1,error:"Utente non autenticato"};if(this.isMigrationCompleted())return n.c.info("Migrazione gi\xe0 completata"),{success:!0,message:"Migrazione gi\xe0 completata"};const e={startTime:(new Date).toISOString(),steps:[],errors:[],totalItems:0,migratedItems:0};try{n.c.info("\ud83d\ude80 Inizio migrazione dati localStorage \u2192 Firestore"),e.steps.push("Creazione backup...");const t=this.createBackup();if(!t.success)throw new Error("Backup fallito: ".concat(t.error));e.steps.push("Migrazione dati progress...");const a=await this.migrateProgressData();e.totalItems+=a.totalItems,e.migratedItems+=a.migratedItems,a.errors.length>0&&e.errors.push(...a.errors),e.steps.push("Migrazione sessioni workout...");const s=await this.migrateWorkoutSessions();e.totalItems+=s.totalItems,e.migratedItems+=s.migratedItems,s.errors.length>0&&e.errors.push(...s.errors),e.steps.push("Migrazione dati esercizi...");const r=await this.migrateExerciseData();e.totalItems+=r.totalItems,e.migratedItems+=r.migratedItems,r.errors.length>0&&e.errors.push(...r.errors),e.steps.push("Migrazione impostazioni utente...");const i=await this.migrateUserSettings();i.success||e.errors.push("Errore migrazione utente: ".concat(i.error)),e.steps.push("Verifica integrit\xe0 dati...");const o=await this.verifyMigration();return e.verificationPassed=o.success,0===e.errors.length&&o.success?(this.markMigrationCompleted(),e.steps.push("Migrazione completata con successo"),n.c.success("\u2705 Migrazione completata",{totalItems:e.totalItems,migratedItems:e.migratedItems,duration:"".concat(Date.now()-new Date(e.startTime).getTime(),"ms")})):n.c.warn("\u26a0\ufe0f Migrazione completata con errori",{errors:e.errors.length,details:e.errors}),e.endTime=(new Date).toISOString(),e.success=0===e.errors.length,{success:!0,report:e}}catch(t){return e.endTime=(new Date).toISOString(),e.success=!1,e.errors.push("Errore fatale: ".concat(t.message)),n.c.error("\u274c Migrazione fallita",t),{success:!1,error:t.message,report:e}}}async migrateProgressData(){const e=this.safeGetLocalStorage("progressData")||[],t={totalItems:e.length,migratedItems:0,errors:[]};if(0===e.length)return n.c.info("Nessun dato progress da migrare"),t;n.c.info("Migrazione ".concat(e.length," record progress..."));for(const s of e)try{const e=this.cleanProgressData(s);if(!e){t.errors.push("Dato progress non valido: ".concat(JSON.stringify(s)));continue}const a=await o.c.addMeasurement(e);a.success?(t.migratedItems++,n.c.info("Progress migrato: ".concat(e.date))):t.errors.push("Errore migrazione progress: ".concat(a.error)),await this.sleep(50)}catch(a){t.errors.push("Errore progress item: ".concat(a.message))}return n.c.success("Progress migration: ".concat(t.migratedItems,"/").concat(t.totalItems)),t}async migrateWorkoutSessions(){const e=this.safeGetLocalStorage("workoutSessions")||[],t={totalItems:e.length,migratedItems:0,errors:[]};if(0===e.length)return n.c.info("Nessuna sessione workout da migrare"),t;n.c.info("Migrazione ".concat(e.length," sessioni workout..."));for(const s of e)try{const e=this.cleanWorkoutSession(s);if(!e){t.errors.push("Sessione workout non valida: ".concat(JSON.stringify(s)));continue}const a=await o.f.create(e);a.success?(t.migratedItems++,n.c.info("Workout migrato: ".concat(e.date))):t.errors.push("Errore migrazione workout: ".concat(a.error)),await this.sleep(50)}catch(a){t.errors.push("Errore workout session: ".concat(a.message))}return n.c.success("Workout migration: ".concat(t.migratedItems,"/").concat(t.totalItems)),t}async migrateExerciseData(){const e=this.safeGetLocalStorage("exerciseData")||{},t=Object.values(e),a={totalItems:t.length,migratedItems:0,errors:[]};if(0===t.length)return n.c.info("Nessun dato esercizio da migrare"),a;n.c.info("Migrazione ".concat(t.length," record esercizi..."));for(const r of t)try{const e=this.cleanExerciseData(r);if(!e){a.errors.push("Dato esercizio non valido: ".concat(JSON.stringify(r)));continue}const t=await o.a.logExercise(e);t.success?(a.migratedItems++,n.c.info("Esercizio migrato: ".concat(e.exerciseName))):a.errors.push("Errore migrazione esercizio: ".concat(t.error)),await this.sleep(50)}catch(s){a.errors.push("Errore exercise item: ".concat(s.message))}return n.c.success("Exercise migration: ".concat(a.migratedItems,"/").concat(a.totalItems)),a}async migrateUserSettings(){try{const e=this.safeGetLocalStorage("timeStats")||{},t=this.safeGetLocalStorage("goals12Week")||{},a={fitnessStats:e,goals:t,preferences:this.safeGetLocalStorage("userSettings")||{},migratedFrom:"localStorage",migrationDate:(new Date).toISOString()},s=await o.e.updateProfile(a);return s.success?(n.c.success("Impostazioni utente migrate"),{success:!0}):{success:!1,error:s.error}}catch(e){return n.c.error("Errore migrazione impostazioni utente",e),{success:!1,error:e.message}}}cleanProgressData(e){if(!e||"object"!==typeof e)return null;const t={date:e.date||(new Date).toISOString().split("T")[0],weight:this.validateNumber(e.weight,30,300),bodyFat:this.validateNumber(e.bodyFat,1,50),muscleMass:this.validateNumber(e.muscleMass,10,150),chest:this.validateNumber(e.chest,50,200),arms:this.validateNumber(e.arms,20,100),waist:this.validateNumber(e.waist,50,150),thighs:this.validateNumber(e.thighs,30,100),notes:this.validateString(e.notes,1e3)};return Object.keys(t).forEach(e=>{null!==t[e]&&void 0!==t[e]||delete t[e]}),t.weight||t.date?t:null}cleanWorkoutSession(e){return e&&"object"===typeof e?{date:e.date||(new Date).toISOString().split("T")[0],name:this.validateString(e.name||e.workoutName,100),status:["planned","in_progress","completed"].includes(e.status)?e.status:"completed",totalDuration:this.validateNumber(e.totalDuration||e.duration,0,480),exercises:Array.isArray(e.exercises)?e.exercises:[],notes:this.validateString(e.notes,1e3)}:null}cleanExerciseData(e){return e&&"object"===typeof e&&e.exerciseName?{exerciseName:this.validateString(e.exerciseName,100),date:e.date||(new Date).toISOString().split("T")[0],sets:this.validateNumber(e.sets,1,20),reps:this.validateNumber(e.reps,1,100),weight:this.validateNumber(e.weight,0,1e3),rir:this.validateNumber(e.rir,0,10),notes:this.validateString(e.notes,500)}:null}validateNumber(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;const s=parseFloat(e);return!isNaN(s)&&s>=t&&s<=a?s:null}validateString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return"string"!==typeof e?null:e.length<=t?e.trim():e.substring(0,t).trim()}async verifyMigration(){try{var e,t;n.c.info("Verifica integrit\xe0 dati migrati...");const a=await o.c.getUserProgress(),s=await o.f.getUserSessions(10),r=await o.e.getCurrentUserProfile(),i={progress:a.success,workouts:s.success,userProfile:r.success},c=Object.values(i).every(e=>!0===e);return n.c.info("Risultati verifica",i),{success:c,checks:i,details:{progressCount:(null===(e=a.data)||void 0===e?void 0:e.length)||0,workoutCount:(null===(t=s.data)||void 0===t?void 0:t.length)||0,hasUserProfile:!!r.data}}}catch(a){return n.c.error("Errore verifica migrazione",a),{success:!1,error:a.message}}}async rollbackMigration(){try{n.c.warn("\ud83d\udd04 Inizio rollback migrazione...");const e=localStorage.getItem(this.backupKey);if(!e)throw new Error("Nessun backup disponibile per il rollback");const t=JSON.parse(e);return Object.keys(t.data).forEach(e=>{null!==t.data[e]&&localStorage.setItem(e,JSON.stringify(t.data[e]))}),localStorage.removeItem(this.migrationKey),localStorage.removeItem("".concat(this.migrationKey,"_details")),n.c.success("\u2705 Rollback completato"),{success:!0,message:"Dati ripristinati da backup"}}catch(e){return n.c.error("\u274c Errore rollback",e),{success:!1,error:e.message}}}sleep(e){return new Promise(t=>setTimeout(t,e))}getMigrationStatus(){try{const e=localStorage.getItem(this.migrationKey),t=localStorage.getItem("".concat(this.migrationKey,"_details"));return{isCompleted:"completed"===e,status:e,details:t?JSON.parse(t):null,hasBackup:!!localStorage.getItem(this.backupKey)}}catch(e){return n.c.error("Errore stato migrazione",e),{isCompleted:!1,status:"unknown",details:null,hasBackup:!1,error:e.message}}}};var l=c,u=a(0);const d=Object(r.createContext)({}),m=()=>{const e=Object(r.useContext)(d);if(!e)throw new Error("useAuth deve essere utilizzato all'interno di AuthProvider");return e},p=e=>{let{children:t}=e;const[a,o]=Object(r.useState)(null),[c,m]=Object(r.useState)(!0),[p,h]=Object(r.useState)(null),[g,b]=Object(r.useState)({isRequired:!1,inProgress:!1,completed:!1});Object(r.useEffect)(()=>{n.c.info("Inizializzazione AuthProvider...");const e=i.a.onAuthStateChange(async e=>{m(!0),h(null);try{e?(n.c.success("Utente autenticato",{uid:e.uid,email:e.email}),o({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,isAnonymous:e.isAnonymous,createdAt:e.metadata.creationTime,lastLoginAt:e.metadata.lastSignInTime}),await j()):(n.c.info("Utente non autenticato"),o(null),b({isRequired:!1,inProgress:!1,completed:!1}))}catch(p){n.c.error("Errore gestione auth state",p),h("Errore durante l'autenticazione. Riprova.")}finally{m(!1)}});return e},[]);const j=async()=>{try{const e=l.getMigrationStatus(),t=localStorage.getItem("progressData")||localStorage.getItem("workoutSessions")||localStorage.getItem("exerciseData"),a=t&&!e.isCompleted;b({isRequired:a,inProgress:!1,completed:e.isCompleted,details:e}),n.c.info("Status migrazione controllato",{isRequired:a,hasLocalData:t,completed:e.isCompleted})}catch(p){n.c.error("Errore controllo migrazione",p)}},O={user:a,loading:c,error:p,migrationStatus:g,login:async(e,t)=>{m(!0),h(null);try{const a=await i.a.signInWithEmail(e,t);return a.success?(n.c.success("Login completato"),{success:!0,user:a.user}):(h(a.error.message),{success:!1,error:a.error})}catch(p){const t="Errore durante il login. Riprova.";return n.c.error("Errore login wrapper",p),h(t),{success:!1,error:{message:t}}}finally{m(!1)}},register:async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(!0),h(null);try{const s=await i.a.signUpWithEmail(e,t,a);return s.success?(n.c.success("Registrazione completata"),{success:!0,user:s.user}):(h(s.error.message),{success:!1,error:s.error})}catch(p){const t="Errore durante la registrazione. Riprova.";return n.c.error("Errore registrazione wrapper",p),h(t),{success:!1,error:{message:t}}}finally{m(!1)}},loginWithGoogle:async()=>{m(!0),h(null);try{const e=await i.a.signInWithGoogle();return e.success?(n.c.success("Login Google completato"),{success:!0,user:e.user}):(h(e.error.message),{success:!1,error:e.error})}catch(p){const t="Errore durante il login con Google. Riprova.";return n.c.error("Errore Google login wrapper",p),h(t),{success:!1,error:{message:t}}}finally{m(!1)}},logout:async()=>{m(!0),h(null);try{const e=await i.a.signOutUser();return e.success?(n.c.success("Logout completato"),{success:!0}):(h(e.error.message),{success:!1,error:e.error})}catch(p){const t="Errore durante il logout. Riprova.";return n.c.error("Errore logout wrapper",p),h(t),{success:!1,error:{message:t}}}finally{m(!1)}},resetPassword:async e=>{m(!0),h(null);try{const t=await i.a.resetPassword(e);return t.success?(n.c.success("Email reset password inviata"),{success:!0}):(h(t.error.message),{success:!1,error:t.error})}catch(p){const t="Errore invio email reset. Riprova.";return n.c.error("Errore reset password wrapper",p),h(t),{success:!1,error:{message:t}}}finally{m(!1)}},startMigration:async()=>{if(!a||g.inProgress)return{success:!1,error:"Migrazione non possibile al momento"};b(e=>Object(s.a)(Object(s.a)({},e),{},{inProgress:!0}));try{n.c.info("Avvio migrazione dati...");const e=await l.migrateAllData();return e.success?(b({isRequired:!1,inProgress:!1,completed:!0,report:e.report}),n.c.success("Migrazione completata con successo"),{success:!0,report:e.report}):(b(e=>Object(s.a)(Object(s.a)({},e),{},{inProgress:!1})),h("Errore durante la migrazione dati"),{success:!1,error:e.error,report:e.report})}catch(p){return n.c.error("Errore migrazione wrapper",p),b(e=>Object(s.a)(Object(s.a)({},e),{},{inProgress:!1})),h("Errore imprevisto durante la migrazione"),{success:!1,error:p.message}}},skipMigration:()=>{b({isRequired:!1,inProgress:!1,completed:!1,skipped:!0}),n.c.info("Migrazione saltata dall'utente")},isAuthenticated:()=>!!a,hasRole:e=>{var t;return(null===a||void 0===a||null===(t=a.customClaims)||void 0===t?void 0:t[e])||!1},clearError:()=>h(null),authService:i.a,migrationService:l};return Object(u.jsx)(d.Provider,{value:O,children:t})}},27:function(e,t,a){},3:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"b",function(){return m}),a.d(t,"c",function(){return h});var s=a(29),r=a(14),i=a(8),o=a(23),n=a(22);const c={apiKey:"AIzaSyA733m8k7LZPOU968nt_VFk3M1HTBDIMhc",authDomain:"extraordinary-growth-app.firebaseapp.com",projectId:"extraordinary-growth-app",storageBucket:"extraordinary-growth-app.appspot.com",messagingSenderId:"499496713845",appId:"1:499496713845:web:9994c2c58968900b6e823c",measurementId:"G-186E08D9M1"};console.log("\ud83d\udd27 Firebase API Key in uso:",c.apiKey),console.log("\ud83d\udd27 Firebase Project ID:",c.projectId);const l=(e=>{const t=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"].filter(t=>!e[t]||e[t].includes("demo")||e[t].includes("123456"));return t.length>0&&(console.warn("\ud83d\udea8 Firebase Config Warning: Alcune chiavi sembrano essere demo values:",t),console.warn("\ud83d\udccb Per utilizzare Firebase in produzione, sostituisci i valori in .env.local")),e})(c),u=Object(s.a)(l),d=Object(r.f)(u),m=Object(i.j)(u);Object(o.b)(u);let p=null;Object(n.b)().then(e=>{e?(p=Object(n.a)(u),console.log("\ud83d\udcca Firebase Analytics inizializzato")):console.log("\ud83d\udcca Firebase Analytics non supportato in questo ambiente")});Object({NODE_ENV:"production",PUBLIC_URL:"/APP-SPORT",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyA733m8k7LZPUO968nt_VFk3M1HTBDIMhc",REACT_APP_FIREBASE_AUTH_DOMAIN:"extraordinary-growth-app.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"extraordinary-growth-app",REACT_APP_FIREBASE_STORAGE_BUCKET:"extraordinary-growth-app.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"499496713845",REACT_APP_FIREBASE_APP_ID:"1:499496713845:web:9994c2c58968900b6e823c",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-186E08D9M1"}).REACT_APP_USE_FIREBASE_EMULATORS;const h={info:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("\u2139\ufe0f [Firebase] ".concat(e),t||"")},error:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.error("\u274c [Firebase] ".concat(e),t||"")},warn:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.warn("\u26a0\ufe0f [Firebase] ".concat(e),t||"")},success:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;console.log("\u2705 [Firebase] ".concat(e),t||"")}};h.success("Firebase configurato con successo")},36:function(e,t,a){"use strict";a.r(t);var s=a(1),r=a.n(s),i=a(19),o=a.n(i),n=a(15),c=a(7),l=a(18),u=a(6);var d=()=>{const e=[{day:1,quote:"Champions aren't made in the gyms. Champions are made from something deep inside them: a desire, a dream, a vision.",author:"Muhammad Ali",context:"Petto + Bicipiti - Inizia la settimana con la forza del campione"},{day:2,quote:"The cave you fear to enter holds the treasure you seek.",author:"Arnold Schwarzenegger",context:"Dorso + Tricipiti - Affronta la paura, trova la forza"},{day:3,quote:"Strength does not come from physical capacity. It comes from an indomitable will.",author:"Mahatma Gandhi (adattato da Kobe Bryant)",context:"Gambe Complete - La vera forza viene dalla mente"},{day:4,quote:"Recovery is not a sign of weakness, it's a strategy of champions.",author:"LeBron James",context:"Recupero Attivo - Il riposo \xe8 parte della vittoria"},{day:5,quote:"Excellence is not a skill, it's an attitude.",author:"Ralph Marston (filosofia Michael Jordan)",context:"Spalle + Core - L'eccellenza \xe8 una scelta quotidiana"},{day:6,quote:"The body achieves what the mind believes.",author:"Napoleon Hill (ispirato da Serena Williams)",context:"Posteriori + Conditioning - Credi e raggiungerai"},{day:0,quote:"Rest when you're weary. Refresh and renew yourself, your body, your mind, your spirit. Then get back to work.",author:"Ralph Marston",context:"Riposo Completo - Rigenera per dominare"}],t=[{quote:"I don't measure a man's success by how high he climbs but how high he bounces when he hits bottom.",author:"George S. Patton",context:"Per i giorni difficili"},{quote:"The will to win, the desire to succeed, the urge to reach your full potential... these are the keys that will unlock the door to personal excellence.",author:"Confucio (filosofia Kobe Bryant)",context:"Quando manca la motivazione"},{quote:"Pain is temporary. Quitting lasts forever.",author:"Lance Armstrong",context:"Durante l'allenamento intenso"},{quote:"You have power over your mind - not outside events. Realize this, and you will find strength.",author:"Marcus Aurelius (filosofia Tom Brady)",context:"Controllo mentale"},{quote:"The brick walls are there for a reason. The brick walls are not there to keep us out. The brick walls are there to give us a chance to show how badly we want something.",author:"Randy Pausch (mentalit\xe0 Cristiano Ronaldo)",context:"Superare gli ostacoli"}];return{getTodayQuote:()=>{const t=(new Date).getDay();return e.find(e=>e.day===t)||e[0]},getRandomAdditionalQuote:()=>t[Math.floor(Math.random()*t.length)],legendaryQuotes:e,additionalQuotes:t}};var m=()=>{const[e,t]=r.a.useState(new Date),[a,s]=r.a.useState({}),[i,o]=r.a.useState({}),n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;const s=e.getMonth(),r=e.getFullYear(),i=Object.keys(t).filter(e=>{const a=new Date(e);return a.getMonth()===s&&a.getFullYear()===r&&t[e].completed}).length,n=c(t),u=l(t),m=d(t);o({monthlyWorkouts:i,currentStreak:n,longestStreak:u,weeklyAverage:m,lastUpdated:new Date})},c=e=>{const t=new Date;let a=0,s=new Date(t);for(;s;){const r=s.toISOString().split("T")[0];if(e[r]&&e[r].completed)a++,s.setDate(s.getDate()-1);else{if(0!==a||s.toDateString()!==t.toDateString())break;s.setDate(s.getDate()-1)}if(a>365)break}return a},l=e=>{let t=0,a=0;const s=Object.keys(e).filter(t=>e[t].completed).sort();for(let r=0;r<s.length;r++)if(0===r)a=1;else{const e=new Date(s[r-1]);1===(new Date(s[r])-e)/864e5?a++:(t=Math.max(t,a),a=1)}return Math.max(t,a)},d=e=>{const t=new Date;t.setDate(t.getDate()-28);return(Object.keys(e).filter(a=>new Date(a)>=t&&e[a].completed).length/4).toFixed(1)};r.a.useEffect(()=>{(()=>{const e=localStorage.getItem("streakData");e&&s(JSON.parse(e))})()},[]),r.a.useEffect(()=>{n()},[a,e]);return{currentDate:e,streakData:a,monthlyStats:i,markWorkoutCompleted:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const i=e.toISOString().split("T")[0],o=Object(u.a)(Object(u.a)({},a),{},{[i]:{completed:!0,workoutType:t,exercises:r,timestamp:(new Date).toISOString()}});var c;c=o,localStorage.setItem("streakData",JSON.stringify(c)),s(c),n(o)},getDaysInMonth:e=>{const t=e.getFullYear(),s=e.getMonth(),r=new Date(t,s,1),i=new Date(t,s+1,0).getDate(),o=r.getDay(),n=[];for(let a=0;a<o;a++)n.push(null);for(let c=1;c<=i;c++){const e=new Date(t,s,c),r=e.toISOString().split("T")[0];n.push({date:e,day:c,isCompleted:a[r]&&a[r].completed,workoutType:a[r]?a[r].workoutType:null,isToday:e.toDateString()===(new Date).toDateString()})}return n},navigateMonth:a=>{const s=new Date(e);s.setMonth(s.getMonth()+a),t(s)},getStreakColor:e=>e>=30?"#ff006e":e>=21?"#ff9500":e>=14?"#00ff88":e>=7?"#00ffff":"#ffffff",getWorkoutTypeEmoji:e=>({"Petto + Bicipiti":"\ud83d\udcaa","Dorso + Tricipiti + Collo (A)":"\ud83c\udfcb\ufe0f","Gambe Complete":"\ud83e\uddb5","Recupero Attivo":"\ud83e\uddd8","Spalle Complete + Collo (B)":"\ud83d\udcab","Posteriori + Conditioning":"\ud83d\udd25","Riposo Completo":"\ud83d\ude34"}[e]||"\ud83d\udcaa"),monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayNames:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],calculateCurrentStreak:()=>c(a)}};var p=()=>{const[e,t]=r.a.useState({}),[a,s]=r.a.useState({}),[i,o]=r.a.useState({}),n=(e,t,a)=>{const s=c(t,a),r=i[e]||{weight:0,reps:0,oneRepMax:0,date:null};if(s>r.oneRepMax||t>r.weight&&a>=r.reps){const c=Object(u.a)(Object(u.a)({},i),{},{[e]:{weight:parseFloat(t),reps:parseInt(a),oneRepMax:s,date:(new Date).toISOString(),previousRecord:r.oneRepMax}});return n=c,localStorage.setItem("personalRecords",JSON.stringify(n)),o(n),!0}var n;return!1},c=(e,t)=>Math.round(e*(1+t/30)),l=t=>{const a=(new Date).toISOString().split("T")[0],r=Object.values(e).filter(e=>e.date===a&&e.completed);s(e=>Object(u.a)(Object(u.a)({},e),{},{[t]:!0,totalCompleted:r.length+1}))},d=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Object.values(e).filter(e=>e.exerciseName===t).sort((e,t)=>new Date(t.date)-new Date(e.date)).slice(0,a)},m=t=>{const a=(new Date).toISOString().split("T")[0];return Object.values(e).some(e=>e.exerciseName===t&&e.date===a&&e.completed)};return r.a.useEffect(()=>{(()=>{const e=localStorage.getItem("exerciseData");e&&t(JSON.parse(e));const a=localStorage.getItem("personalRecords");a&&o(JSON.parse(a))})()},[]),{exerciseData:e,sessionProgress:a,personalRecords:i,markExerciseCompleted:function(a,s,r,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const d=(new Date).toISOString().split("T")[0],m="".concat(a,"_").concat(d),p={id:m,exerciseName:a,date:d,sets:parseInt(s),reps:parseInt(r),weight:parseFloat(i),notes:o,rir:c,timestamp:(new Date).toISOString(),completed:!0},h=Object(u.a)(Object(u.a)({},e),{},{[m]:p});var g;return g=h,localStorage.setItem("exerciseData",JSON.stringify(g)),t(g),n(a,i,r),l(a),p},getExerciseHistory:d,getTodayProgress:t=>{const a=(new Date).toISOString().split("T")[0],s=Object.values(e).filter(e=>e.date===a&&e.completed).length,r=t?t.length:0;return{completed:s,total:r,percentage:r>0?Math.round(s/r*100):0,remaining:Math.max(0,r-s)}},getWeeklyStats:()=>{const t=new Date;t.setDate(t.getDate()-7);const a=Object.values(e).filter(e=>new Date(e.date)>=t&&e.completed),s=a.reduce((e,t)=>e+t.sets,0),r=a.reduce((e,t)=>e+t.sets*t.reps,0),i=a.reduce((e,t)=>e+t.weight*t.sets*t.reps,0),o=new Set(a.map(e=>e.exerciseName)).size;return{sessions:a.length,totalSets:s,totalReps:r,totalVolume:Math.round(i),uniqueExercises:o,averageWeight:a.length>0?Math.round(a.reduce((e,t)=>e+t.weight,0)/a.length):0}},getMonthlyProgress:()=>{const t=new Date;t.setMonth(t.getMonth()-1);const a=Object.values(e).filter(e=>new Date(e.date)>=t&&e.completed),s=new Set(a.map(e=>e.date)).size,r=a.reduce((e,t)=>e+t.weight*t.sets*t.reps,0);return{workoutDays:s,totalExercises:a.length,totalVolume:Math.round(r),averageVolume:s>0?Math.round(r/s):0}},isExerciseCompletedToday:m,getExerciseProgressColor:e=>{var t;if(m(e))return"#00ff88";const a=d(e,3);if(0===a.length)return"#ffffff";const s=(null===(t=a[0])||void 0===t?void 0:t.weight)||0,r=a.reduce((e,t)=>e+t.weight,0)/a.length;return s>1.05*r?"#ff9500":s<.95*r?"#ff006e":"#00ffff"},updatePersonalRecord:n,calculateOneRepMax:c}};var h=()=>{const[e,t]=r.a.useState({}),[a,s]=r.a.useState({}),i={creatine:{name:"Creatina Monoidrato",dosage:"3-5g",timing:"Post-workout o qualsiasi momento",evidence:"A+ (Oltre 500 studi)",benefits:["\u2191 Forza 5-15%","\u2191 Potenza esplosiva","\u2191 Volume allenamento","\u2191 Massa muscolare"],mechanism:"Rigenera ATP per contrazioni muscolari ad alta intensit\xe0",notes:"Loading non necessario. Consistenza > timing. Funziona meglio con carboidrati.",color:"#00ff88",icon:"\ud83d\udcaa"},citrulline:{name:"L-Citrullina Malato",dosage:"6-8g",timing:"30-45min pre-workout",evidence:"A (Multipli RCT)",benefits:["\u2191 Pump muscolare","\u2191 Resistenza","\u2193 DOMS","\u2191 Ossido nitrico"],mechanism:"Precursore arginina \u2192 NO \u2192 vasodilatazione",notes:"Pi\xf9 efficace della L-Arginina. Sinergia con caffeina.",color:"#ff9500",icon:"\ud83d\udd25"},betaAlanine:{name:"Beta-Alanina",dosage:"3-5g",timing:"Divisa in 2-3 dosi giornaliere",evidence:"A (Evidenza consolidata)",benefits:["\u2191 Resistenza muscolare","\u2193 Fatica 1-4 min sforzo","\u2191 Volume alto-rep"],mechanism:"Aumenta carnosina muscolare \u2192 buffer acido lattico",notes:"Loading 2-4 settimane. Possibile parestesia (innocua).",color:"#00ffff",icon:"\u26a1"},omega3:{name:"Omega-3 EPA/DHA",dosage:"2-3g EPA+DHA",timing:"Con pasti contenenti grassi",evidence:"A+ (Migliaia di studi)",benefits:["\u2193 Infiammazione","\u2191 Recupero","\u2191 Sintesi proteica","\u2191 Salute cardiovascolare"],mechanism:"Modulazione cascata infiammatoria e membrane cellulari",notes:"Ratio EPA:DHA 2:1 ottimale. Qualit\xe0 > quantit\xe0.",color:"#0099ff",icon:"\ud83d\udc1f"},caffeine:{name:"Caffeina",dosage:"200-400mg",timing:"30-45min pre-workout",evidence:"A+ (Gold standard)",benefits:["\u2191 Focus","\u2191 Energia","\u2191 Performance","\u2191 Metabolismo grassi"],mechanism:"Antagonista adenosina \u2192 vigilanza + mobilizzazione grassi",notes:"Tolleranza sviluppa rapidamente. Ciclare 1-2 settimane ogni mese.",color:"#8B4513",icon:"\u2615"},vitaminD:{name:"Vitamina D3",dosage:"2000-4000 IU",timing:"Con pasto contenente grassi",evidence:"A (Critico se carente)",benefits:["\u2191 Testosterone","\u2191 Forza","\u2191 Salute ossea","\u2191 Sistema immunitario"],mechanism:"Regolazione ormonale e assorbimento calcio",notes:"Test ematico raccomandato. Target: 30-50 ng/mL.",color:"#FFD700",icon:"\u2600\ufe0f"}},o=e=>{const t=(new Date).toISOString().split("T")[0],s="".concat(e,"_").concat(t);return a[s]&&a[s].taken};return r.a.useEffect(()=>{(()=>{const e=(new Date).toISOString().split("T")[0],t=localStorage.getItem("supplementsTakenToday");if(t){const a=JSON.parse(t),r={};Object.keys(a).forEach(t=>{t.includes(e)&&(r[t]=a[t])}),s(r)}})()},[]),{evidenceBasedSupplements:i,removedSupplements:{hmb:"Scarsa evidenza per atleti allenati. Solo utile per anziani/principianti.",forskolin:"Studi inconsistenti. Nessun beneficio provato su composizione corporea.",rAla:"Evidenza limitata. Costo-beneficio sfavorevole vs omega-3.",bcaa:"Inutili se assumi proteine complete. Whey protein superiore.",glutamine:"Non ergogenica in soggetti sani. Solo utile in immunodepressione."},takenToday:a,markSupplementTaken:(e,t,r)=>{const i=(new Date).toISOString().split("T")[0],o="".concat(e,"_").concat(i),n=Object(u.a)(Object(u.a)({},a),{},{[o]:{supplement:e,dosage:t,timing:r,timestamp:(new Date).toISOString(),taken:!0}});s(n),localStorage.setItem("supplementsTakenToday",JSON.stringify(n));const c=JSON.parse(localStorage.getItem("supplementsHistory")||"{}");c[o]=n[o],localStorage.setItem("supplementsHistory",JSON.stringify(c))},isSupplementTakenToday:o,getSupplementProgress:()=>{const e=Object.keys(i).length,t=Object.keys(i).filter(e=>o(e)).length;return{taken:t,total:e,percentage:Math.round(t/e*100)}},getWeeklySupplementStats:()=>{const e=JSON.parse(localStorage.getItem("supplementsHistory")||"{}"),t=new Date;t.setDate(t.getDate()-7);const a=Object.values(e).filter(e=>new Date(e.timestamp)>=t),s={};return Object.keys(i).forEach(e=>{const t=a.filter(t=>t.supplement===e);s[e]={taken:t.length,percentage:Math.round(t.length/7*100)}}),s},getOptimalTiming:e=>{const t=e.getHours(),a=[];t>=6&&t<=10&&(a.push({supplement:"vitaminD",reason:"Assorbimento ottimale con prima colazione"}),a.push({supplement:"omega3",reason:"Con grassi della colazione per biodisponibilit\xe0"}));return 17===t&&(a.push({supplement:"caffeine",reason:"30-45min prima allenamento per picco energetico"}),a.push({supplement:"citrulline",reason:"Pre-workout per pump e resistenza"})),19===t&&a.push({supplement:"creatine",reason:"Post-workout con carboidrati per uptake"}),t>=20&&a.push({supplement:"betaAlanine",reason:"Loading serale per evitare parestesia diurna"}),a},createSupplementPlan:(e,t)=>({core:["creatine","omega3","vitaminD"],performance:["caffeine","citrulline"],endurance:["betaAlanine"],timing:{morning:["vitaminD","omega3"],preWorkout:["caffeine","citrulline"],postWorkout:["creatine"],evening:["betaAlanine"]}})}};var g=()=>{const[e,t]=r.a.useState({}),[a,s]=r.a.useState({}),i={sauna:{name:"Sauna Finlandese",temperature:"80-100\xb0C",humidity:"10-20%",duration:"15-20 min",timing:"Immediatamente post-workout",mechanism:"Heat Shock Proteins \u2192 Anabolismo + Cardiovascolare",benefits:["\u2191 Growth Hormone 24x","\u2191 Heat Shock Proteins (riparazione)","\u2191 Vasodilatazione (nutrienti muscolari)","\u2191 Eliminazione metaboliti"],protocol:["5-10 min iniziali per adattamento","2-3 sessioni da 15-20 min","Pause 2-3 min aria fresca tra sessioni","Idratazione: 500ml acqua + elettroliti"],precautions:["Mai subito dopo pasti abbondanti","Stop se nausea/vertigini/palpitazioni","Controindicato: ipertensione non controllata"],scientificEvidence:"A+ (Rhonda Patrick, Joyner studies)",color:"#ff6b35",icon:"\ud83d\udd25"},steamRoom:{name:"Bagno Turco",temperature:"40-50\xb0C",humidity:"90-100%",duration:"10-15 min",timing:"Giorni rest per mobilit\xe0/relax",mechanism:"Umidit\xe0 \u2192 Idratazione tessuti + Mobilit\xe0 articolare",benefits:["\u2191 Mobilit\xe0 articolare","\u2191 Idratazione tessuto connettivo","\u2193 Rigidit\xe0 muscolare","\u2191 Eliminazione tossine via pelle"],protocol:["10-15 min sessione unica","Respirazione profonda (vapori benefici)","Stretching dolce durante sessione","Doccia fredda finale (contrasto)"],precautions:["Attenzione claustrofobia","Igiene: sempre su asciugamano","Idratazione pre/post obbligatoria"],scientificEvidence:"B+ (Benefici mobilit\xe0 documentati)",color:"#4ecdc4",icon:"\ud83d\udca8"},iceBath:{name:"Crioterapia (Ice Bath)",temperature:"8-12\xb0C",humidity:"N/A",duration:"10-15 min",timing:"SOLO \u22654h post-workout (mai prima)",mechanism:"Vasocostrizione \u2192 Recovery neurologico + Anti-infiammatorio",benefits:["\u2193 Infiammazione acuta","\u2191 Recovery Sistema Nervoso","\u2191 Resilienza mentale","\u2193 Percezione fatica"],protocol:["Graduale: inizia 15\xb0C \u2192 10\xb0C \u2192 8\xb0C","2-3 min prime volte \u2192 10-15 min target","Respirazione controllata (Wim Hof)","Riscaldamento graduale post-immersione"],precautions:["MAI nelle 4h post-workout (blocca adattamenti)","Controindicato: problemi cardiaci","Supervisione iniziale raccomandata"],scientificEvidence:"A- (Timing critico per efficacia)",color:"#74b9ff",icon:"\ud83e\uddca"}};return r.a.useEffect(()=>{(()=>{const e=localStorage.getItem("recoveryLog");e&&t(JSON.parse(e));const a=(new Date).toISOString().split("T")[0],r=Object.values(JSON.parse(e||"{}")).filter(e=>e.date===a);s({sessions:r,totalTime:r.reduce((e,t)=>e+t.duration,0)})})()},[]),{thermoTherapyProtocols:i,contrastTherapy:{name:"Terapia Contrasto (Hot/Cold)",protocol:["Sauna 15 min (80-90\xb0C)","Doccia fredda 1 min (15\xb0C)","Ripeti ciclo 3-4 volte","Termina sempre con freddo"],benefits:["Pump vascolare (vasodilatazione/costrizione)","Massimo stimolo circolatorio","Recovery accelerata","Resilienza termica"],timing:"Post-workout giorni intensi",scientificEvidence:"A (Scandinavian protocols)",color:"#fd79a8",icon:"\ud83c\udf21\ufe0f"},optimalTiming:{postWorkout:{immediate:["sauna"],after2h:["steamRoom","contrastTherapy"],after4h:["iceBath"],nextMorning:["sauna leggera","steamRoom"]},restDays:{morning:["steamRoom","sauna leggera"],evening:["iceBath","contrastTherapy"]},competition:{before:"Evitare ice bath 48h prima",after:"Full protocol per recovery rapido"}},biohacking:{breathwork:{name:"Wim Hof Method",protocol:"30 respiri profondi \u2192 apnea \u2192 ripeti 3 cicli",benefits:"Adattamento stress termico + controllo SNA",timing:"Pre ice bath o standalone"},supplements:{preSauna:"Magnesio 400mg (vasodilatazione)",preIceBath:"L-Theanina 200mg (calma mentale)",postBoth:"Elettroliti + Vitamina C"},monitoring:{heartRate:"HRV pre/post per valutare recovery",bodyTemp:"Termometro infrarossi per tracking",subjective:"Scale 1-10 per energia/dolori"}},recoveryLog:e,todayRecovery:a,markRecoverySession:(r,i,o,n,c)=>{const l=(new Date).toISOString().split("T")[0],d="".concat(r,"_").concat(Date.now()),m={id:d,date:l,therapy:r,duration:parseInt(i),temperature:parseFloat(o),notes:n,effectiveness:parseInt(c),timestamp:(new Date).toISOString()},p=Object(u.a)(Object(u.a)({},e),{},{[d]:m});t(p),localStorage.setItem("recoveryLog",JSON.stringify(p));const h=Object.values(p).filter(e=>e.date===l);s(Object(u.a)(Object(u.a)({},a),{},{sessions:h,totalTime:h.reduce((e,t)=>e+t.duration,0)}))},getRecoveryRecommendation:(e,t,a)=>{const s=[],r=e?(new Date-new Date(e))/36e5:24;return r<2?s.push({therapy:"sauna",priority:"Alta",reason:"Finestra anabolica ottimale per heat shock proteins"}):r>=4&&s.push({therapy:"iceBath",priority:"Media",reason:"Recovery Sistema Nervoso senza interferire adattamenti"}),t>=8&&s.push({therapy:"contrastTherapy",priority:"Alta",reason:"Recovery accelerata per sessioni ad alta intensit\xe0"}),a>=7&&s.push({therapy:"steamRoom",priority:"Media",reason:"Relax parasimpatico per gestione stress"}),s},getRecoveryStats:()=>{const t=Object.values(e).filter(e=>{const t=new Date(e.date),a=new Date;return a.setDate(a.getDate()-7),t>=a}),a={totalSessions:t.length,totalTime:t.reduce((e,t)=>e+t.duration,0),averageEffectiveness:t.length>0?Math.round(t.reduce((e,t)=>e+t.effectiveness,0)/t.length):0,therapyBreakdown:{}};return Object.keys(i).forEach(e=>{const s=t.filter(t=>t.therapy===e);a.therapyBreakdown[e]={sessions:s.length,time:s.reduce((e,t)=>e+t.duration,0)}}),a}}},b=a(0);var j=()=>{const e=d(),t=m(),a=p(),s=h(),i=g(),[o,c]=r.a.useState({currentWeight:0,muscleGain:0,workoutSessions:0,totalWorkoutTime:0,weeklyTime:0,daysActive:0,lastWorkout:null,currentStreak:0}),[l,j]=r.a.useState(null),[O,v]=r.a.useState({startWeight:75,targetWeight:80,targetBench:100,targetSquat:140,targetDeadlift:160,startDate:new Date,weeksCompleted:0}),f=()=>{var e;const a=JSON.parse(localStorage.getItem("progressData")||"[]"),s=JSON.parse(localStorage.getItem("timeStats")||"{}"),r=JSON.parse(localStorage.getItem("workoutSessions")||"[]"),i=JSON.parse(localStorage.getItem("goals12Week")||"{}"),o=a[0],n=a[a.length-1],l=new Date,d=new Date(l.getTime()-6048e5);r.filter(e=>new Date(e.date)>=d);if(c({currentWeight:(null===o||void 0===o?void 0:o.weight)||i.startWeight||75,muscleGain:o&&n?parseFloat(o.muscleMass)-parseFloat(n.muscleMass):0,workoutSessions:r.length,totalWorkoutTime:s.totalWorkoutTime||0,weeklyTime:s.weeklyTime||0,daysActive:new Set(r.map(e=>e.date.split("T")[0])).size,lastWorkout:(null===(e=r[0])||void 0===e?void 0:e.date)||null,currentStreak:t.calculateCurrentStreak()}),j({1:{name:"Petto + Bicipiti",exercises:7,focus:"Upper Power"},2:{name:"Dorso + Tricipiti + Collo (A)",exercises:10,focus:"Pull Strength"},3:{name:"Gambe Complete",exercises:7,focus:"Lower Power"},4:{name:"Recupero Attivo",exercises:3,focus:"Recovery"},5:{name:"Spalle Complete + Collo (B)",exercises:13,focus:"Delts 3D"},6:{name:"Posteriori + Conditioning",exercises:7,focus:"Athletic"},0:{name:"Riposo Completo",exercises:4,focus:"Rest"}}[(new Date).getDay()]),i.startDate){const e=Math.floor((l-new Date(i.startDate))/6048e5);v(Object(u.a)(Object(u.a)({},i),{},{weeksCompleted:e}))}},x=e.getTodayQuote(),y=a.getTodayProgress(null===l||void 0===l?void 0:l.exercises),S=s.getSupplementProgress(),w=a.getWeeklyStats(),N=i.getRecoveryStats();return r.a.useEffect(()=>{f()},[]),Object(b.jsxs)("div",{className:"dashboard",children:[Object(b.jsxs)("header",{className:"dashboard-header",children:[Object(b.jsx)("h1",{children:"\ud83c\udfc6 FISICO DELLA MADONNA"}),Object(b.jsx)("p",{className:"tagline",children:"\"L'eccellenza non \xe8 un atto, ma un'abitudine\" - Aristotele"})]}),Object(b.jsx)("div",{className:"daily-motivation",children:Object(b.jsxs)("div",{className:"quote-card",children:[Object(b.jsx)("h3",{children:"\ud83d\udcad Frase del Giorno"}),Object(b.jsxs)("blockquote",{children:['"',x.quote,'"',Object(b.jsxs)("footer",{children:["\u2014 ",x.author]})]}),Object(b.jsx)("p",{className:"quote-context",children:x.context})]})}),Object(b.jsxs)("div",{className:"today-workout-preview",children:[Object(b.jsxs)("h3",{children:["\ud83c\udfaf Oggi: ",null===l||void 0===l?void 0:l.name]}),Object(b.jsxs)("div",{className:"workout-quick-stats",children:[Object(b.jsx)("span",{className:"workout-focus",children:null===l||void 0===l?void 0:l.focus}),Object(b.jsxs)("span",{className:"workout-exercises",children:[null===l||void 0===l?void 0:l.exercises," esercizi"]}),Object(b.jsxs)("span",{className:"workout-progress ".concat(100===y.percentage?"completed":""),children:[y.completed,"/",y.total," completati (",y.percentage,"%)"]})]}),Object(b.jsx)("div",{className:"progress-bar",children:Object(b.jsx)("div",{className:"progress-fill",style:{width:"".concat(y.percentage,"%")}})}),Object(b.jsx)(n.b,{to:"/workout",className:"start-workout-btn",children:0===y.percentage?"\ud83d\ude80 INIZIA WORKOUT":100===y.percentage?"\u2705 COMPLETATO":"\u25b6\ufe0f CONTINUA WORKOUT"})]}),Object(b.jsxs)("div",{className:"streak-calendar-mini",children:[Object(b.jsx)("h3",{children:"\ud83d\udcc5 Calendario Streak"}),Object(b.jsx)("div",{className:"calendar-grid",children:t.getDaysInMonth(t.currentDate).slice(-7).map((e,a)=>Object(b.jsxs)("div",{className:"calendar-day-mini ".concat(null!==e&&void 0!==e&&e.isCompleted?"completed":null!==e&&void 0!==e&&e.isToday?"today":""),children:[Object(b.jsx)("span",{className:"day-number",children:(null===e||void 0===e?void 0:e.day)||""}),(null===e||void 0===e?void 0:e.isCompleted)&&Object(b.jsx)("span",{className:"workout-emoji",children:t.getWorkoutTypeEmoji(e.workoutType)})]},a))}),Object(b.jsxs)("div",{className:"streak-stats",children:[Object(b.jsxs)("span",{className:"current-streak",style:{color:t.getStreakColor(o.currentStreak)},children:["\ud83d\udd25 ",o.currentStreak," giorni"]}),Object(b.jsxs)("span",{className:"monthly-total",children:["\ud83d\udcca ",t.monthlyStats.monthlyWorkouts||0," questo mese"]})]})]}),Object(b.jsxs)("div",{className:"performance-dashboard",children:[Object(b.jsx)("h3",{children:"\u26a1 Performance Overview"}),Object(b.jsxs)("div",{className:"perf-grid",children:[Object(b.jsxs)("div",{className:"perf-card strength",children:[Object(b.jsx)("h4",{children:"\ud83d\udcaa Forza"}),Object(b.jsxs)("p",{className:"perf-value",children:[w.totalVolume||0,"kg"]}),Object(b.jsx)("p",{className:"perf-label",children:"Volume Settimanale"})]}),Object(b.jsxs)("div",{className:"perf-card volume",children:[Object(b.jsx)("h4",{children:"\ud83c\udfcb\ufe0f Volume"}),Object(b.jsx)("p",{className:"perf-value",children:w.totalSets||0}),Object(b.jsx)("p",{className:"perf-label",children:"Serie Settimanali"})]}),Object(b.jsxs)("div",{className:"perf-card consistency",children:[Object(b.jsx)("h4",{children:"\ud83c\udfaf Consistenza"}),Object(b.jsxs)("p",{className:"perf-value",children:[Math.round(o.currentStreak/30*100),"%"]}),Object(b.jsx)("p",{className:"perf-label",children:"Streak Rate"})]}),Object(b.jsxs)("div",{className:"perf-card supplements",children:[Object(b.jsx)("h4",{children:"\ud83d\udc8a Stack"}),Object(b.jsxs)("p",{className:"perf-value",children:[S.percentage,"%"]}),Object(b.jsx)("p",{className:"perf-label",children:"Integratori Oggi"})]})]})]}),Object(b.jsxs)("div",{className:"goals-progress",children:[Object(b.jsx)("h3",{children:"\ud83c\udfaf Obiettivi 12 Settimane"}),Object(b.jsxs)("div",{className:"goals-grid",children:[Object(b.jsxs)("div",{className:"goal-item",children:[Object(b.jsx)("h4",{children:"Peso Target"}),Object(b.jsx)("div",{className:"goal-bar",children:Object(b.jsx)("div",{className:"goal-progress",style:{width:"".concat(Math.min(100,(o.currentWeight-O.startWeight)/(O.targetWeight-O.startWeight)*100),"%")}})}),Object(b.jsxs)("p",{children:[o.currentWeight,"kg \u2192 ",O.targetWeight,"kg"]})]}),Object(b.jsxs)("div",{className:"goal-item",children:[Object(b.jsx)("h4",{children:"Settimane"}),Object(b.jsx)("div",{className:"goal-bar",children:Object(b.jsx)("div",{className:"goal-progress",style:{width:"".concat(Math.min(100,O.weeksCompleted/12*100),"%")}})}),Object(b.jsxs)("p",{children:[O.weeksCompleted,"/12 settimane"]})]})]})]}),Object(b.jsxs)("nav",{className:"quick-actions",children:[Object(b.jsxs)(n.b,{to:"/workout",className:"action-card workout",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83c\udfcb\ufe0f"}),Object(b.jsx)("h4",{children:"Workout"}),Object(b.jsx)("p",{children:"Inizia sessione"})]}),Object(b.jsxs)(n.b,{to:"/progress",className:"action-card progress",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83d\udcc8"}),Object(b.jsx)("h4",{children:"Progressi"}),Object(b.jsx)("p",{children:"Traccia misure"})]}),Object(b.jsxs)(n.b,{to:"/nutrition-tracker",className:"action-card nutrition",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83e\udd57"}),Object(b.jsx)("h4",{children:"Dieta"}),Object(b.jsx)("p",{children:"Finestra 8-16"})]}),Object(b.jsxs)(n.b,{to:"/recovery-timer",className:"action-card recovery-timer",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83d\udd25"}),Object(b.jsx)("h4",{children:"Recovery"}),Object(b.jsx)("p",{children:"Timer sauna/ice"})]}),Object(b.jsxs)(n.b,{to:"/supplements",className:"action-card supplements",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83d\udc8a"}),Object(b.jsx)("h4",{children:"Integratori"}),Object(b.jsxs)("p",{children:[S.taken,"/",S.total," presi"]})]}),Object(b.jsxs)(n.b,{to:"/recovery",className:"action-card recovery",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83e\uddd8"}),Object(b.jsx)("h4",{children:"Recovery Info"}),Object(b.jsxs)("p",{children:[N.totalTime||0,"min oggi"]})]}),Object(b.jsxs)(n.b,{to:"/analytics",className:"action-card analytics",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83d\udcca"}),Object(b.jsx)("h4",{children:"Analytics"}),Object(b.jsx)("p",{children:"Grafici avanzati"})]})]}),Object(b.jsxs)("div",{className:"legend-mindset",children:[Object(b.jsx)("h3",{children:"\ud83d\udc51 Mentalit\xe0 da Leggenda"}),Object(b.jsxs)("p",{className:"mindset-text",children:['"I campioni non nascono in palestra. I campioni nascono da qualcosa di pi\xf9 profondo:',Object(b.jsx)("strong",{children:"un desiderio, un sogno, una visione."}),' Tu hai tutto questo. Oggi \xe8 il giorno per dimostrarlo."']}),Object(b.jsxs)("div",{className:"power-stats",children:[Object(b.jsxs)("span",{children:["\ud83d\udc80 Disciplina: ",Math.min(100,3*o.currentStreak),"%"]}),Object(b.jsxs)("span",{children:["\u26a1 Intensit\xe0: ",Math.min(100,20*(w.sessions||0)),"%"]}),Object(b.jsxs)("span",{children:["\ud83d\udd25 Dedizione: ",Math.min(100,8*(O.weeksCompleted||0)),"%"]})]})]})]})};var O=e=>{let{onSessionComplete:t}=e;const[a,s]=r.a.useState(!1),[i,o]=r.a.useState(""),[n,c]=r.a.useState(0),[l,u]=r.a.useState(0),[d,m]=r.a.useState([]),[p,h]=r.a.useState(0);r.a.useEffect(()=>{let e=null;return a?e=setInterval(()=>{c(e=>e+1),u(e=>e+1)},1e3):a||0===n||clearInterval(e),()=>clearInterval(e)},[a,n]);const g=()=>{if(i&&l>0){const e={name:i,duration:l,timestamp:(new Date).toISOString()};m([...d,e])}o(""),u(0),h(e=>e+1)},j=e=>{const t=new Date;return t.setDate(t.getDate()-7),e.filter(e=>new Date(e.date)>=t).reduce((e,t)=>e+Math.floor(t.duration/60),0)},O=e=>{const t=new Date;return t.setMonth(t.getMonth()-1),e.filter(e=>new Date(e.date)>=t).reduce((e,t)=>e+Math.floor(t.duration/60),0)},v=e=>{const t=Math.floor(e/60),a=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))};return Object(b.jsxs)("div",{className:"workout-timer",children:[Object(b.jsxs)("div",{className:"timer-header",children:[Object(b.jsx)("h3",{children:"\u23f1\ufe0f Timer Sessione"}),Object(b.jsx)("div",{className:"session-time",children:Object(b.jsxs)("span",{children:["Tempo Totale: ",v(n)]})})]}),Object(b.jsxs)("div",{className:"current-exercise",children:[Object(b.jsx)("input",{type:"text",placeholder:"Nome esercizio attuale...",value:i,onChange:e=>o(e.target.value),disabled:!a}),Object(b.jsxs)("div",{className:"exercise-time",children:["Tempo Esercizio: ",v(l)]})]}),Object(b.jsx)("div",{className:"timer-controls",children:a||0!==n?Object(b.jsxs)("div",{className:"control-buttons",children:[Object(b.jsx)("button",{className:"button",onClick:a?()=>{s(!1)}:()=>s(!0),children:a?"\u23f8\ufe0f Pausa":"\u25b6\ufe0f Riprendi"}),Object(b.jsx)("button",{className:"button next-btn",onClick:g,disabled:!i,children:"\u27a1\ufe0f Prossimo Esercizio"}),Object(b.jsx)("button",{className:"button complete-btn",onClick:()=>{i&&l>0&&g();const e={date:(new Date).toISOString(),duration:n,exercises:d,id:Date.now()},a=[e,...JSON.parse(localStorage.getItem("workoutSessions")||"[]")];localStorage.setItem("workoutSessions",JSON.stringify(a));const r=JSON.parse(localStorage.getItem("timeStats")||"{}"),p={totalWorkoutTime:(r.totalWorkoutTime||0)+Math.floor(n/60),weeklyTime:j(a),monthlyTime:O(a),sessionsCompleted:(r.sessionsCompleted||0)+1};localStorage.setItem("timeStats",JSON.stringify(p)),s(!1),c(0),u(0),o(""),m([]),h(0),t&&t(e)},children:"\u2705 Completa Sessione"})]}):Object(b.jsx)("button",{className:"button start-btn",onClick:()=>{s(!0),c(0),m([])},children:"\ud83d\ude80 Inizia Sessione"})}),d.length>0&&Object(b.jsxs)("div",{className:"completed-exercises",children:[Object(b.jsx)("h4",{children:"Esercizi Completati:"}),Object(b.jsx)("ul",{children:d.map((e,t)=>Object(b.jsxs)("li",{children:[e.name," - ",v(e.duration)]},t))})]})]})};var v=()=>{const e={"Panca Inclinata Bilanciere":{category:"Petto",difficulty:"Avanzato",muscles:["Petto (fascio superiore)","Deltoidi anteriori","Tricipiti"],setup:["Panca inclinata 30-45\xb0 (mai oltre 45\xb0)","Presa larghezza 1.5x spalle, pollice sopra barra","Scapole retratte e depresse, arco naturale","Piedi saldi a terra, core contratto"],execution:["Discesa: 2-3 sec, barra al petto alto/clavicole","Pausa 1 sec al petto, mantenendo tensione","Spinta esplosiva, gomiti 45\xb0 dal busto","Lock-out completo, scapole sempre retratte"],breathing:"Inspira in discesa, espira durante spinta (dopo punto di stallo)",commonMistakes:["\u274c Angolo eccessivo (>45\xb0) = stress spalle","\u274c Gomiti troppo larghi = impingement","\u274c Rebound al petto = perdita tensione","\u274c Arch eccessivo = compenso lombare"],progressionTips:["Master tecnica a corpo libero prima","Aumenta peso solo con form perfetto","Paused bench per controllo","Varianti: manubri, presa stretta"],safetyNotes:["Sempre con spotter per carichi massimali","Stop se dolore spalle/polsi","Warm-up specifico: band pull-apart"]},"Trazioni Presa Ampia":{category:"Dorso",difficulty:"Intermedio-Avanzato",muscles:["Gran dorsale","Romboidi","Posteriori deltoidi","Bicipiti"],setup:["Presa prona, 1.5x larghezza spalle","Appeso completo, scapole neutre","Core attivo, gambe leggermente avanti","Sguardo leggermente verso alto"],execution:["Inizia movimento da scapole (depressione)","Tira gomiti verso basso e indietro","Petto verso sbarra, focus squeeze dorsali","Discesa controllata, stop prima rilascio completo"],breathing:"Inspira in partenza, espira durante trazione",commonMistakes:["\u274c Kipping/slancio = perdita target muscolare","\u274c Solo braccia = manca attivazione dorsali","\u274c Range parziale = crescita sub-ottimale","\u274c Velocit\xe0 eccessiva = momentum"],progressionTips:["Principianti: lat pulldown + negative","Intermedi: band assist \u2192 bodyweight","Avanzati: weighted, pause, L-sit","Focus: mind-muscle connection dorsali"],safetyNotes:["Shoulder health check pre-sessione","Progressione graduale volume","Stretching bicipiti/petto post-workout"]},Squat:{category:"Gambe",difficulty:"Fondamentale",muscles:["Quadricipiti","Glutei","Femorali","Core"],setup:["Barra alta su trapezi (non collo)","Presa 1.2x larghezza spalle, gomiti bassi","Piedi larghezza anche, punte 15-30\xb0","Respirazione diaframmatica pre-discesa"],execution:["Hip hinge + knee flexion simultanei","Discesa fino coscie parallele (minimo)","Ginocchia tracking con punte piedi","Drive dai talloni, petto alto in risalita"],breathing:"Valsalva: inspira in alto, trattieni, espira post-risalita",commonMistakes:["\u274c Knee valgus (ginocchia dentro) = infortunio","\u274c Talloni si alzano = mobilit\xe0 caviglie","\u274c Busto troppo avanti = carico schiena","\u274c Range parziale = perdita benefici"],progressionTips:["Master bodyweight squat perfetto","Goblet squat per apprendimento pattern","Box squat per profondit\xe0 e controllo","Front squat per postura e core"],safetyNotes:["Sempre con safety bars altezza corretta","Warm-up mobilit\xe0 anche/caviglie","Progressive overload: forma > peso"]},"Stacco Rumeno (RDL)":{category:"Posteriori",difficulty:"Intermedio",muscles:["Femorali","Glutei","Erettori spinale","Core"],setup:["Partenza in piedi, barra a contatto cosce","Presa prona/mista, larghezza spalle","Spalle sopra barra, petto alto","Leggera flessione ginocchia (15-20\xb0)"],execution:["Hip hinge puro: anche indietro","Barra scorre lungo gambe (contatto costante)","Discesa fino stretch femorali (mid-shin)","Reverse: drive anche avanti, squeeze glutei"],breathing:"Inspira in alto, trattieni in discesa, espira in risalita",commonMistakes:["\u274c Schiena curva = shear stress vertebrale","\u274c Troppa flessione ginocchia = squat variation","\u274c Barra lontana corpo = momento aumentato","\u274c Range eccessivo senza mobilit\xe0 = compensi"],progressionTips:["Prima mobilit\xe0 femorali e anche","Deadlift con deficit per ROM","Single-leg RDL per stabilit\xe0","Varianti: manubri, kettlebell"],safetyNotes:["Neutral spine sempre mantenuta","Start con carichi moderati","Stretching post-workout essenziale"]},"Military Press Manubri":{category:"Spalle",difficulty:"Intermedio",muscles:["Deltoidi (tutti fasci)","Tricipiti","Core","Stabilizzatori"],setup:["Seduto con schienale 85-90\xb0","Manubri altezza spalle, palmi avanti","Core contratto, schiena neutra","Piedi saldi, grip saldo ma non eccessivo"],execution:["Spinta verticale, traiettoria rettilinea","Rotazione esterna spalle durante movimento","Lock-out senza hyperextension gomiti","Discesa controllata, stop all'altezza orecchie"],breathing:"Inspira in basso, espira durante spinta",commonMistakes:["\u274c Arch lombare eccessivo = compenso","\u274c Spinta troppo avanti = impingement","\u274c Gomiti troppo larghi = stress AC joint","\u274c Range parziale = sviluppo incompleto"],progressionTips:["Pike push-ups per pattern movimento","Press seduto prima di standing","Unilaterale per core e stabilit\xe0","Progressione: 2.5kg incrementi max"],safetyNotes:["Warm-up spalle obbligatorio","Range dentro comfort zone","Stop al primo segno dolore"]}};return{masterTechniques:e,getTechniqueCue:(t,a)=>{const s=e[t];if(!s)return null;return{setup:s.setup,execution:s.execution,breathing:s.breathing}[a]||null},getProgressionLevel:(t,a)=>{if(!e[t])return null;return{beginner:{focus:"Pattern Movement + Stabilit\xe0",approach:"Carichi leggeri, focus forma",volume:"Basso volume, alta frequenza"},intermediate:{focus:"Progressione Carico + Volume",approach:"Balance intensit\xe0/volume",volume:"Volume moderato-alto"},advanced:{focus:"Specializzazione + Varianti",approach:"Periodizzazione strutturata",volume:"Volume alto, intensit\xe0 ciclica"}}[a]},getInjuryPrevention:t=>{const a=e[t];if(!a)return null;const s={warmup:[],cooldown:[],redFlags:[],alternatives:[]};switch(a.category){case"Petto":s.warmup=["Band pull-apart","Scap wall slides","Arm circles","Push-up progression"];break;case"Dorso":s.warmup=["Cat-cow","Band face-pull","Scap pull-ups","Dead hang"];break;case"Gambe":s.warmup=["Leg swings","Hip circles","Bodyweight squat","Ankle circles"];break;case"Spalle":s.warmup=["Arm circles","Band external rotation","Wall slides","YTW raises"]}return s.redFlags=["Dolore acuto durante movimento","Dolore che persiste post-workout","Limitazione ROM significativa","Instabilit\xe0 articolare"],s},getMindMuscleCues:t=>{if(!e[t])return[];return{"Panca Inclinata Bilanciere":['Visualizza petto che si "apre" in discesa','Spinta: "schiaccia il mondo via da te"','Immagina di "avvicinare il petto alla barra"',"Focus: fibre muscolari che si contraggono"],"Trazioni Presa Ampia":['Inizia tirando scapole verso "tasche posteriori"','Immagina di "tirare sbarra verso petto"','Visualizza dorsali come "ali che si aprono"',"Senti l'ampiezza della schiena"],Squat:['Immagina di "sederti su sedia invisibile"',"Spingi terra via con i piedi","Visualizza radici dai piedi al centro terra",'Core come "cintura di forza naturale"'],"Stacco Rumeno (RDL)":['Anche come "cerniere che si aprono"',"Senti stretch intenso nei femorali",'Immagina "corda che tira anche indietro"','Glutei come "motori della risalita"'],"Military Press Manubri":['Spalle come "fondamenta stabili"','Spinta "verso le stelle"','Immagina di "sostenere il cielo"','Core come "pilastro di marmo"']}[t]||["Connessione mente-muscolo","Controllo ogni millimetro","Qualit\xe0 sopra quantit\xe0","Senti il muscolo lavorare"]},getExerciseRating:t=>{if(!e[t])return null;return{"Panca Inclinata Bilanciere":{effectiveness:9,safety:7,transferability:8,overall:8.5,notes:"Re degli esercizi petto superiore"},"Trazioni Presa Ampia":{effectiveness:10,safety:8,transferability:9,overall:9.5,notes:"Miglior esercizio dorsali in assoluto"},Squat:{effectiveness:10,safety:8,transferability:10,overall:9.5,notes:"Re di tutti gli esercizi"},"Stacco Rumeno (RDL)":{effectiveness:9,safety:7,transferability:9,overall:8.5,notes:"Insuperabile per posteriori"},"Military Press Manubri":{effectiveness:8,safety:8,transferability:7,overall:8,notes:"Eccellente per spalle 3D"}}[t]}}};var f=()=>{p(),v(),d();const e=m(),[t,a]=r.a.useState(null),[s,i]=r.a.useState([]),[o,n]=r.a.useState(null),[c,l]=r.a.useState({sets:"",reps:"",weight:"",rir:"",notes:""}),[u,h]=r.a.useState(!1),g={"Luned\xec":{focus:"Petto + Bicipiti",subtitle:"Focus: Petto (fascio alto + globale), Bicipiti",exercises:[{name:"Panca Inclinata Bilanciere",sets:"4\xd76-8",rest:"2min",notes:"RIR 1-2 | Focus forma e controllo"},{name:"Spinte Manubri Inclinata",sets:"3\xd78-10",rest:"90sec",notes:"Angolo 30-45\xb0 | ROM completo"},{name:"Croci ai Cavi Alti/Inclinata",sets:"3\xd712-15",rest:"75sec",notes:"Stretch massimo petto"},{name:"Dip alle Parallele (petto) o Panca Piana Manubri",sets:"3\xd78-10",rest:"90sec",notes:"Inclinazione avanti per petto"},{name:"Curl Bilanciere",sets:"4\xd78-10",rest:"90sec",notes:"No cheating | Controllo eccentrica"},{name:"Curl Manubri Inclinati",sets:"3\xd710-12",rest:"75sec",notes:"Panca 45\xb0 | Stretch bicipiti"},{name:"Hammer Curl Manubri o Cavi",sets:"3\xd712-15",rest:"60sec",notes:"Presa neutra | Focus brachiale"}]},"Marted\xec":{focus:"Dorso + Tricipiti + Collo (A)",subtitle:"Focus: Larghezza dorsale, spessore scapolare, tricipiti, collo",exercises:[{name:"Trazioni Presa Ampia",sets:"4\xd76-8",rest:"2min",notes:"Se necessario usa assistenza | Focus larghezza"},{name:"Rematore Bilanciere/Manubrio",sets:"4\xd78-10",rest:"2min",notes:"Busto 45\xb0 | Squeeze scapole"},{name:"Lat Machine Inversa o Presa Stretta",sets:"3\xd710-12",rest:"90sec",notes:"Controllo concentrica/eccentrica"},{name:"Pullover ai Cavi",sets:"3\xd712-15",rest:"75sec",notes:"ROM ampio | Focus gran dorsale"},{name:"Panca Stretta Bilanciere",sets:"4\xd76-8",rest:"2min",notes:"Presa larghezza spalle | Gomiti chiusi"},{name:"French Press EZ",sets:"3\xd78-10",rest:"90sec",notes:"Solo avambracci si muovono"},{name:"Pushdown Cavo",sets:"3\xd712-15",rest:"60sec",notes:"Contrazione massima in basso"},{name:"Collo - Flessione",sets:"2\xd715-20",rest:"30sec",notes:"Lento e controllato"},{name:"Collo - Estensione",sets:"2\xd715-20",rest:"30sec",notes:"Range completo sicuro"},{name:"Collo - Laterale dx/sx",sets:"2\xd712-15",rest:"30sec",notes:"Ogni lato separatamente"}]},"Mercoled\xec":{focus:"Gambe Complete",subtitle:"Focus: Quadricipiti, glutei, femorali, polpacci",exercises:[{name:"Squat",sets:"4\xd76-8",rest:"3min",notes:"Profondit\xe0 completa | RIR 1-2"},{name:"Hip Thrust",sets:"4\xd78-10",rest:"2min",notes:"Contrazione glutei al top | Pausa 1 sec"},{name:"Affondi Camminata",sets:"3\xd710 passi/gamba",rest:"90sec",notes:"Ginocchio a 90\xb0 | Passo lungo"},{name:"Leg Press 45\xb0",sets:"3\xd710-12",rest:"90sec",notes:"Piedi larghezza spalle | ROM completo"},{name:"Leg Curl Sdraiato",sets:"3\xd710-12",rest:"90sec",notes:"Rest-pause ultimo set | Contrazione massima"},{name:"Calf Raise in Piedi",sets:"4\xd710-12",rest:"60sec",notes:"Pausa 2 sec al top | Range completo"},{name:"Calf Raise Seduto",sets:"3\xd715-20",rest:"60sec",notes:"Focus soleo | Controllo movimento"}]},"Gioved\xec":{focus:"Recupero Attivo",subtitle:"Focus: Cardiovascolare leggero, mobilit\xe0, recupero",exercises:[{name:"LISS (Camminata/Cyclette)",sets:"30-40min",rest:"Zona 1-2",notes:"60-70% FCMax | Mantieni conversazione"},{name:"Stretching/Mobilit\xe0",sets:"15-20min",rest:"Rilassante",notes:"Tutti i gruppi muscolari | Respiro profondo"},{name:"Sauna o Bagno Turco",sets:"10-15min",rest:"Recovery",notes:"Idratazione costante | Relax mentale"}]},"Venerd\xec":{focus:"Spalle Complete + Collo (B)",subtitle:"Focus: Deltoidi laterali/posteriori, trapezio, richiamo braccia, collo",exercises:[{name:"Military Press Manubri",sets:"4\xd76-8",rest:"2min",notes:"Seduto con schienale | Core attivo"},{name:"Alzate Laterali Cavi/Manubri",sets:"4\xd712-15",rest:"75sec",notes:"Controllo eccentrica | No cheating"},{name:"Rear Delt Fly (Pec Deck Inversa o Manubri)",sets:"3\xd712-15",rest:"75sec",notes:"Squeeze scapole | Focus deltoidi posteriori"},{name:"Face Pull",sets:"3\xd712-15",rest:"60sec",notes:"Corda ai cavi | Gomiti alti"},{name:"Scrollate Manubri/Bilanciere",sets:"3\xd710-12",rest:"90sec",notes:"Solo spalle | No rotazione"},{name:"Curl Manubri (Richiamo leggero)",sets:"2\xd712-15",rest:"60sec",notes:"Pompaggio | Non a cedimento"},{name:"Pushdown Corda (Richiamo leggero)",sets:"2\xd712-15",rest:"60sec",notes:"Focus connessione mente-muscolo"},{name:"Collo B - Flessione",sets:"2\xd715-20",rest:"30sec",notes:"Progressione graduale resistenza"},{name:"Collo B - Estensione",sets:"2\xd715-20",rest:"30sec",notes:"Mai forzare movimento"},{name:"Collo B - Laterale dx/sx",sets:"2\xd712-15",rest:"30sec",notes:"Simmetrico entrambi lati"},{name:"Isometrie Multidirezionali Collo",sets:"3\xd720sec",rest:"30sec",notes:"Resistenza manuale | 4 direzioni"},{name:"Stomach Vacuum",sets:"3\xd720sec",rest:"45sec",notes:"Addome verso colonna | Respiro normale"},{name:"Plank",sets:"3\xd745sec",rest:"60sec",notes:"Corpo dritto | Core attivo"}]},Sabato:{focus:"Posteriori + Conditioning",subtitle:"Focus: Femorali, glutei, polpacci + condizionamento",exercises:[{name:"Stacco Rumeno (RDL)",sets:"4\xd76-8",rest:"2min",notes:"Focus femorali | Bilanciere vicino corpo"},{name:"Hip Thrust (Variante Mono)",sets:"3\xd710-12",rest:"2min",notes:"Una gamba | Controllo stabilit\xe0"},{name:"Nordic Curl o Glute Ham Raise",sets:"3\xd78-10",rest:"90sec",notes:"Eccentrica lenta | Assistenza se necessaria"},{name:"Leg Curl Seduto",sets:"3\xd712-15",rest:"75sec",notes:"Contrazione massima | Pausa 1 sec"},{name:"Calf Raise Multipla",sets:"3\xd715-20",rest:"60sec",notes:"Variare angoli piedi | Range massimo"},{name:"Farmer's Walk",sets:"3\xd740m",rest:"90sec",notes:"Carico pesante | Core + trapezio | Passo normale"},{name:"HIIT Finisher",sets:"8\xd730sec sprint / 60sec camminata",rest:"Totale 10min",notes:"Intensit\xe0 massima sprint | Recupero attivo"}]},Domenica:{focus:"Riposo Completo",subtitle:"Focus: Recupero totale, rigenerazione",exercises:[{name:"Passeggiata Tranquilla",sets:"30-60min",rest:"Libero",notes:"Aria aperta | Ritmo rilassante"},{name:"Stretching Globale",sets:"20-30min",rest:"Flow dolce",notes:"Focus respirazione e relax"},{name:"Sauna/Bagno Turco (Opzionale)",sets:"15-20min",rest:"Recovery",notes:"Detossificazione | Idratazione"},{name:"Meditazione/Visualizzazione",sets:"10-20min",rest:"Mentale",notes:"Preparazione settimana successiva"}]}},j=e=>{const t=(new Date).toISOString().split("T")[0];return s.some(a=>a.day===e&&a.date===t)};return r.a.useEffect(()=>{(()=>{const e=localStorage.getItem("completedWorkouts");e&&i(JSON.parse(e))})()},[]),Object(b.jsxs)("div",{className:"workout-container",children:[Object(b.jsxs)("div",{className:"workout-header",children:[Object(b.jsx)("h2",{children:"\ud83c\udfcb\ufe0f Scheda: Fisico della Madonna (6 Mesi)"}),Object(b.jsxs)("p",{className:"program-description",children:["Programma di allenamento avanzato per trasformazione fisica estrema.",Object(b.jsx)("strong",{children:"Split Push/Pull/Legs + Specializzazione"})," ottimizzato per ipertrofia muscolare."]}),Object(b.jsxs)("div",{className:"program-stats",children:[Object(b.jsx)("span",{className:"stat",children:"\ud83d\udcc5 6 giorni/settimana"}),Object(b.jsx)("span",{className:"stat",children:"\u23f1\ufe0f 75-90 min/sessione"}),Object(b.jsx)("span",{className:"stat",children:"\ud83c\udfaf Volume: Alto"}),Object(b.jsx)("span",{className:"stat",children:"\ud83d\udd25 Intensit\xe0: RIR 1-3"})]})]}),Object(b.jsx)(O,{onSessionComplete:e=>{console.log("Sessione completata:",e)}}),Object(b.jsxs)("div",{className:"workout-week",children:[Object(b.jsx)("h3",{children:"\ud83d\udcc5 Piano Settimanale"}),Object(b.jsx)("div",{className:"days-grid",children:Object.entries(g).map(r=>{let[o,n]=r;return Object(b.jsxs)("div",{className:"day-card ".concat(t===o?"selected":""),children:[Object(b.jsxs)("div",{className:"day-header",onClick:()=>a(t===o?null:o),children:[Object(b.jsx)("h4",{children:o}),Object(b.jsx)("p",{className:"focus-title",children:n.focus}),Object(b.jsx)("p",{className:"focus-subtitle",children:n.subtitle}),j(o)&&Object(b.jsx)("span",{className:"completed-badge",children:"\u2705 Completato"})]}),t===o&&Object(b.jsxs)("div",{className:"day-details",children:[Object(b.jsx)("div",{className:"exercises-list",children:n.exercises.map((e,t)=>Object(b.jsxs)("div",{className:"exercise-item",children:[Object(b.jsx)("h5",{children:e.name}),Object(b.jsxs)("div",{className:"exercise-details",children:[Object(b.jsx)("span",{className:"sets",children:e.sets}),Object(b.jsxs)("span",{className:"rest",children:["Rest: ",e.rest]})]}),Object(b.jsx)("p",{className:"notes",children:e.notes})]},t))}),Object(b.jsx)("div",{className:"day-actions",children:j(o)?Object(b.jsx)("p",{className:"completed-message",children:"\ud83d\udcaa Ottimo lavoro! Workout completato oggi."}):Object(b.jsx)("button",{className:"button complete-workout-btn",onClick:()=>(t=>{const a=[{day:t,date:(new Date).toISOString().split("T")[0],id:Date.now()},...s];i(a),localStorage.setItem("completedWorkouts",JSON.stringify(a));const r=g[t];r&&e.markWorkoutCompleted(new Date,r.focus,r.exercises)})(o),children:"\u2705 Segna come Completato"})})]})]},o)})})]}),Object(b.jsxs)("div",{className:"workout-tips",children:[Object(b.jsx)("h3",{children:"\ud83d\udca1 Principi Fondamentali - Fisico della Madonna"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["\ud83d\udd25 ",Object(b.jsx)("strong",{children:"RIR (Reps in Reserve):"})," Mantieni sempre 1-2 ripetizioni di riserva per ottimizzare volume e recupero"]}),Object(b.jsxs)("li",{children:["\u23f1\ufe0f ",Object(b.jsx)("strong",{children:"Tempi di Recupero:"})," Rispetta rigorosamente i tempi indicati - sono calcolati per massimizzare l'effetto allenante"]}),Object(b.jsxs)("li",{children:["\ud83d\udcaa ",Object(b.jsx)("strong",{children:"Progressione:"})," Aumenta il carico quando riesci a completare tutte le serie nel range alto delle ripetizioni"]}),Object(b.jsxs)("li",{children:["\ud83c\udfaf ",Object(b.jsx)("strong",{children:"Forma Tecnica:"})," La qualit\xe0 del movimento \xe8 prioritaria rispetto al peso utilizzato"]}),Object(b.jsxs)("li",{children:["\ud83d\ude34 ",Object(b.jsx)("strong",{children:"Recupero:"})," Il gioved\xec \xe8 sacro - recupero attivo essenziale per la crescita"]}),Object(b.jsxs)("li",{children:["\ud83c\udf7d\ufe0f ",Object(b.jsx)("strong",{children:"Nutrizione:"})," Surplus calorico di 300-500 kcal/die + 2.2g proteine/kg corporeo"]}),Object(b.jsxs)("li",{children:["\ud83d\udca7 ",Object(b.jsx)("strong",{children:"Idratazione:"})," Minimo 35ml/kg corporeo + 500ml extra nei giorni di allenamento"]}),Object(b.jsxs)("li",{children:["\ud83d\udcc8 ",Object(b.jsx)("strong",{children:"Tracking:"})," Tieni traccia di carichi, ripetizioni e sensazioni per ogni esercizio"]}),Object(b.jsxs)("li",{children:["\ud83e\uddd8 ",Object(b.jsx)("strong",{children:"Mente-Muscolo:"})," Focus mentale sul muscolo target durante ogni ripetizione"]}),Object(b.jsxs)("li",{children:["\ud83d\udd04 ",Object(b.jsx)("strong",{children:"Periodizzazione:"})," Ogni 6-8 settimane rivaluta e modifica il programma"]})]})]})]})};var x=()=>Object(b.jsxs)("div",{className:"nutrition-container",children:[Object(b.jsx)("h2",{children:"Piano Nutrizionale"}),Object(b.jsx)("p",{children:"Scopri i piani nutrizionali e le linee guida per supportare la tua crescita fisica straordinaria."}),Object(b.jsx)("h3",{children:"Linee Guida Nutrizionali"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:"Consuma una variet\xe0 di alimenti per garantire un apporto nutrizionale completo."}),Object(b.jsx)("li",{children:"Includi proteine magre in ogni pasto per supportare la crescita muscolare."}),Object(b.jsx)("li",{children:"Assicurati di idratarti adeguatamente durante il giorno."}),Object(b.jsx)("li",{children:"Limita il consumo di zuccheri aggiunti e cibi altamente processati."}),Object(b.jsx)("li",{children:"Considera l'uso di integratori se necessario, in consultazione con un professionista della salute."})]}),Object(b.jsx)("h3",{children:"Esempio di Piano Alimentare"}),Object(b.jsx)("p",{children:"Colazione: Uova strapazzate con spinaci e pane integrale."}),Object(b.jsx)("p",{children:"Pranzo: Petto di pollo grigliato con quinoa e verdure al vapore."}),Object(b.jsx)("p",{children:"Cena: Salmone al forno con patate dolci e broccoli."}),Object(b.jsx)("p",{children:"Snack: Yogurt greco con frutta e noci."})]});var y=()=>Object(b.jsxs)("div",{className:"supplements-container",children:[Object(b.jsx)("h2",{children:"Recommended Supplements for Extraordinary Growth"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Protein Powder:"})," Supports muscle recovery and growth."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Creatine:"})," Enhances strength and performance during workouts."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"BCAAs:"})," Helps reduce muscle soreness and fatigue."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Omega-3 Fatty Acids:"})," Supports overall health and reduces inflammation."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Multivitamins:"})," Ensures adequate intake of essential vitamins and minerals."]})]}),Object(b.jsx)("p",{children:"Always consult with a healthcare professional before starting any supplement regimen."})]});var S=()=>Object(b.jsxs)("div",{className:"recovery-container",children:[Object(b.jsx)("h2",{children:"Recovery Strategies for Extraordinary Growth"}),Object(b.jsx)("p",{children:"Recovery is a crucial aspect of any training program, especially for those aiming for extraordinary physical growth. Here are some effective recovery strategies:"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Rest Days:"})," Incorporate regular rest days into your training schedule to allow your muscles to repair and grow."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Active Recovery:"})," Engage in low-intensity activities such as walking, yoga, or light cycling to promote blood flow and recovery."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Hydration:"})," Ensure adequate hydration before, during, and after workouts to support recovery and performance."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Nutrition:"})," Consume a balanced diet rich in protein, healthy fats, and carbohydrates to fuel recovery."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Sleep:"})," Aim for 7-9 hours of quality sleep each night to optimize recovery and hormonal balance."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Stretching and Mobility:"})," Incorporate stretching and mobility exercises to improve flexibility and reduce muscle soreness."]}),Object(b.jsxs)("li",{children:[Object(b.jsx)("strong",{children:"Foam Rolling:"})," Use foam rollers to alleviate muscle tightness and improve circulation."]})]}),Object(b.jsx)("p",{children:"Implementing these recovery strategies will help you maximize your training efforts and achieve your physical growth goals."})]});var w=()=>{const[e,t]=r.a.useState([]),[a,s]=r.a.useState({weight:"",bodyFat:"",muscleMass:"",chest:"",arms:"",waist:"",thighs:"",notes:""}),[i,o]=r.a.useState({totalWorkoutTime:0,weeklyTime:0,monthlyTime:0,sessionsCompleted:0}),n=e=>{localStorage.setItem("progressData",JSON.stringify(e))},c=e=>{const t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")};return r.a.useEffect(()=>{(()=>{const e=localStorage.getItem("progressData");e&&t(JSON.parse(e));const a=localStorage.getItem("timeStats");a&&o(JSON.parse(a))})()},[]),Object(b.jsxs)("div",{className:"progress-container",children:[Object(b.jsx)("h2",{children:"\ud83c\udfaf Progress Tracker Avanzato"}),Object(b.jsxs)("div",{className:"time-stats",children:[Object(b.jsx)("h3",{children:"\ud83d\udcca Statistiche Tempo Investito"}),Object(b.jsxs)("div",{className:"stats-grid",children:[Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("h4",{children:"Tempo Totale"}),Object(b.jsx)("p",{children:c(i.totalWorkoutTime)})]}),Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("h4",{children:"Questa Settimana"}),Object(b.jsx)("p",{children:c(i.weeklyTime)})]}),Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("h4",{children:"Questo Mese"}),Object(b.jsx)("p",{children:c(i.monthlyTime)})]}),Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("h4",{children:"Sessioni Completate"}),Object(b.jsx)("p",{children:i.sessionsCompleted})]})]})]}),Object(b.jsxs)("div",{className:"add-entry-form",children:[Object(b.jsx)("h3",{children:"\u2795 Aggiungi Nuove Misurazioni"}),Object(b.jsxs)("div",{className:"form-grid",children:[Object(b.jsx)("input",{type:"number",placeholder:"Peso (kg)",value:a.weight,onChange:e=>s(Object(u.a)(Object(u.a)({},a),{},{weight:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Massa Grassa (%)",value:a.bodyFat,onChange:e=>s(Object(u.a)(Object(u.a)({},a),{},{bodyFat:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Massa Muscolare (kg)",value:a.muscleMass,onChange:e=>s(Object(u.a)(Object(u.a)({},a),{},{muscleMass:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Petto (cm)",value:a.chest,onChange:e=>s(Object(u.a)(Object(u.a)({},a),{},{chest:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Braccia (cm)",value:a.arms,onChange:e=>s(Object(u.a)(Object(u.a)({},a),{},{arms:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Vita (cm)",value:a.waist,onChange:e=>s(Object(u.a)(Object(u.a)({},a),{},{waist:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Cosce (cm)",value:a.thighs,onChange:e=>s(Object(u.a)(Object(u.a)({},a),{},{thighs:e.target.value}))}),Object(b.jsx)("textarea",{placeholder:"Note (sensazioni, obiettivi, etc.)",value:a.notes,onChange:e=>s(Object(u.a)(Object(u.a)({},a),{},{notes:e.target.value}))})]}),Object(b.jsx)("button",{className:"button",onClick:()=>{if(!a.weight)return;const r=[Object(u.a)(Object(u.a)({},a),{},{date:(new Date).toISOString().split("T")[0],id:Date.now()}),...e];t(r),n(r),s({weight:"",bodyFat:"",muscleMass:"",chest:"",arms:"",waist:"",thighs:"",notes:""})},children:"Aggiungi Misurazione"})]}),Object(b.jsxs)("div",{className:"progress-table",children:[Object(b.jsx)("h3",{children:"\ud83d\udcc8 Storico Progressi"}),0===e.length?Object(b.jsx)("p",{children:"Nessuna misurazione ancora. Inizia ad aggiungere i tuoi progressi!"}):Object(b.jsx)("div",{className:"table-responsive",children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Data"}),Object(b.jsx)("th",{children:"Peso"}),Object(b.jsx)("th",{children:"Grasso"}),Object(b.jsx)("th",{children:"Muscolo"}),Object(b.jsx)("th",{children:"Petto"}),Object(b.jsx)("th",{children:"Braccia"}),Object(b.jsx)("th",{children:"Vita"}),Object(b.jsx)("th",{children:"Cosce"}),Object(b.jsx)("th",{children:"Note"}),Object(b.jsx)("th",{children:"Azioni"})]})}),Object(b.jsx)("tbody",{children:e.map(a=>Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:a.date}),Object(b.jsxs)("td",{children:[a.weight," kg"]}),Object(b.jsxs)("td",{children:[a.bodyFat,"%"]}),Object(b.jsxs)("td",{children:[a.muscleMass," kg"]}),Object(b.jsxs)("td",{children:[a.chest," cm"]}),Object(b.jsxs)("td",{children:[a.arms," cm"]}),Object(b.jsxs)("td",{children:[a.waist," cm"]}),Object(b.jsxs)("td",{children:[a.thighs," cm"]}),Object(b.jsx)("td",{className:"notes-cell",children:a.notes}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{className:"delete-btn",onClick:()=>(a=>{const s=e.filter(e=>e.id!==a);t(s),n(s)})(a.id),children:"\ud83d\uddd1\ufe0f"})})]},a.id))})]})})]})]})},N=a(5);N.h({mixed:{default:"Campo non valido",required:"Campo obbligatorio",notType:"Tipo di dato non valido"},string:{min:"Minimo ${min} caratteri",max:"Massimo ${max} caratteri",email:"Email non valida"},number:{min:"Valore minimo: ${min}",max:"Valore massimo: ${max}",positive:"Deve essere un numero positivo",integer:"Deve essere un numero intero"},date:{min:"Data non pu\xf2 essere precedente al ${min}",max:"Data non pu\xf2 essere successiva al ${max}"}});const z=N.e().typeError("Peso deve essere un numero").min(30,"Peso minimo 30kg").max(300,"Peso massimo 300kg"),k=N.e().typeError("Percentuale deve essere un numero").min(0,"Percentuale minima 0%").max(100,"Percentuale massima 100%"),D=N.e().typeError("Misurazione deve essere un numero").min(10,"Misurazione minima 10cm").max(200,"Misurazione massima 200cm"),I=N.c().typeError("Data non valida").max(new Date,"Data non pu\xf2 essere futura"),C=N.i().min(8,"Password minimo 8 caratteri").matches(/[a-z]/,"Deve contenere almeno una lettera minuscola").matches(/[A-Z]/,"Deve contenere almeno una lettera maiuscola").matches(/[0-9]/,"Deve contenere almeno un numero").matches(/[^a-zA-Z0-9]/,"Deve contenere almeno un carattere speciale"),P=N.f({email:N.i().required("Email \xe8 obbligatoria").email("Formato email non valido").max(254,"Email troppo lunga"),password:C.required("Password \xe8 obbligatoria"),confirmPassword:N.i().required("Conferma password \xe8 obbligatoria").oneOf([N.g("password")],"Le password non corrispondono"),displayName:N.i().min(2,"Nome minimo 2 caratteri").max(50,"Nome massimo 50 caratteri").matches(/^[a-zA-Z\xc0-\xff\s]+$/,"Nome pu\xf2 contenere solo lettere e spazi").nullable(),acceptTerms:N.b().oneOf([!0],"Devi accettare i termini e condizioni")}),M=N.f({email:N.i().required("Email \xe8 obbligatoria").email("Formato email non valido"),password:N.i().required("Password \xe8 obbligatoria").min(1,"Password non pu\xf2 essere vuota"),rememberMe:N.b().default(!1)}),E=N.f({email:N.i().required("Email \xe8 obbligatoria").email("Formato email non valido")}),T=(N.f({currentPassword:N.i().required("Password attuale \xe8 obbligatoria"),newPassword:C.required("Nuova password \xe8 obbligatoria"),confirmNewPassword:N.i().required("Conferma nuova password \xe8 obbligatoria").oneOf([N.g("newPassword")],"Le password non corrispondono")}),N.f({weight:z.nullable(),bodyFat:k.min(3,"Massa grassa minima 3%").max(50,"Massa grassa massima 50%").nullable(),muscleMass:N.e().typeError("Massa muscolare deve essere un numero").min(10,"Massa muscolare minima 10kg").max(150,"Massa muscolare massima 150kg").nullable(),chest:D.min(50,"Circonferenza petto minima 50cm").max(200,"Circonferenza petto massima 200cm").nullable(),arms:D.min(20,"Circonferenza braccia minima 20cm").max(100,"Circonferenza braccia massima 100cm").nullable(),waist:D.min(50,"Circonferenza vita minima 50cm").max(150,"Circonferenza vita massima 150cm").nullable(),thighs:D.min(30,"Circonferenza cosce minima 30cm").max(100,"Circonferenza cosce massima 100cm").nullable(),date:I.default(()=>new Date),notes:N.i().max(1e3,"Note massimo 1000 caratteri").nullable()}).test("at-least-one-measurement","Inserisci almeno una misurazione",function(e){const{weight:t,bodyFat:a,muscleMass:s,chest:r,arms:i,waist:o,thighs:n}=e||{};return!!(t||a||s||r||i||o||n)}),N.f({exerciseName:N.i().required("Nome esercizio \xe8 obbligatorio").min(2,"Nome esercizio minimo 2 caratteri").max(100,"Nome esercizio massimo 100 caratteri").matches(/^[a-zA-Z\xc0-\xff0-9\s\-().]+$/,"Nome esercizio contiene caratteri non validi"),sets:N.e().required("Numero serie \xe8 obbligatorio").integer("Serie deve essere un numero intero").min(1,"Minimo 1 serie").max(20,"Massimo 20 serie"),reps:N.e().required("Numero ripetizioni \xe8 obbligatorio").integer("Ripetizioni deve essere un numero intero").min(1,"Minimo 1 ripetizione").max(100,"Massimo 100 ripetizioni"),weight:N.e().typeError("Peso deve essere un numero").min(0,"Peso non pu\xf2 essere negativo").max(1e3,"Peso massimo 1000kg").nullable(),rir:N.e().typeError("RIR deve essere un numero").integer("RIR deve essere un numero intero").min(0,"RIR minimo 0").max(10,"RIR massimo 10").nullable(),notes:N.i().max(500,"Note esercizio massimo 500 caratteri").nullable()})),R=(N.f({name:N.i().required("Nome workout \xe8 obbligatorio").min(3,"Nome workout minimo 3 caratteri").max(100,"Nome workout massimo 100 caratteri"),date:I.required("Data \xe8 obbligatoria"),startTime:N.c().typeError("Orario inizio non valido").nullable(),endTime:N.c().typeError("Orario fine non valido").min(N.g("startTime"),"Orario fine deve essere dopo l'inizio").nullable(),totalDuration:N.e().typeError("Durata deve essere un numero").min(1,"Durata minima 1 minuto").max(480,"Durata massima 8 ore (480 minuti)").nullable(),exercises:N.a().of(T).min(1,"Almeno un esercizio \xe8 obbligatorio"),notes:N.i().max(1e3,"Note workout massimo 1000 caratteri").nullable(),intensity:N.e().integer("Intensit\xe0 deve essere un numero intero").min(1,"Intensit\xe0 minima 1").max(10,"Intensit\xe0 massima 10").nullable()}),N.f({displayName:N.i().min(2,"Nome minimo 2 caratteri").max(50,"Nome massimo 50 caratteri").matches(/^[a-zA-Z\xc0-\xff\s]+$/,"Nome pu\xf2 contenere solo lettere e spazi").nullable(),age:N.e().integer("Et\xe0 deve essere un numero intero").min(13,"Et\xe0 minima 13 anni").max(120,"Et\xe0 massima 120 anni").nullable(),height:N.e().typeError("Altezza deve essere un numero").min(100,"Altezza minima 100cm").max(250,"Altezza massima 250cm").nullable(),activityLevel:N.i().oneOf(["sedentary","light","moderate","active","very_active"],"Livello attivit\xe0 non valido").default("moderate"),fitnessGoals:N.a().of(N.i().oneOf(["weight_loss","muscle_gain","strength","endurance","flexibility","general_health","athletic_performance"])).max(5,"Massimo 5 obiettivi"),experience:N.i().oneOf(["beginner","intermediate","advanced","expert"],"Livello esperienza non valido").default("beginner"),preferences:N.f({units:N.i().oneOf(["metric","imperial"]).default("metric"),language:N.i().oneOf(["it","en"]).default("it"),notifications:N.b().default(!0),darkMode:N.b().default(!1),publicProfile:N.b().default(!1)})}),N.f({startWeight:z.required("Peso iniziale \xe8 obbligatorio"),targetWeight:z.required("Peso target \xe8 obbligatorio").test("weight-difference","Differenza peso deve essere ragionevole (\xb130kg)",function(e){const{startWeight:t}=this.parent;return!t||!e||Math.abs(e-t)<=30}),targetBench:N.e().typeError("Target panca deve essere un numero").min(20,"Target panca minimo 20kg").max(300,"Target panca massimo 300kg").nullable(),targetSquat:N.e().typeError("Target squat deve essere un numero").min(30,"Target squat minimo 30kg").max(500,"Target squat massimo 500kg").nullable(),targetDeadlift:N.e().typeError("Target deadlift deve essere un numero").min(40,"Target deadlift minimo 40kg").max(600,"Target deadlift massimo 600kg").nullable(),startDate:N.c().required("Data inizio \xe8 obbligatoria").max(new Date,"Data inizio non pu\xf2 essere futura"),targetDate:N.c().required("Data target \xe8 obbligatoria").min(N.g("startDate"),"Data target deve essere dopo data inizio").test("12-weeks-max","Periodo massimo 16 settimane",function(e){const{startDate:t}=this.parent;if(!t||!e)return!0;return(e-t)/6048e5<=16})}),N.f({notifications:N.f({workoutReminders:N.b().default(!0),progressReminders:N.b().default(!0),achievementAlerts:N.b().default(!0),emailNotifications:N.b().default(!1),pushNotifications:N.b().default(!0)}),privacy:N.f({profileVisibility:N.i().oneOf(["private","friends","public"]).default("private"),shareProgress:N.b().default(!1),shareWorkouts:N.b().default(!1),allowFriendRequests:N.b().default(!0)}),display:N.f({theme:N.i().oneOf(["light","dark","auto"]).default("light"),language:N.i().oneOf(["it","en"]).default("it"),dateFormat:N.i().oneOf(["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"]).default("DD/MM/YYYY"),timeFormat:N.i().oneOf(["24h","12h"]).default("24h")}),units:N.f({weight:N.i().oneOf(["kg","lb"]).default("kg"),distance:N.i().oneOf(["km","mi"]).default("km"),height:N.i().oneOf(["cm","ft"]).default("cm")})}),async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{return{isValid:!0,data:await e.validate(t,Object(u.a)({abortEarly:!1,stripUnknown:!0},a)),errors:{}}}catch(s){const e={};return s.inner?s.inner.forEach(t=>{t.path&&(e[t.path]=t.message)}):e.general=s.message,{isValid:!1,data:null,errors:e}}});var A=a(3);var F=()=>{const{login:e,register:t,loginWithGoogle:a,resetPassword:r,error:i,loading:o,clearError:n}=Object(l.b)(),[c,d]=Object(s.useState)("login"),[m,p]=Object(s.useState)({email:"",password:"",confirmPassword:"",displayName:"",acceptTerms:!1}),[h,g]=Object(s.useState)({}),[j,O]=Object(s.useState)(!1),[v,f]=Object(s.useState)(""),x=e=>{d(e),p({email:m.email,password:"",confirmPassword:"",displayName:"",acceptTerms:!1}),g({}),f(""),n()},y=(e,t)=>{p(a=>Object(u.a)(Object(u.a)({},a),{},{[e]:t})),h[e]&&g(t=>{const a=Object(u.a)({},t);return delete a[e],a})};return Object(b.jsx)("div",{className:"auth-modal-overlay",children:Object(b.jsxs)("div",{className:"auth-modal",children:[Object(b.jsxs)("div",{className:"auth-header",children:[Object(b.jsx)("h2",{children:"\ud83c\udfc6 Extraordinary Growth"}),Object(b.jsxs)("p",{className:"auth-tagline",children:["login"===c&&"Bentornato! Accedi al tuo account","register"===c&&"Inizia il tuo percorso di crescita","reset"===c&&"Recupera il tuo account"]})]}),v&&Object(b.jsxs)("div",{className:"success-message",children:["\u2705 ",v]}),(i||h.general)&&Object(b.jsxs)("div",{className:"error-message",children:["\u26a0\ufe0f ",i||h.general]}),Object(b.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),j||o)return;const s=await(async()=>{let e,t=m;switch(c){case"login":e=M,t={email:m.email,password:m.password};break;case"register":e=P;break;case"reset":e=E,t={email:m.email};break;default:return{isValid:!1,errors:{general:"Modalit\xe0 non valida"}}}const a=await R(e,t);return g(a.errors),a})();if(s.isValid){O(!0),n(),f("");try{let a;switch(c){case"login":A.c.info("Tentativo login..."),a=await e(m.email,m.password);break;case"register":A.c.info("Tentativo registrazione..."),a=await t(m.email,m.password,m.displayName);break;case"reset":A.c.info("Tentativo reset password..."),a=await r(m.email),a.success&&(f("Email di reset inviata! Controlla la tua casella di posta."),setTimeout(()=>x("login"),3e3));break;default:throw new Error("Modalit\xe0 non supportata")}a&&a.success&&A.c.success("".concat(c," completato con successo"))}catch(i){A.c.error("Errore ".concat(c),i),g({general:i.message||"Errore imprevisto"})}finally{O(!1)}}else A.c.warn("Validazione form fallita",s.errors)},className:"auth-form",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{id:"email",type:"email",value:m.email,onChange:e=>y("email",e.target.value),className:h.email?"error":"",placeholder:"la.tua@email.com",disabled:j,required:!0}),h.email&&Object(b.jsx)("span",{className:"field-error",children:h.email})]}),"reset"!==c&&Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{id:"password",type:"password",value:m.password,onChange:e=>y("password",e.target.value),className:h.password?"error":"",placeholder:"La tua password sicura",disabled:j,required:!0}),h.password&&Object(b.jsx)("span",{className:"field-error",children:h.password})]}),"register"===c&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"confirmPassword",children:"Conferma Password"}),Object(b.jsx)("input",{id:"confirmPassword",type:"password",value:m.confirmPassword,onChange:e=>y("confirmPassword",e.target.value),className:h.confirmPassword?"error":"",placeholder:"Ripeti la password",disabled:j,required:!0}),h.confirmPassword&&Object(b.jsx)("span",{className:"field-error",children:h.confirmPassword})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"displayName",children:"Nome (opzionale)"}),Object(b.jsx)("input",{id:"displayName",type:"text",value:m.displayName,onChange:e=>y("displayName",e.target.value),className:h.displayName?"error":"",placeholder:"Il tuo nome",disabled:j}),h.displayName&&Object(b.jsx)("span",{className:"field-error",children:h.displayName})]}),Object(b.jsxs)("div",{className:"form-group checkbox-group",children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",checked:m.acceptTerms,onChange:e=>y("acceptTerms",e.target.checked),disabled:j,required:!0}),Object(b.jsx)("span",{className:"checkmark"}),"Accetto i ",Object(b.jsx)("a",{href:"#terms",target:"_blank",children:"Termini di Servizio"})," e la ",Object(b.jsx)("a",{href:"#privacy",target:"_blank",children:"Privacy Policy"})]}),h.acceptTerms&&Object(b.jsx)("span",{className:"field-error",children:h.acceptTerms})]})]}),Object(b.jsx)("button",{type:"submit",className:"btn-primary btn-auth",disabled:j||o,children:j||o?Object(b.jsxs)("span",{className:"loading-inline",children:[Object(b.jsx)("span",{className:"spinner-small"}),"login"===c&&"Accesso...","register"===c&&"Registrazione...","reset"===c&&"Invio..."]}):Object(b.jsxs)(b.Fragment,{children:["login"===c&&"\ud83d\ude80 Accedi","register"===c&&"\u2728 Registrati","reset"===c&&"\ud83d\udce7 Invia Reset"]})}),"reset"!==c&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"auth-divider",children:Object(b.jsx)("span",{children:"oppure"})}),Object(b.jsxs)("button",{type:"button",onClick:async()=>{if(!j&&!o){O(!0),n();try{A.c.info("Tentativo login Google...");(await a()).success&&A.c.success("Login Google completato")}catch(i){A.c.error("Errore Google login",i)}finally{O(!1)}}},className:"btn-google",disabled:j||o,children:[Object(b.jsx)("span",{className:"google-icon",children:"\ud83d\udd0d"}),"Continua con Google"]})]})]}),Object(b.jsxs)("div",{className:"auth-links",children:["login"===c&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{children:["Non hai un account?"," ",Object(b.jsx)("button",{type:"button",className:"link-button",onClick:()=>x("register"),disabled:j,children:"Registrati qui"})]}),Object(b.jsx)("p",{children:Object(b.jsx)("button",{type:"button",className:"link-button",onClick:()=>x("reset"),disabled:j,children:"Password dimenticata?"})})]}),"register"===c&&Object(b.jsxs)("p",{children:["Hai gi\xe0 un account?"," ",Object(b.jsx)("button",{type:"button",className:"link-button",onClick:()=>x("login"),disabled:j,children:"Accedi qui"})]}),"reset"===c&&Object(b.jsxs)("p",{children:["Ricordi la password?"," ",Object(b.jsx)("button",{type:"button",className:"link-button",onClick:()=>x("login"),disabled:j,children:"Torna al login"})]})]}),Object(b.jsx)("div",{className:"auth-footer",children:Object(b.jsxs)("p",{className:"app-info",children:["\ud83d\udd10 I tuoi dati sono protetti con Firebase Authentication.",Object(b.jsx)("br",{}),"\ud83d\udcaa Inizia oggi il tuo percorso verso il ",Object(b.jsx)("strong",{children:"Fisico della Madonna"}),"!"]})})]})})};var L=()=>{const{startMigration:e,skipMigration:t,migrationStatus:a}=Object(l.b)(),[r,i]=Object(s.useState)(!1),[o,n]=Object(s.useState)(null);if(a.inProgress)return Object(b.jsx)("div",{className:"migration-modal-overlay",children:Object(b.jsxs)("div",{className:"migration-modal",children:[Object(b.jsxs)("div",{className:"migration-header",children:[Object(b.jsx)("h2",{children:"\ud83d\udd04 Migrazione in Corso"}),Object(b.jsx)("p",{children:"Stiamo trasferendo i tuoi dati al cloud..."})]}),Object(b.jsxs)("div",{className:"migration-progress",children:[Object(b.jsx)("div",{className:"progress-spinner",children:Object(b.jsx)("div",{className:"spinner-large"})}),Object(b.jsxs)("div",{className:"progress-steps",children:[Object(b.jsx)("div",{className:"progress-step completed",children:"\u2705 Backup dati locali"}),Object(b.jsx)("div",{className:"progress-step active",children:"\ud83d\udd04 Trasferimento al cloud"}),Object(b.jsx)("div",{className:"progress-step",children:"\ud83d\udcca Verifica integrit\xe0"}),Object(b.jsx)("div",{className:"progress-step",children:"\u2728 Finalizzazione"})]})]}),Object(b.jsxs)("div",{className:"migration-info",children:[Object(b.jsxs)("p",{children:["\u23f1\ufe0f ",Object(b.jsx)("strong",{children:"Questo processo pu\xf2 richiedere qualche minuto"})]}),Object(b.jsx)("p",{children:"\ud83d\udd10 I tuoi dati sono al sicuro durante il trasferimento"}),Object(b.jsx)("p",{children:"\ud83d\udcf1 Non chiudere questa finestra fino al completamento"})]})]})});if(o){var c;const e=o.success&&(!o.errors||0===o.errors.length);return Object(b.jsx)("div",{className:"migration-modal-overlay",children:Object(b.jsxs)("div",{className:"migration-modal",children:[Object(b.jsxs)("div",{className:"migration-header",children:[Object(b.jsx)("h2",{children:e?"\u2705 Migrazione Completata!":"\u26a0\ufe0f Migrazione Completata con Avvisi"}),Object(b.jsx)("p",{children:e?"I tuoi dati sono stati trasferiti con successo al cloud!":"La migrazione \xe8 stata completata ma ci sono alcuni avvisi da verificare."})]}),Object(b.jsxs)("div",{className:"migration-results",children:[Object(b.jsxs)("div",{className:"results-summary",children:[Object(b.jsxs)("div",{className:"result-stat",children:[Object(b.jsx)("span",{className:"stat-value",children:o.migratedItems||0}),Object(b.jsx)("span",{className:"stat-label",children:"Elementi Migrati"})]}),Object(b.jsxs)("div",{className:"result-stat",children:[Object(b.jsx)("span",{className:"stat-value",children:o.totalItems||0}),Object(b.jsx)("span",{className:"stat-label",children:"Totale Elementi"})]}),Object(b.jsxs)("div",{className:"result-stat",children:[Object(b.jsx)("span",{className:"stat-value",children:(null===(c=o.errors)||void 0===c?void 0:c.length)||0}),Object(b.jsx)("span",{className:"stat-label",children:"Errori"})]})]}),o.errors&&o.errors.length>0&&Object(b.jsxs)("div",{className:"migration-errors",children:[Object(b.jsx)("h4",{children:"\u26a0\ufe0f Avvisi e Errori:"}),Object(b.jsx)("ul",{children:o.errors.slice(0,5).map((e,t)=>Object(b.jsx)("li",{children:e},t))}),o.errors.length>5&&Object(b.jsx)("p",{children:Object(b.jsxs)("em",{children:["... e altri ",o.errors.length-5," avvisi"]})})]}),Object(b.jsx)("button",{className:"toggle-details",onClick:()=>i(!r),children:r?"\ud83d\udcc4 Nascondi Dettagli":"\ud83d\udcc4 Mostra Dettagli"}),r&&Object(b.jsxs)("div",{className:"migration-details",children:[Object(b.jsx)("h4",{children:"\ud83d\udccb Dettagli Migrazione:"}),Object(b.jsxs)("div",{className:"detail-grid",children:[Object(b.jsxs)("div",{className:"detail-item",children:[Object(b.jsx)("strong",{children:"Inizio:"})," ",o.startTime?new Date(o.startTime).toLocaleString():"N/A"]}),Object(b.jsxs)("div",{className:"detail-item",children:[Object(b.jsx)("strong",{children:"Fine:"})," ",o.endTime?new Date(o.endTime).toLocaleString():"N/A"]}),Object(b.jsxs)("div",{className:"detail-item",children:[Object(b.jsx)("strong",{children:"Verifica Integrit\xe0:"})," ",o.verificationPassed?"\u2705 Superata":"\u274c Fallita"]})]}),o.steps&&Object(b.jsxs)("div",{className:"migration-steps-log",children:[Object(b.jsx)("h5",{children:"Passaggi Eseguiti:"}),Object(b.jsx)("ul",{children:o.steps.map((e,t)=>Object(b.jsx)("li",{children:e},t))})]})]})]}),Object(b.jsx)("div",{className:"migration-actions",children:Object(b.jsx)("button",{className:"btn-primary",onClick:()=>window.location.reload(),children:"\u2728 Continua nell'App"})}),Object(b.jsx)("div",{className:"migration-footer",children:Object(b.jsxs)("p",{children:["\ud83c\udf89 ",Object(b.jsx)("strong",{children:"Congratulazioni!"})," I tuoi dati sono ora sincronizzati nel cloud.",Object(b.jsx)("br",{}),"\ud83d\udcbe Hai accesso automatico ai backup e alla sincronizzazione multi-dispositivo."]})})]})})}return Object(b.jsx)("div",{className:"migration-modal-overlay",children:Object(b.jsxs)("div",{className:"migration-modal",children:[Object(b.jsxs)("div",{className:"migration-header",children:[Object(b.jsx)("h2",{children:"\ud83d\ude80 Benvenuto nel Cloud!"}),Object(b.jsx)("p",{children:"Abbiamo rilevato dei dati fitness salvati localmente sul tuo dispositivo."})]}),Object(b.jsxs)("div",{className:"migration-benefits",children:[Object(b.jsx)("h3",{children:"\u2728 Vantaggi della Migrazione:"}),Object(b.jsxs)("div",{className:"benefits-grid",children:[Object(b.jsxs)("div",{className:"benefit-item",children:[Object(b.jsx)("span",{className:"benefit-icon",children:"\u2601\ufe0f"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("strong",{children:"Backup Automatico"}),Object(b.jsx)("p",{children:"I tuoi dati sono sempre al sicuro"})]})]}),Object(b.jsxs)("div",{className:"benefit-item",children:[Object(b.jsx)("span",{className:"benefit-icon",children:"\ud83d\udcf1"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("strong",{children:"Multi-Dispositivo"}),Object(b.jsx)("p",{children:"Accedi da qualsiasi dispositivo"})]})]}),Object(b.jsxs)("div",{className:"benefit-item",children:[Object(b.jsx)("span",{className:"benefit-icon",children:"\ud83d\udcca"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("strong",{children:"Analytics Avanzati"}),Object(b.jsx)("p",{children:"Grafici e insights automatici"})]})]}),Object(b.jsxs)("div",{className:"benefit-item",children:[Object(b.jsx)("span",{className:"benefit-icon",children:"\u26a1"}),Object(b.jsxs)("div",{children:[Object(b.jsx)("strong",{children:"Performance"}),Object(b.jsx)("p",{children:"Caricamento pi\xf9 veloce"})]})]})]})]}),Object(b.jsxs)("div",{className:"migration-info",children:[Object(b.jsx)("h4",{children:"\ud83d\udccb Cosa verr\xe0 migrato:"}),Object(b.jsxs)("ul",{children:[Object(b.jsxs)("li",{children:["\ud83d\udcc8 ",Object(b.jsx)("strong",{children:"Progressi fisici"})," - Peso, misure, composizione corporea"]}),Object(b.jsxs)("li",{children:["\ud83d\udcaa ",Object(b.jsx)("strong",{children:"Allenamenti"})," - Sessioni, esercizi, performance"]}),Object(b.jsxs)("li",{children:["\u23f1\ufe0f ",Object(b.jsx)("strong",{children:"Statistiche"})," - Tempo investito, streak, obiettivi"]}),Object(b.jsxs)("li",{children:["\u2699\ufe0f ",Object(b.jsx)("strong",{children:"Impostazioni"})," - Preferenze e configurazioni"]})]})]}),Object(b.jsxs)("div",{className:"migration-actions",children:[Object(b.jsx)("button",{className:"btn-primary btn-migration",onClick:async()=>{try{A.c.info("Avvio migrazione dati utente...");const t=await e();t.success?(n(t.report),A.c.success("Migrazione completata con successo")):(n(t.report||{success:!1,errors:[t.error]}),A.c.error("Migrazione fallita",t.error))}catch(t){A.c.error("Errore durante migrazione",t),n({success:!1,errors:[t.message||"Errore imprevisto durante la migrazione"]})}},disabled:a.inProgress,children:"\ud83d\ude80 Inizia Migrazione"}),Object(b.jsx)("button",{className:"btn-secondary",onClick:()=>{window.confirm("Sei sicuro di voler saltare la migrazione?\n\nI tuoi dati locali rimarranno solo su questo dispositivo e potrebbero andare persi. Potrai sempre migrare in seguito dalle impostazioni.")&&(t(),A.c.info("Migrazione saltata dall'utente"))},disabled:a.inProgress,children:"\u23ed\ufe0f Salta per Ora"})]}),Object(b.jsx)("div",{className:"migration-footer",children:Object(b.jsxs)("p",{className:"migration-disclaimer",children:["\ud83d\udd10 ",Object(b.jsx)("strong",{children:"Privacy e Sicurezza:"})," I tuoi dati sono criptati e protetti da Firebase.",Object(b.jsx)("br",{}),"\u26a1 ",Object(b.jsx)("strong",{children:"Veloce:"})," Il processo richiede solo pochi minuti.",Object(b.jsx)("br",{}),"\ud83d\udd04 ",Object(b.jsx)("strong",{children:"Reversibile:"})," Puoi sempre ripristinare i dati locali se necessario."]})})]})})};a(27);const U=Object(s.lazy)(()=>Promise.all([a.e(3),a.e(4)]).then(a.bind(null,50))),q=Object(s.lazy)(()=>a.e(5).then(a.bind(null,54))),B=Object(s.lazy)(()=>a.e(6).then(a.bind(null,55)));function W(){const{user:e,loading:t,error:a,migrationStatus:r}=Object(l.b)();return t?Object(b.jsx)("div",{className:"app-loading",children:Object(b.jsxs)("div",{className:"loading-container",children:[Object(b.jsx)("div",{className:"loading-spinner"}),Object(b.jsx)("h2",{children:"\ud83c\udfcb\ufe0f Extraordinary Growth"}),Object(b.jsx)("p",{children:"Caricamento in corso..."})]})}):a?Object(b.jsx)("div",{className:"app-error",children:Object(b.jsxs)("div",{className:"error-container",children:[Object(b.jsx)("h2",{children:"\u26a0\ufe0f Errore"}),Object(b.jsx)("p",{children:a}),Object(b.jsx)("button",{onClick:()=>window.location.reload(),children:"Ricarica Pagina"})]})}):Object(b.jsx)(n.a,{children:Object(b.jsxs)("div",{className:"App",children:[!e&&Object(b.jsx)(F,{}),e&&r.isRequired&&Object(b.jsx)(L,{}),Object(b.jsxs)(c.c,{children:[Object(b.jsx)(c.a,{path:"/",element:Object(b.jsx)(j,{})}),Object(b.jsx)(c.a,{path:"/workout",element:Object(b.jsx)(f,{})}),Object(b.jsx)(c.a,{path:"/nutrition",element:Object(b.jsx)(x,{})}),Object(b.jsx)(c.a,{path:"/supplements",element:Object(b.jsx)(y,{})}),Object(b.jsx)(c.a,{path:"/recovery",element:Object(b.jsx)(S,{})}),Object(b.jsx)(c.a,{path:"/progress",element:Object(b.jsx)(w,{})}),Object(b.jsx)(c.a,{path:"/analytics",element:Object(b.jsx)(s.Suspense,{fallback:Object(b.jsx)("div",{className:"loading-analytics",children:"Caricamento Analytics..."}),children:Object(b.jsx)(U,{})})}),Object(b.jsx)(c.a,{path:"/nutrition-tracker",element:Object(b.jsx)(s.Suspense,{fallback:Object(b.jsx)("div",{className:"loading-nutrition",children:"Caricamento Nutrition Tracker..."}),children:Object(b.jsx)(q,{})})}),Object(b.jsx)(c.a,{path:"/recovery-timer",element:Object(b.jsx)(s.Suspense,{fallback:Object(b.jsx)("div",{className:"loading-recovery",children:"Caricamento Recovery Timer..."}),children:Object(b.jsx)(B,{})})})]})]})})}var G=function(){return Object(b.jsx)(l.a,{children:Object(b.jsx)(W,{})})};o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(G,{})}),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.75beb9f4.chunk.js.map