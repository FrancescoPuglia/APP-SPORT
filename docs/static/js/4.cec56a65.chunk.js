(this["webpackJsonpextraordinary-growth-app"]=this["webpackJsonpextraordinary-growth-app"]||[]).push([[4],{40:function(e,t,s){"use strict";s.r(t);var a=s(4),r=s(1),i=s(6),c=s(33),n=s(34),l=s(39);const o=new class{constructor(){this.storageKeys={workouts:"userData_workouts",measurements:"userData_measurements",nutrition:"userData_nutrition",supplements:"userData_supplements",recovery:"userData_recovery"}}saveWorkout(e){const t=this.getWorkouts(),s=Object(a.a)({id:Date.now().toString(),date:(new Date).toISOString()},e);return t.unshift(s),localStorage.setItem(this.storageKeys.workouts,JSON.stringify(t)),s}getWorkouts(){const e=localStorage.getItem(this.storageKeys.workouts);return e?JSON.parse(e):[]}saveMeasurement(e){const t=this.getMeasurements(),s=Object(a.a)({id:Date.now().toString(),date:(new Date).toISOString()},e);return t.unshift(s),localStorage.setItem(this.storageKeys.measurements,JSON.stringify(t)),s}getMeasurements(){const e=localStorage.getItem(this.storageKeys.measurements);return e?JSON.parse(e):[]}getNutritionData(){const e=JSON.parse(localStorage.getItem("completedMeals")||"{}"),t=parseInt(localStorage.getItem("nutritionStreak")||"0"),s=((new Date).toDateString(),[]);for(let a=0;a<7;a++){const t=new Date;t.setDate(t.getDate()-a);const r=t.toDateString(),i=Object.keys(e).filter(e=>e.startsWith(r)).length;s.push({date:r,mealsCompleted:i,adherence:Math.min(i/4*100,100)})}return{completedMeals:e,nutritionStreak:t,weeklyAdherence:s,avgAdherence:s.reduce((e,t)=>e+t.adherence,0)/7}}getAnalyticsData(){const e=this.getWorkouts(),t=this.getMeasurements(),s=this.getNutritionData(),a=JSON.parse(localStorage.getItem("supplementsTaken")||"{}"),r=JSON.parse(localStorage.getItem("recoveryHistory")||"[]");return{workouts:e,measurements:t,nutrition:s,supplements:a,recovery:r,stats:{totalWorkouts:e.length,currentStreak:this.calculateWorkoutStreak(e),weightProgress:this.calculateWeightProgress(t),strengthProgress:this.calculateStrengthProgress(e),nutritionAdherence:s.avgAdherence,supplementCompliance:this.calculateSupplementCompliance(a),recoveryFrequency:r.length}}}calculateWorkoutStreak(e){if(!e.length)return 0;const t=new Date;let s=0,a=new Date(t);const r=e.map(e=>new Date(e.date)).sort((e,t)=>t-e);for(let i=0;i<30;i++){const e=a.toDateString();if(r.some(t=>t.toDateString()===e))s++;else if(s>0)break;a.setDate(a.getDate()-1)}return s}calculateWeightProgress(e){if(e.length<2)return{change:0,trend:"stable"};const t=e[0],s=e[e.length-1],a=t.weight-s.weight,r=a>1?"gaining":a<-1?"losing":"stable";return{change:a.toFixed(1),trend:r}}calculateStrengthProgress(e){const t={};e.forEach(e=>{e.exercises&&e.exercises.forEach(s=>{t[s.name]||(t[s.name]=[]),t[s.name].push({date:e.date,weight:s.weight,reps:s.reps,volume:s.weight*s.reps*s.sets})})});const s={};return Object.keys(t).forEach(e=>{const a=t[e].sort((e,t)=>new Date(e.date)-new Date(t.date));if(a.length>=2){const t=a[0],r=a[a.length-1];s[e]={initialWeight:t.weight,currentWeight:r.weight,improvement:((r.weight-t.weight)/t.weight*100).toFixed(1),sessions:a.length}}}),s}calculateSupplementCompliance(e){(new Date).toDateString();const t=[];for(let a=0;a<7;a++){const s=new Date;s.setDate(s.getDate()-a);const r=s.toDateString(),i=Object.keys(e).filter(e=>e.startsWith(r)).length;t.push(i)}const s=t.reduce((e,t)=>e+t,0)/7;return Math.round(s/5*100)}clearAllData(){Object.values(this.storageKeys).forEach(e=>{localStorage.removeItem(e)}),localStorage.removeItem("completedMeals"),localStorage.removeItem("nutritionStreak"),localStorage.removeItem("supplementsTaken"),localStorage.removeItem("recoveryHistory")}exportData(){return{workouts:this.getWorkouts(),measurements:this.getMeasurements(),nutrition:this.getNutritionData(),analytics:this.getAnalyticsData()}}};var d=s(0);c.f.register(c.e,c.l,c.n,c.k,c.c,c.r,c.s,c.i,c.h,c.a);t.default=()=>{var e,t;const s=Object(i.p)(),[c,h]=Object(r.useState)("3months"),[u,j]=Object(r.useState)("weight"),[m,g]=Object(r.useState)(!1),[b,p]=Object(r.useState)(null);Object(r.useEffect)(()=>{const e=()=>{const e=o.getAnalyticsData();p(e)};e();const t=setInterval(e,3e4);return()=>clearInterval(t)},[]);const O={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:"#00ffff",font:{size:12,weight:"bold"}}},tooltip:{backgroundColor:"rgba(0, 255, 255, 0.9)",titleColor:"#000",bodyColor:"#000",borderColor:"#00ffff",borderWidth:2}},scales:{x:{grid:{color:"rgba(0, 255, 255, 0.1)"},ticks:{color:"#00ffff",font:{weight:"bold"}}},y:{grid:{color:"rgba(0, 255, 255, 0.1)"},ticks:{color:"#00ffff",font:{weight:"bold"}}}}},v=(()=>{if(b&&b.measurements&&b.measurements.length>0){const e=b.measurements.slice(-30);return{labels:e.map(e=>Object(l.a)(new Date(e.date),"dd/MM")),weightData:e.map(e=>e.weight||0),muscleMassData:e.map(e=>e.muscleMass||0)}}return{labels:["No Data","Inserisci","Misurazioni","Reali"],weightData:[0,0,0,0],muscleMassData:[0,0,0,0]}})(),x={labels:v.labels,datasets:[{label:"Peso (kg)",data:v.weightData,borderColor:"#00ffff",backgroundColor:"rgba(0, 255, 255, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"#ff9500",pointBorderColor:"#00ffff",pointBorderWidth:2,pointRadius:6},{label:"Massa Muscolare (kg)",data:v.muscleMassData,borderColor:"#ff9500",backgroundColor:"rgba(255, 149, 0, 0.1)",borderWidth:3,fill:!0,tension:.4,pointBackgroundColor:"#00ffff",pointBorderColor:"#ff9500",pointBorderWidth:2,pointRadius:6}]},N=(()=>{if(b&&b.workouts&&b.workouts.length>0){const e=b.workouts.slice(-10);return{labels:e.map((e,t)=>"Workout ".concat(t+1)),volumeData:e.map(e=>e.exercises&&e.exercises.length>0?e.exercises.reduce((e,t)=>e+t.weight*t.reps*t.sets,0):0),durationData:e.map(e=>e.duration||0)}}return{labels:["Nessun Workout","Inserisci","Dati","Reali"],volumeData:[0,0,0,0],durationData:[0,0,0,0]}})(),k={labels:N.labels,datasets:[{label:"Volume (kg)",data:N.volumeData,backgroundColor:"rgba(0, 255, 255, 0.8)",borderColor:"#00ffff",borderWidth:2},{label:"Durata (min)",data:N.durationData,backgroundColor:"rgba(255, 149, 0, 0.8)",borderColor:"#ff9500",borderWidth:2,yAxisID:"y1"}]},f=Object(a.a)(Object(a.a)({},O),{},{scales:Object(a.a)(Object(a.a)({},O.scales),{},{y1:{type:"linear",display:!0,position:"right",grid:{drawOnChartArea:!1},ticks:{color:"#ff9500",font:{weight:"bold"}}}})}),y=(()=>{if(b&&b.workouts&&b.workouts.length>0){const e={};let t=0;if(b.workouts.forEach(s=>{s.exercises&&s.exercises.forEach(s=>{const a=s.weight*s.reps*s.sets,r=s.muscleGroup||"Altro";e[r]=(e[r]||0)+a,t+=a})}),t>0){const s=Object.keys(e),a=s.map(s=>Math.round(e[s]/t*100));return{labels:s,data:a}}}return{labels:["Nessun Dato","Inserisci Workout"],data:[50,50]}})(),D={labels:y.labels,datasets:[{data:y.data,backgroundColor:["#00ffff","#ff9500","#ff6b6b","#4ecdc4","#45b7d1","#96ceb4","#feca57"],borderColor:"#000",borderWidth:2}]},w=b?{totalWorkouts:b.stats.totalWorkouts||0,currentStreak:b.stats.currentStreak||0,totalVolume:N.volumeData.reduce((e,t)=>e+t,0),avgWorkoutDuration:N.durationData.length>0?Math.round(N.durationData.reduce((e,t)=>e+t,0)/N.durationData.length):0,weightGain:b.stats.weightProgress?b.stats.weightProgress.change:"0.0",muscleGain:v.muscleMassData.length>1?(v.muscleMassData[v.muscleMassData.length-1]-v.muscleMassData[0]).toFixed(1):"0.0",bodyFatLoss:"0.0",nutritionAdherence:Math.round(b.stats.nutritionAdherence||0),supplementCompliance:b.stats.supplementCompliance||0,recoveryFrequency:b.stats.recoveryFrequency||0,bestLift:b.stats.strengthProgress?Math.max(...Object.values(b.stats.strengthProgress).map(e=>e.currentWeight||0)):0}:{totalWorkouts:0,currentStreak:0,totalVolume:0,avgWorkoutDuration:0,weightGain:"0.0",muscleGain:"0.0",bodyFatLoss:"0.0",nutritionAdherence:0,supplementCompliance:0,recoveryFrequency:0,bestLift:0},S=(()=>{if(!b)return[{type:"info",icon:"\ud83d\udcca",title:"Inizia il Tracking",message:"Aggiungi dati ai tuoi allenamenti per ricevere insights personalizzati!"}];const e=[];if(w.currentStreak>=7?e.push({type:"success",icon:"\ud83d\udd25",title:"Streak Fantastico!",message:"".concat(w.currentStreak," giorni consecutivi! La costanza \xe8 la chiave del successo.")}):w.totalWorkouts>0&&e.push({type:"warning",icon:"\u26a1",title:"Mantieni la Costanza",message:"Cerca di allenarti regolarmente per massimizzare i risultati."}),w.nutritionAdherence>=80?e.push({type:"success",icon:"\ud83e\udd57",title:"Nutrizione Eccellente",message:"".concat(w.nutritionAdherence,"% di aderenza alla dieta. Ottimo lavoro!")}):w.nutritionAdherence>0&&e.push({type:"warning",icon:"\ud83c\udf7d\ufe0f",title:"Migliora la Nutrizione",message:"Completa pi\xf9 pasti per raggiungere i tuoi obiettivi pi\xf9 velocemente."}),b.stats.strengthProgress&&Object.keys(b.stats.strengthProgress).length>0){const t=Object.values(b.stats.strengthProgress).map(e=>parseFloat(e.improvement||0)).filter(e=>e>0);if(t.length>0){const s=t.reduce((e,t)=>e+t,0)/t.length;e.push({type:"success",icon:"\ud83d\udcaa",title:"Progressi di Forza",message:"Miglioramento medio del ".concat(s.toFixed(1),"% sui tuoi esercizi!")})}}return 0===e.length&&e.push({type:"info",icon:"\ud83d\ude80",title:"Continua Cos\xec",message:"Mantieni la disciplina e i risultati arriveranno!"}),e.slice(0,3)})();return Object(d.jsxs)("div",{className:"analytics-premium",children:[Object(d.jsxs)("div",{className:"analytics-header",children:[Object(d.jsxs)("button",{className:"back-button",onClick:()=>s("/"),title:"Torna alla Dashboard",children:[Object(d.jsx)("span",{className:"back-icon",children:"\u2190"}),Object(d.jsx)("span",{className:"back-text",children:"Dashboard"})]}),Object(d.jsxs)("div",{className:"header-title",children:[Object(d.jsx)("h1",{children:"\ud83d\udcca ANALYTICS ENTERPRISE"}),Object(d.jsx)("p",{className:"subtitle",children:"Dashboard avanzata per il monitoraggio dei progressi"})]}),Object(d.jsx)("div",{className:"period-selector",children:Object(d.jsxs)("select",{value:c,onChange:e=>h(e.target.value),className:"period-select",children:[Object(d.jsx)("option",{value:"1month",children:"1 Mese"}),Object(d.jsx)("option",{value:"3months",children:"3 Mesi"}),Object(d.jsx)("option",{value:"6months",children:"6 Mesi"}),Object(d.jsx)("option",{value:"1year",children:"1 Anno"})]})})]}),Object(d.jsxs)("div",{className:"kpi-grid",children:[Object(d.jsxs)("div",{className:"kpi-card primary",children:[Object(d.jsx)("div",{className:"kpi-icon",children:"\ud83d\udcaa"}),Object(d.jsxs)("div",{className:"kpi-data",children:[Object(d.jsxs)("span",{className:"kpi-value",children:["+",w.weightGain,"kg"]}),Object(d.jsx)("span",{className:"kpi-label",children:"Peso Totale"})]}),Object(d.jsx)("div",{className:"kpi-trend up",children:"\u2197 +15%"})]}),Object(d.jsxs)("div",{className:"kpi-card success",children:[Object(d.jsx)("div",{className:"kpi-icon",children:"\ud83d\udd25"}),Object(d.jsxs)("div",{className:"kpi-data",children:[Object(d.jsxs)("span",{className:"kpi-value",children:["+",w.muscleGain,"kg"]}),Object(d.jsx)("span",{className:"kpi-label",children:"Massa Muscolare"})]}),Object(d.jsx)("div",{className:"kpi-trend up",children:"\u2197 +12%"})]}),Object(d.jsxs)("div",{className:"kpi-card warning",children:[Object(d.jsx)("div",{className:"kpi-icon",children:"\u2696\ufe0f"}),Object(d.jsxs)("div",{className:"kpi-data",children:[Object(d.jsxs)("span",{className:"kpi-value",children:["-",w.bodyFatLoss,"%"]}),Object(d.jsx)("span",{className:"kpi-label",children:"Grasso Corporeo"})]}),Object(d.jsx)("div",{className:"kpi-trend down",children:"\u2198 -13%"})]}),Object(d.jsxs)("div",{className:"kpi-card info",children:[Object(d.jsx)("div",{className:"kpi-icon",children:"\ud83c\udfc6"}),Object(d.jsxs)("div",{className:"kpi-data",children:[Object(d.jsx)("span",{className:"kpi-value",children:w.currentStreak}),Object(d.jsx)("span",{className:"kpi-label",children:"Giorni Consecutivi"})]}),Object(d.jsx)("div",{className:"kpi-trend up",children:"\ud83d\udd25 Streak!"})]})]}),Object(d.jsxs)("div",{className:"charts-grid",children:[Object(d.jsxs)("div",{className:"chart-container",children:[Object(d.jsxs)("div",{className:"chart-header",children:[Object(d.jsx)("h3",{children:"\ud83d\udcc8 PROGRESSO COMPOSIZIONE CORPOREA"}),Object(d.jsxs)("div",{className:"chart-controls",children:[Object(d.jsx)("button",{className:"control-btn ".concat("weight"===u?"active":""),onClick:()=>j("weight"),children:"Peso"}),Object(d.jsx)("button",{className:"control-btn ".concat("muscle"===u?"active":""),onClick:()=>j("muscle"),children:"Muscoli"})]})]}),Object(d.jsx)("div",{className:"chart-wrapper",children:Object(d.jsx)(n.c,{data:x,options:O})})]}),Object(d.jsxs)("div",{className:"chart-container",children:[Object(d.jsxs)("div",{className:"chart-header",children:[Object(d.jsx)("h3",{children:"\ud83c\udfcb\ufe0f VOLUME & DURATA ALLENAMENTI"}),Object(d.jsx)("div",{className:"chart-stats",children:Object(d.jsxs)("span",{children:["Volume Medio: ",N.volumeData.length>0?Math.round(w.totalVolume/N.volumeData.length):0,"kg"]})})]}),Object(d.jsx)("div",{className:"chart-wrapper",children:Object(d.jsx)(n.a,{data:k,options:f})})]}),Object(d.jsxs)("div",{className:"chart-container",children:[Object(d.jsxs)("div",{className:"chart-header",children:[Object(d.jsx)("h3",{children:"\ud83c\udfaf DISTRIBUZIONE GRUPPI MUSCOLARI"}),Object(d.jsx)("div",{className:"chart-stats",children:Object(d.jsxs)("span",{children:["Sessioni Totali: ",w.totalWorkouts]})})]}),Object(d.jsx)("div",{className:"chart-wrapper",children:Object(d.jsx)(n.b,{data:D,options:O})})]})]}),Object(d.jsxs)("div",{className:"exercises-performance",children:[Object(d.jsx)("h3",{children:"\ud83c\udfc6 TOP PERFORMANCE ESERCIZI"}),Object(d.jsx)("div",{className:"exercises-grid",children:b&&b.stats.strengthProgress?Object.entries(b.stats.strengthProgress).map((e,t)=>{let[s,a]=e;return Object(d.jsxs)("div",{className:"exercise-card",children:[Object(d.jsxs)("div",{className:"exercise-header",children:[Object(d.jsx)("h4",{children:s}),Object(d.jsxs)("span",{className:"improvement",children:["+",a.improvement||0,"%"]})]}),Object(d.jsxs)("div",{className:"exercise-progress",children:[Object(d.jsx)("div",{className:"progress-bar",children:Object(d.jsx)("div",{className:"progress-fill",style:{width:"".concat(Math.min(a.currentWeight/200*100,100),"%")}})}),Object(d.jsxs)("div",{className:"exercise-stats",children:[Object(d.jsxs)("span",{children:["Attuale: ",Object(d.jsxs)("strong",{children:[a.currentWeight||0,"kg"]})]}),Object(d.jsxs)("span",{children:["Inizio: ",a.initialWeight||0,"kg"]})]})]})]},t)}):Object(d.jsxs)("div",{className:"no-data-message",children:[Object(d.jsx)("h4",{children:"\ud83c\udfcb\ufe0f Nessun Dato Disponibile"}),Object(d.jsx)("p",{children:"Aggiungi workout con pesi per vedere i progressi di forza"})]})})]}),Object(d.jsxs)("div",{className:"secondary-stats",children:[Object(d.jsxs)("div",{className:"stat-section",children:[Object(d.jsx)("h3",{children:"\ud83e\udd57 NUTRITION INSIGHTS (DATI REALI)"}),Object(d.jsxs)("div",{className:"stat-cards",children:[Object(d.jsxs)("div",{className:"stat-card",children:[Object(d.jsx)("div",{className:"stat-icon",children:"\ud83d\udcaa"}),Object(d.jsxs)("div",{className:"stat-info",children:[Object(d.jsxs)("span",{className:"stat-value",children:[null!==b&&void 0!==b&&null!==(e=b.nutrition)&&void 0!==e&&e.weeklyAdherence?Math.round(b.nutrition.weeklyAdherence.reduce((e,t)=>e+25*t.mealsCompleted,0)/7):0,"g"]}),Object(d.jsx)("span",{className:"stat-label",children:"Proteine/Giorno"})]})]}),Object(d.jsxs)("div",{className:"stat-card",children:[Object(d.jsx)("div",{className:"stat-icon",children:"\ud83d\udd25"}),Object(d.jsxs)("div",{className:"stat-info",children:[Object(d.jsx)("span",{className:"stat-value",children:null!==b&&void 0!==b&&null!==(t=b.nutrition)&&void 0!==t&&t.weeklyAdherence?Math.round(b.nutrition.weeklyAdherence.reduce((e,t)=>e+500*t.mealsCompleted,0)/7):0}),Object(d.jsx)("span",{className:"stat-label",children:"Calorie/Giorno"})]})]}),Object(d.jsxs)("div",{className:"stat-card",children:[Object(d.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),Object(d.jsxs)("div",{className:"stat-info",children:[Object(d.jsxs)("span",{className:"stat-value",children:[w.nutritionAdherence,"%"]}),Object(d.jsx)("span",{className:"stat-label",children:"Aderenza Dieta"})]})]})]})]}),Object(d.jsxs)("div",{className:"stat-section",children:[Object(d.jsx)("h3",{children:"\ud83d\udec1 RECOVERY INSIGHTS (DATI REALI)"}),Object(d.jsx)("div",{className:"recovery-list",children:b&&b.recovery&&b.recovery.length>0?b.recovery.slice(0,4).map((e,t)=>Object(d.jsxs)("div",{className:"recovery-item",children:[Object(d.jsx)("div",{className:"recovery-type",children:e.type||"Sessione"}),Object(d.jsxs)("div",{className:"recovery-duration",children:[e.duration||0,"min"]}),Object(d.jsx)("div",{className:"recovery-quality",children:"\u2605".repeat(Math.floor((e.quality||5)/2))})]},t)):Object(d.jsxs)("div",{className:"no-recovery-data",children:[Object(d.jsx)("p",{children:"\ud83d\udec1 Nessuna sessione recovery registrata"}),Object(d.jsx)("small",{children:"Usa la sezione Recovery per tracciare le tue sessioni"})]})})]})]}),Object(d.jsxs)("div",{className:"ai-insights",children:[Object(d.jsx)("h3",{children:"\ud83e\udd16 AI INSIGHTS & RACCOMANDAZIONI (BASATE SUI TUOI DATI)"}),Object(d.jsx)("div",{className:"insights-grid",children:S.map((e,t)=>Object(d.jsxs)("div",{className:"insight-card ".concat(e.type),children:[Object(d.jsx)("div",{className:"insight-icon",children:e.icon}),Object(d.jsxs)("div",{className:"insight-content",children:[Object(d.jsx)("h4",{children:e.title}),Object(d.jsx)("p",{children:e.message})]})]},t))})]}),Object(d.jsxs)("div",{className:"data-status",style:{padding:"20px",background:b?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",borderRadius:"10px",textAlign:"center",marginTop:"20px",border:"2px solid ".concat(b?"#22c55e":"#ef4444")},children:[Object(d.jsx)("h3",{style:{color:b?"#22c55e":"#ef4444"},children:b?"\u2705 ANALYTICS REALI ATTIVI":"\u26a0\ufe0f NESSUN DATO DISPONIBILE"}),Object(d.jsx)("p",{style:{color:b?"#22c55e":"#ef4444"},children:b?"Tutti i grafici e le statistiche sono basati sui tuoi dati reali!":"Aggiungi workout, misurazioni e completa pasti per vedere analytics reali."})]})]})}}}]);
//# sourceMappingURL=4.cec56a65.chunk.js.map