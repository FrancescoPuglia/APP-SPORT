(this["webpackJsonpextraordinary-growth-app"]=this["webpackJsonpextraordinary-growth-app"]||[]).push([[0],{13:function(e,t,a){"use strict";a.d(t,"a",function(){return i});var s=a(3);const i=new class{constructor(){this.storageKeys={workouts:"userData_workouts",measurements:"userData_measurements",nutrition:"userData_nutrition",supplements:"userData_supplements",recovery:"userData_recovery"}}saveWorkout(e){const t=this.getWorkouts(),a=Object(s.a)({id:Date.now().toString(),date:(new Date).toISOString()},e);return t.unshift(a),localStorage.setItem(this.storageKeys.workouts,JSON.stringify(t)),a}getWorkouts(){const e=localStorage.getItem(this.storageKeys.workouts);return e?JSON.parse(e):[]}saveMeasurement(e){const t=this.getMeasurements(),a=Object(s.a)({id:Date.now().toString(),date:(new Date).toISOString()},e);return t.unshift(a),localStorage.setItem(this.storageKeys.measurements,JSON.stringify(t)),a}getMeasurements(){const e=localStorage.getItem(this.storageKeys.measurements);return e?JSON.parse(e):[]}getNutritionData(){var e;const t=JSON.parse(localStorage.getItem("completedMeals")||"{}"),a=parseInt(localStorage.getItem("nutritionStreak")||"0"),s=JSON.parse(localStorage.getItem("nutritionHistory")||"[]"),i=JSON.parse(localStorage.getItem("nutritionCheats")||"{}"),r=((new Date).toDateString(),[]);for(let g=0;g<7;g++){const e=new Date;e.setDate(e.getDate()-g);const a=e.toDateString(),s=Object.keys(t).filter(e=>e.startsWith(a)).length;r.push({date:a,mealsCompleted:s,adherence:Math.min(s/4*100,100)})}const o=(new Date).getMonth(),n=(new Date).getFullYear(),c=Object.values(i).filter(e=>e.month===o&&e.year===n).length,l=Object.keys(i).length,d=Object.values(i).filter(e=>{const t=new Date(e.timestamp),a=new Date;return a.setDate(a.getDate()-30),t>=a}).length,m=s.filter(e=>e.completed).length,u=this.calculateAvgProteins(t),p=this.calculateAvgCalories(t);return{completedMeals:t,nutritionStreak:a,nutritionHistory:s,nutritionCheats:i,weeklyAdherence:r,avgAdherence:r.reduce((e,t)=>e+t.adherence,0)/7,totalMealsCompleted:m,avgProteinsDaily:u,avgCaloriesDaily:p,lastMealTime:(null===(e=s[0])||void 0===e?void 0:e.timestamp)||null,monthlyCheats:c,totalCheats:l,last30DaysCheats:d,cheatFrequency:l>0?l/Math.max(1,s.length/30):0}}calculateAvgProteins(e){const t=Object.values(e).filter(Boolean).length;return Math.round(35*t/7)}calculateAvgCalories(e){const t=Object.values(e).filter(Boolean).length;return Math.round(450*t/7)}getAnalyticsData(){const e=this.getWorkouts(),t=this.getMeasurements(),a=this.getNutritionData(),s=JSON.parse(localStorage.getItem("supplementsTaken")||"{}"),i=JSON.parse(localStorage.getItem("recoveryHistory")||"[]");return{workouts:e,measurements:t,nutrition:a,supplements:s,recovery:i,stats:{totalWorkouts:e.length,currentStreak:this.calculateWorkoutStreak(e),weightProgress:this.calculateWeightProgress(t),strengthProgress:this.calculateStrengthProgress(e),nutritionAdherence:a.avgAdherence,supplementCompliance:this.calculateSupplementCompliance(s),recoveryFrequency:i.length}}}calculateWorkoutStreak(e){if(console.log("\ud83d\udea8 CALCOLO STREAK - Input workouts:",e.length),!e.length)return console.log("\u274c NESSUN WORKOUT TROVATO"),0;const t=e.map(e=>new Date(e.date).toISOString().split("T")[0]);console.log("\ud83d\udcc5 Date workout trovate:",t);const a=[...new Set(t)].sort().reverse();if(console.log("\ud83d\udcc5 Date uniche ordinate:",a),0===a.length)return 0;const s=new Date,i=s.toISOString().split("T")[0],r=new Date(s);r.setDate(r.getDate()-1);const o=r.toISOString().split("T")[0];console.log("\ud83d\udcc5 Oggi: ".concat(i,", Ieri: ").concat(o));let n=0,c=new Date(s);for(let l=0;l<365;l++){const e=c.toISOString().split("T")[0];if(a.includes(e))n++,console.log("\u2705 Workout trovato per ".concat(e,", streak: ").concat(n));else{if(0!==l){console.log("\u274c Nessun workout per ".concat(e,", streak interrotto a: ").concat(n));break}console.log("\u26a0\ufe0f Oggi ".concat(e," nessun workout, controllo ieri..."))}c.setDate(c.getDate()-1)}return console.log("\ud83d\udd25 STREAK FINALE: ".concat(n," giorni")),n}calculateWeightProgress(e){if(e.length<2)return{change:0,trend:"stable"};const t=e[0],a=e[e.length-1],s=t.weight-a.weight,i=s>1?"gaining":s<-1?"losing":"stable";return{change:s.toFixed(1),trend:i}}calculateStrengthProgress(e){const t={};e.forEach(e=>{e.exercises&&e.exercises.forEach(a=>{t[a.name]||(t[a.name]=[]),t[a.name].push({date:e.date,weight:a.weight,reps:a.reps,volume:a.weight*a.reps*a.sets})})});const a={};return Object.keys(t).forEach(e=>{const s=t[e].sort((e,t)=>new Date(e.date)-new Date(t.date));if(s.length>=2){const t=s[0],i=s[s.length-1];a[e]={initialWeight:t.weight,currentWeight:i.weight,improvement:((i.weight-t.weight)/t.weight*100).toFixed(1),sessions:s.length}}}),a}calculateSupplementCompliance(e){(new Date).toDateString();const t=[];for(let s=0;s<7;s++){const a=new Date;a.setDate(a.getDate()-s);const i=a.toDateString(),r=Object.keys(e).filter(e=>e.startsWith(i)).length;t.push(r)}const a=t.reduce((e,t)=>e+t,0)/7;return Math.round(a/5*100)}clearAllData(){Object.values(this.storageKeys).forEach(e=>{localStorage.removeItem(e)}),localStorage.removeItem("completedMeals"),localStorage.removeItem("nutritionStreak"),localStorage.removeItem("supplementsTaken"),localStorage.removeItem("recoveryHistory")}exportData(){return{workouts:this.getWorkouts(),measurements:this.getMeasurements(),nutrition:this.getNutritionData(),analytics:this.getAnalyticsData()}}}},22:function(e,t,a){},30:function(e,t,a){"use strict";a.r(t);var s=a(1),i=a.n(s),r=a(16),o=a.n(r),n=a(10),c=a(6),l=a(3);var d=()=>{const e=[{day:1,quote:"Champions aren't made in the gyms. Champions are made from something deep inside them: a desire, a dream, a vision.",author:"Muhammad Ali",context:"Petto + Bicipiti - Inizia la settimana con la forza del campione"},{day:2,quote:"The cave you fear to enter holds the treasure you seek.",author:"Arnold Schwarzenegger",context:"Dorso + Tricipiti - Affronta la paura, trova la forza"},{day:3,quote:"Strength does not come from physical capacity. It comes from an indomitable will.",author:"Mahatma Gandhi (adattato da Kobe Bryant)",context:"Gambe Complete - La vera forza viene dalla mente"},{day:4,quote:"Recovery is not a sign of weakness, it's a strategy of champions.",author:"LeBron James",context:"Recupero Attivo - Il riposo \xe8 parte della vittoria"},{day:5,quote:"Excellence is not a skill, it's an attitude.",author:"Ralph Marston (filosofia Michael Jordan)",context:"Spalle + Core - L'eccellenza \xe8 una scelta quotidiana"},{day:6,quote:"The body achieves what the mind believes.",author:"Napoleon Hill (ispirato da Serena Williams)",context:"Posteriori + Conditioning - Credi e raggiungerai"},{day:0,quote:"Rest when you're weary. Refresh and renew yourself, your body, your mind, your spirit. Then get back to work.",author:"Ralph Marston",context:"Riposo Completo - Rigenera per dominare"}],t=[{quote:"I don't measure a man's success by how high he climbs but how high he bounces when he hits bottom.",author:"George S. Patton",context:"Per i giorni difficili"},{quote:"The will to win, the desire to succeed, the urge to reach your full potential... these are the keys that will unlock the door to personal excellence.",author:"Confucio (filosofia Kobe Bryant)",context:"Quando manca la motivazione"},{quote:"Pain is temporary. Quitting lasts forever.",author:"Lance Armstrong",context:"Durante l'allenamento intenso"},{quote:"You have power over your mind - not outside events. Realize this, and you will find strength.",author:"Marcus Aurelius (filosofia Tom Brady)",context:"Controllo mentale"},{quote:"The brick walls are there for a reason. The brick walls are not there to keep us out. The brick walls are there to give us a chance to show how badly we want something.",author:"Randy Pausch (mentalit\xe0 Cristiano Ronaldo)",context:"Superare gli ostacoli"}];return{getTodayQuote:()=>{const t=(new Date).getDay();return e.find(e=>e.day===t)||e[0]},getRandomAdditionalQuote:()=>t[Math.floor(Math.random()*t.length)],legendaryQuotes:e,additionalQuotes:t}},m=a(13);var u=()=>{const[e,t]=i.a.useState(new Date),[a,s]=i.a.useState({}),[r,o]=i.a.useState({}),n=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;const s=e.getMonth(),i=e.getFullYear(),r=Object.keys(t).filter(e=>{const a=new Date(e);return a.getMonth()===s&&a.getFullYear()===i&&t[e].completed}).length,n=c(t),l=d(t),m=u(t);o({monthlyWorkouts:r,currentStreak:n,longestStreak:l,weeklyAverage:m,lastUpdated:new Date})},c=e=>{const t=m.a.getWorkouts()||[],a=m.a.calculateWorkoutStreak(t),s=new Date;let i=0,r=new Date(s);for(;r;){const t=r.toISOString().split("T")[0];if(e[t]&&e[t].completed)i++,r.setDate(r.getDate()-1);else{if(0!==i||r.toDateString()!==s.toDateString())break;r.setDate(r.getDate()-1)}if(i>365)break}return console.log("\ud83d\udd25 Streak CalendarStreak: ".concat(i,", DataManager: ").concat(a)),Math.max(i,a)},d=e=>{let t=0,a=0;const s=Object.keys(e).filter(t=>e[t].completed).sort();for(let i=0;i<s.length;i++)if(0===i)a=1;else{const e=new Date(s[i-1]);1===(new Date(s[i])-e)/864e5?a++:(t=Math.max(t,a),a=1)}return Math.max(t,a)},u=e=>{const t=new Date;t.setDate(t.getDate()-28);return(Object.keys(e).filter(a=>new Date(a)>=t&&e[a].completed).length/4).toFixed(1)};i.a.useEffect(()=>{(()=>{const e=localStorage.getItem("streakData");e&&s(JSON.parse(e))})()},[]),i.a.useEffect(()=>{n()},[a,e]);return{currentDate:e,streakData:a,monthlyStats:r,markWorkoutCompleted:function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const r=e.toISOString().split("T")[0],o=Object(l.a)(Object(l.a)({},a),{},{[r]:{completed:!0,workoutType:t,exercises:i,timestamp:(new Date).toISOString()}});var c;c=o,localStorage.setItem("streakData",JSON.stringify(c)),s(c),n(o)},getDaysInMonth:e=>{const t=e.getFullYear(),s=e.getMonth(),i=new Date(t,s,1),r=new Date(t,s+1,0).getDate(),o=i.getDay(),n=[];for(let a=0;a<o;a++)n.push(null);for(let c=1;c<=r;c++){const e=new Date(t,s,c),i=e.toISOString().split("T")[0];n.push({date:e,day:c,isCompleted:a[i]&&a[i].completed,workoutType:a[i]?a[i].workoutType:null,isToday:e.toDateString()===(new Date).toDateString()})}return n},navigateMonth:a=>{const s=new Date(e);s.setMonth(s.getMonth()+a),t(s)},getStreakColor:e=>e>=30?"#ff006e":e>=21?"#ff9500":e>=14?"#00ff88":e>=7?"#00ffff":"#ffffff",getWorkoutTypeEmoji:e=>({"Petto + Bicipiti":"\ud83d\udcaa","Dorso + Tricipiti + Collo (A)":"\ud83c\udfcb\ufe0f","Gambe Complete":"\ud83e\uddb5","Recupero Attivo":"\ud83e\uddd8","Spalle Complete + Collo (B)":"\ud83d\udcab","Posteriori + Conditioning":"\ud83d\udd25","Riposo Completo":"\ud83d\ude34"}[e]||"\ud83d\udcaa"),monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayNames:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],calculateCurrentStreak:()=>c(a)}};var p=()=>{const[e,t]=i.a.useState({}),[a,s]=i.a.useState({}),[r,o]=i.a.useState({}),n=(e,t,a)=>{const s=c(t,a),i=r[e]||{weight:0,reps:0,oneRepMax:0,date:null};if(s>i.oneRepMax||t>i.weight&&a>=i.reps){const c=Object(l.a)(Object(l.a)({},r),{},{[e]:{weight:parseFloat(t),reps:parseInt(a),oneRepMax:s,date:(new Date).toISOString(),previousRecord:i.oneRepMax}});return n=c,localStorage.setItem("personalRecords",JSON.stringify(n)),o(n),!0}var n;return!1},c=(e,t)=>Math.round(e*(1+t/30)),d=t=>{const a=(new Date).toISOString().split("T")[0],i=Object.values(e).filter(e=>e.date===a&&e.completed);s(e=>Object(l.a)(Object(l.a)({},e),{},{[t]:!0,totalCompleted:i.length+1}))},m=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Object.values(e).filter(e=>e.exerciseName===t).sort((e,t)=>new Date(t.date)-new Date(e.date)).slice(0,a)},u=t=>{const a=(new Date).toISOString().split("T")[0];return Object.values(e).some(e=>e.exerciseName===t&&e.date===a&&e.completed)};return i.a.useEffect(()=>{(()=>{const e=localStorage.getItem("exerciseData");e&&t(JSON.parse(e));const a=localStorage.getItem("personalRecords");a&&o(JSON.parse(a))})()},[]),{exerciseData:e,sessionProgress:a,personalRecords:r,markExerciseCompleted:function(a,s,i,r){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;const m=(new Date).toISOString().split("T")[0],u="".concat(a,"_").concat(m),p={id:u,exerciseName:a,date:m,sets:parseInt(s),reps:parseInt(i),weight:parseFloat(r),notes:o,rir:c,timestamp:(new Date).toISOString(),completed:!0},g=Object(l.a)(Object(l.a)({},e),{},{[u]:p});var h;return h=g,localStorage.setItem("exerciseData",JSON.stringify(h)),t(h),n(a,r,i),d(a),p},getExerciseHistory:m,getTodayProgress:t=>{const a=(new Date).toISOString().split("T")[0],s=Object.values(e).filter(e=>e.date===a&&e.completed).length,i=t?t.length:0;return{completed:s,total:i,percentage:i>0?Math.round(s/i*100):0,remaining:Math.max(0,i-s)}},getWeeklyStats:()=>{const t=new Date;t.setDate(t.getDate()-7);const a=Object.values(e).filter(e=>new Date(e.date)>=t&&e.completed),s=a.reduce((e,t)=>e+t.sets,0),i=a.reduce((e,t)=>e+t.sets*t.reps,0),r=a.reduce((e,t)=>e+t.weight*t.sets*t.reps,0),o=new Set(a.map(e=>e.exerciseName)).size;return{sessions:a.length,totalSets:s,totalReps:i,totalVolume:Math.round(r),uniqueExercises:o,averageWeight:a.length>0?Math.round(a.reduce((e,t)=>e+t.weight,0)/a.length):0}},getMonthlyProgress:()=>{const t=new Date;t.setMonth(t.getMonth()-1);const a=Object.values(e).filter(e=>new Date(e.date)>=t&&e.completed),s=new Set(a.map(e=>e.date)).size,i=a.reduce((e,t)=>e+t.weight*t.sets*t.reps,0);return{workoutDays:s,totalExercises:a.length,totalVolume:Math.round(i),averageVolume:s>0?Math.round(i/s):0}},isExerciseCompletedToday:u,getExerciseProgressColor:e=>{var t;if(u(e))return"#00ff88";const a=m(e,3);if(0===a.length)return"#ffffff";const s=(null===(t=a[0])||void 0===t?void 0:t.weight)||0,i=a.reduce((e,t)=>e+t.weight,0)/a.length;return s>1.05*i?"#ff9500":s<.95*i?"#ff006e":"#00ffff"},updatePersonalRecord:n,calculateOneRepMax:c}};var g=()=>{const[e,t]=i.a.useState({}),[a,s]=i.a.useState({}),r={creatine:{name:"Creatina Monoidrato",dosage:"3-5g",timing:"Post-workout o qualsiasi momento",evidence:"A+ (Oltre 500 studi)",benefits:["\u2191 Forza 5-15%","\u2191 Potenza esplosiva","\u2191 Volume allenamento","\u2191 Massa muscolare"],mechanism:"Rigenera ATP per contrazioni muscolari ad alta intensit\xe0",notes:"Loading non necessario. Consistenza > timing. Funziona meglio con carboidrati.",color:"#00ff88",icon:"\ud83d\udcaa"},citrulline:{name:"L-Citrullina Malato",dosage:"6-8g",timing:"30-45min pre-workout",evidence:"A (Multipli RCT)",benefits:["\u2191 Pump muscolare","\u2191 Resistenza","\u2193 DOMS","\u2191 Ossido nitrico"],mechanism:"Precursore arginina \u2192 NO \u2192 vasodilatazione",notes:"Pi\xf9 efficace della L-Arginina. Sinergia con caffeina.",color:"#ff9500",icon:"\ud83d\udd25"},betaAlanine:{name:"Beta-Alanina",dosage:"3-5g",timing:"Divisa in 2-3 dosi giornaliere",evidence:"A (Evidenza consolidata)",benefits:["\u2191 Resistenza muscolare","\u2193 Fatica 1-4 min sforzo","\u2191 Volume alto-rep"],mechanism:"Aumenta carnosina muscolare \u2192 buffer acido lattico",notes:"Loading 2-4 settimane. Possibile parestesia (innocua).",color:"#00ffff",icon:"\u26a1"},omega3:{name:"Omega-3 EPA/DHA",dosage:"2-3g EPA+DHA",timing:"Con pasti contenenti grassi",evidence:"A+ (Migliaia di studi)",benefits:["\u2193 Infiammazione","\u2191 Recupero","\u2191 Sintesi proteica","\u2191 Salute cardiovascolare"],mechanism:"Modulazione cascata infiammatoria e membrane cellulari",notes:"Ratio EPA:DHA 2:1 ottimale. Qualit\xe0 > quantit\xe0.",color:"#0099ff",icon:"\ud83d\udc1f"},caffeine:{name:"Caffeina",dosage:"200-400mg",timing:"30-45min pre-workout",evidence:"A+ (Gold standard)",benefits:["\u2191 Focus","\u2191 Energia","\u2191 Performance","\u2191 Metabolismo grassi"],mechanism:"Antagonista adenosina \u2192 vigilanza + mobilizzazione grassi",notes:"Tolleranza sviluppa rapidamente. Ciclare 1-2 settimane ogni mese.",color:"#8B4513",icon:"\u2615"},vitaminD:{name:"Vitamina D3",dosage:"2000-4000 IU",timing:"Con pasto contenente grassi",evidence:"A (Critico se carente)",benefits:["\u2191 Testosterone","\u2191 Forza","\u2191 Salute ossea","\u2191 Sistema immunitario"],mechanism:"Regolazione ormonale e assorbimento calcio",notes:"Test ematico raccomandato. Target: 30-50 ng/mL.",color:"#FFD700",icon:"\u2600\ufe0f"}},o=e=>{const t=(new Date).toISOString().split("T")[0],s="".concat(e,"_").concat(t);return a[s]&&a[s].taken};return i.a.useEffect(()=>{(()=>{const e=(new Date).toISOString().split("T")[0],t=localStorage.getItem("supplementsTakenToday");if(t){const a=JSON.parse(t),i={};Object.keys(a).forEach(t=>{t.includes(e)&&(i[t]=a[t])}),s(i)}})()},[]),{evidenceBasedSupplements:r,removedSupplements:{hmb:"Scarsa evidenza per atleti allenati. Solo utile per anziani/principianti.",forskolin:"Studi inconsistenti. Nessun beneficio provato su composizione corporea.",rAla:"Evidenza limitata. Costo-beneficio sfavorevole vs omega-3.",bcaa:"Inutili se assumi proteine complete. Whey protein superiore.",glutamine:"Non ergogenica in soggetti sani. Solo utile in immunodepressione."},takenToday:a,markSupplementTaken:(e,t,i)=>{const r=(new Date).toISOString().split("T")[0],o="".concat(e,"_").concat(r),n=Object(l.a)(Object(l.a)({},a),{},{[o]:{supplement:e,dosage:t,timing:i,timestamp:(new Date).toISOString(),taken:!0}});s(n),localStorage.setItem("supplementsTakenToday",JSON.stringify(n));const c=JSON.parse(localStorage.getItem("supplementsHistory")||"{}");c[o]=n[o],localStorage.setItem("supplementsHistory",JSON.stringify(c))},isSupplementTakenToday:o,getSupplementProgress:()=>{const e=Object.keys(r).length,t=Object.keys(r).filter(e=>o(e)).length;return{taken:t,total:e,percentage:Math.round(t/e*100)}},getWeeklySupplementStats:()=>{const e=JSON.parse(localStorage.getItem("supplementsHistory")||"{}"),t=new Date;t.setDate(t.getDate()-7);const a=Object.values(e).filter(e=>new Date(e.timestamp)>=t),s={};return Object.keys(r).forEach(e=>{const t=a.filter(t=>t.supplement===e);s[e]={taken:t.length,percentage:Math.round(t.length/7*100)}}),s},getOptimalTiming:e=>{const t=e.getHours(),a=[];t>=6&&t<=10&&(a.push({supplement:"vitaminD",reason:"Assorbimento ottimale con prima colazione"}),a.push({supplement:"omega3",reason:"Con grassi della colazione per biodisponibilit\xe0"}));return 17===t&&(a.push({supplement:"caffeine",reason:"30-45min prima allenamento per picco energetico"}),a.push({supplement:"citrulline",reason:"Pre-workout per pump e resistenza"})),19===t&&a.push({supplement:"creatine",reason:"Post-workout con carboidrati per uptake"}),t>=20&&a.push({supplement:"betaAlanine",reason:"Loading serale per evitare parestesia diurna"}),a},createSupplementPlan:(e,t)=>({core:["creatine","omega3","vitaminD"],performance:["caffeine","citrulline"],endurance:["betaAlanine"],timing:{morning:["vitaminD","omega3"],preWorkout:["caffeine","citrulline"],postWorkout:["creatine"],evening:["betaAlanine"]}})}};var h=()=>{const[e,t]=i.a.useState({}),[a,s]=i.a.useState({}),r={sauna:{name:"Sauna Finlandese",temperature:"80-100\xb0C",humidity:"10-20%",duration:"15-20 min",timing:"Immediatamente post-workout",mechanism:"Heat Shock Proteins \u2192 Anabolismo + Cardiovascolare",benefits:["\u2191 Growth Hormone 24x","\u2191 Heat Shock Proteins (riparazione)","\u2191 Vasodilatazione (nutrienti muscolari)","\u2191 Eliminazione metaboliti"],protocol:["5-10 min iniziali per adattamento","2-3 sessioni da 15-20 min","Pause 2-3 min aria fresca tra sessioni","Idratazione: 500ml acqua + elettroliti"],precautions:["Mai subito dopo pasti abbondanti","Stop se nausea/vertigini/palpitazioni","Controindicato: ipertensione non controllata"],scientificEvidence:"A+ (Rhonda Patrick, Joyner studies)",color:"#ff6b35",icon:"\ud83d\udd25"},steamRoom:{name:"Bagno Turco",temperature:"40-50\xb0C",humidity:"90-100%",duration:"10-15 min",timing:"Giorni rest per mobilit\xe0/relax",mechanism:"Umidit\xe0 \u2192 Idratazione tessuti + Mobilit\xe0 articolare",benefits:["\u2191 Mobilit\xe0 articolare","\u2191 Idratazione tessuto connettivo","\u2193 Rigidit\xe0 muscolare","\u2191 Eliminazione tossine via pelle"],protocol:["10-15 min sessione unica","Respirazione profonda (vapori benefici)","Stretching dolce durante sessione","Doccia fredda finale (contrasto)"],precautions:["Attenzione claustrofobia","Igiene: sempre su asciugamano","Idratazione pre/post obbligatoria"],scientificEvidence:"B+ (Benefici mobilit\xe0 documentati)",color:"#4ecdc4",icon:"\ud83d\udca8"},iceBath:{name:"Crioterapia (Ice Bath)",temperature:"8-12\xb0C",humidity:"N/A",duration:"10-15 min",timing:"SOLO \u22654h post-workout (mai prima)",mechanism:"Vasocostrizione \u2192 Recovery neurologico + Anti-infiammatorio",benefits:["\u2193 Infiammazione acuta","\u2191 Recovery Sistema Nervoso","\u2191 Resilienza mentale","\u2193 Percezione fatica"],protocol:["Graduale: inizia 15\xb0C \u2192 10\xb0C \u2192 8\xb0C","2-3 min prime volte \u2192 10-15 min target","Respirazione controllata (Wim Hof)","Riscaldamento graduale post-immersione"],precautions:["MAI nelle 4h post-workout (blocca adattamenti)","Controindicato: problemi cardiaci","Supervisione iniziale raccomandata"],scientificEvidence:"A- (Timing critico per efficacia)",color:"#74b9ff",icon:"\ud83e\uddca"}};return i.a.useEffect(()=>{(()=>{const e=localStorage.getItem("recoveryLog");e&&t(JSON.parse(e));const a=(new Date).toISOString().split("T")[0],i=Object.values(JSON.parse(e||"{}")).filter(e=>e.date===a);s({sessions:i,totalTime:i.reduce((e,t)=>e+t.duration,0)})})()},[]),{thermoTherapyProtocols:r,contrastTherapy:{name:"Terapia Contrasto (Hot/Cold)",protocol:["Sauna 15 min (80-90\xb0C)","Doccia fredda 1 min (15\xb0C)","Ripeti ciclo 3-4 volte","Termina sempre con freddo"],benefits:["Pump vascolare (vasodilatazione/costrizione)","Massimo stimolo circolatorio","Recovery accelerata","Resilienza termica"],timing:"Post-workout giorni intensi",scientificEvidence:"A (Scandinavian protocols)",color:"#fd79a8",icon:"\ud83c\udf21\ufe0f"},optimalTiming:{postWorkout:{immediate:["sauna"],after2h:["steamRoom","contrastTherapy"],after4h:["iceBath"],nextMorning:["sauna leggera","steamRoom"]},restDays:{morning:["steamRoom","sauna leggera"],evening:["iceBath","contrastTherapy"]},competition:{before:"Evitare ice bath 48h prima",after:"Full protocol per recovery rapido"}},biohacking:{breathwork:{name:"Wim Hof Method",protocol:"30 respiri profondi \u2192 apnea \u2192 ripeti 3 cicli",benefits:"Adattamento stress termico + controllo SNA",timing:"Pre ice bath o standalone"},supplements:{preSauna:"Magnesio 400mg (vasodilatazione)",preIceBath:"L-Theanina 200mg (calma mentale)",postBoth:"Elettroliti + Vitamina C"},monitoring:{heartRate:"HRV pre/post per valutare recovery",bodyTemp:"Termometro infrarossi per tracking",subjective:"Scale 1-10 per energia/dolori"}},recoveryLog:e,todayRecovery:a,markRecoverySession:(i,r,o,n,c)=>{const d=(new Date).toISOString().split("T")[0],m="".concat(i,"_").concat(Date.now()),u={id:m,date:d,therapy:i,duration:parseInt(r),temperature:parseFloat(o),notes:n,effectiveness:parseInt(c),timestamp:(new Date).toISOString()},p=Object(l.a)(Object(l.a)({},e),{},{[m]:u});t(p),localStorage.setItem("recoveryLog",JSON.stringify(p));const g=Object.values(p).filter(e=>e.date===d);s(Object(l.a)(Object(l.a)({},a),{},{sessions:g,totalTime:g.reduce((e,t)=>e+t.duration,0)}))},getRecoveryRecommendation:(e,t,a)=>{const s=[],i=e?(new Date-new Date(e))/36e5:24;return i<2?s.push({therapy:"sauna",priority:"Alta",reason:"Finestra anabolica ottimale per heat shock proteins"}):i>=4&&s.push({therapy:"iceBath",priority:"Media",reason:"Recovery Sistema Nervoso senza interferire adattamenti"}),t>=8&&s.push({therapy:"contrastTherapy",priority:"Alta",reason:"Recovery accelerata per sessioni ad alta intensit\xe0"}),a>=7&&s.push({therapy:"steamRoom",priority:"Media",reason:"Relax parasimpatico per gestione stress"}),s},getRecoveryStats:()=>{const t=Object.values(e).filter(e=>{const t=new Date(e.date),a=new Date;return a.setDate(a.getDate()-7),t>=a}),a={totalSessions:t.length,totalTime:t.reduce((e,t)=>e+t.duration,0),averageEffectiveness:t.length>0?Math.round(t.reduce((e,t)=>e+t.effectiveness,0)/t.length):0,therapyBreakdown:{}};return Object.keys(r).forEach(e=>{const s=t.filter(t=>t.therapy===e);a.therapyBreakdown[e]={sessions:s.length,time:s.reduce((e,t)=>e+t.duration,0)}}),a}}},b=a(0);var j=()=>{const e=d(),t=(u(),p()),a=g(),s=h(),[r,o]=i.a.useState({currentWeight:0,muscleGain:0,workoutSessions:0,totalWorkoutTime:0,weeklyTime:0,daysActive:0,lastWorkout:null,currentStreak:0}),[c,j]=i.a.useState(null),[O,x]=i.a.useState({startWeight:75,targetWeight:80,targetBench:100,targetSquat:140,targetDeadlift:160,startDate:new Date,weeksCompleted:0}),f=()=>{var e;console.log("\ud83d\udea8 DASHBOARD LOADING - DEBUG COMPLETO");const t=m.a.getAnalyticsData(),a=t.workouts||[],s=t.measurements||[],i=t.stats||{},r=JSON.parse(localStorage.getItem("goals12Week")||"{}");console.log("\ud83d\udcca Analytics Data:",t),console.log("\ud83c\udfcb\ufe0f Workouts trovati:",a.length),console.log("\ud83d\udcc5 Date workouts:",a.map(e=>e.date)),console.log("\ud83d\udd25 Current Streak da stats:",i.currentStreak);const n=m.a.calculateWorkoutStreak(a);console.log("\ud83d\udd25 Streak calcolato direttamente:",n);const c=s[0],d=s[s.length-1],u=new Date,p=new Date(u.getTime()-6048e5),g=a.filter(e=>new Date(e.date)>=p),h=a.reduce((e,t)=>e+(t.duration||0),0),b=g.reduce((e,t)=>e+(t.duration||0),0),O=g.reduce((e,t)=>t.exercises?e+t.exercises.reduce((e,t)=>e+(t.weight||0)*(t.sets||0)*(t.reps||0),0):e,0),f=g.reduce((e,t)=>t.exercises?e+t.exercises.reduce((e,t)=>e+(t.sets||0),0):e,0),v=new Date(u.getTime()-2592e6),y=a.filter(e=>new Date(e.date)>=v);if(o({currentWeight:(null===c||void 0===c?void 0:c.weight)||r.startWeight||75,muscleGain:c&&d?parseFloat(c.muscleMass)-parseFloat(d.muscleMass):0,workoutSessions:a.length,totalWorkoutTime:h,weeklyTime:b,daysActive:new Set(a.map(e=>e.date.split("T")[0])).size,lastWorkout:(null===(e=a[0])||void 0===e?void 0:e.date)||null,currentStreak:i.currentStreak||0,weeklyVolume:Math.round(O),weeklySets:f,weeklyWorkouts:g.length,monthlyWorkouts:y.length}),j({1:{name:"Petto + Bicipiti",exercises:7,focus:"Upper Power"},2:{name:"Dorso + Tricipiti + Collo (A)",exercises:10,focus:"Pull Strength"},3:{name:"Gambe Complete",exercises:7,focus:"Lower Power"},4:{name:"Recupero Attivo",exercises:3,focus:"Recovery"},5:{name:"Spalle Complete + Collo (B)",exercises:13,focus:"Delts 3D"},6:{name:"Posteriori + Conditioning",exercises:7,focus:"Athletic"},0:{name:"Riposo Completo",exercises:4,focus:"Rest"}}[(new Date).getDay()]),r.startDate){const e=Math.floor((u-new Date(r.startDate))/6048e5);x(Object(l.a)(Object(l.a)({},r),{},{weeksCompleted:e}))}},v=e=>e===(new Date).getDate(),y=e=>{if(!e)return!1;const t=m.a.getWorkouts()||[],a=new Date,s=a.getMonth(),i=a.getFullYear(),r=new Date(i,s,e).toDateString(),o=t.some(e=>new Date(e.date).toDateString()===r);return console.log("\ud83d\udd0d Controllo giorno ".concat(e,": ").concat(r,", workout trovato: ").concat(o)),console.log("\ud83d\udd0d Workouts disponibili:",t.map(e=>({date:e.date,dateString:new Date(e.date).toDateString()}))),o},S=e.getTodayQuote(),w=t.getTodayProgress(null===c||void 0===c?void 0:c.exercises),N=a.getSupplementProgress(),k=s.getRecoveryStats();return i.a.useEffect(()=>{f();const e=()=>f(),t=t=>{console.log("\ud83d\ude80 Workout completato, ricarico dashboard!",t.detail),e()},a=t=>{console.log("\ud83c\udf7d\ufe0f Pasto aggiornato, ricarico dashboard!",t.detail),e()},s=t=>{console.log("\ud83d\udd25 Giorno nutrizionale completato!",t.detail),e()},i=t=>{console.log("\ud83c\udf55 Sgarro registrato!",t.detail),e()},r=()=>{"visible"===document.visibilityState&&e()};return window.addEventListener("workoutCompleted",t),window.addEventListener("mealToggled",a),window.addEventListener("nutritionCompleted",s),window.addEventListener("cheatAdded",i),window.addEventListener("storage",e),document.addEventListener("visibilitychange",r),()=>{window.removeEventListener("workoutCompleted",t),window.removeEventListener("mealToggled",a),window.removeEventListener("nutritionCompleted",s),window.removeEventListener("cheatAdded",i),window.removeEventListener("storage",e),document.removeEventListener("visibilitychange",r)}},[]),Object(b.jsxs)("div",{className:"dashboard",children:[Object(b.jsxs)("header",{className:"dashboard-header",children:[Object(b.jsx)("h1",{children:"\ud83c\udfc6 FISICO DELLA MADONNA"}),Object(b.jsx)("p",{className:"tagline",children:"\"L'eccellenza non \xe8 un atto, ma un'abitudine\" - Aristotele"})]}),Object(b.jsx)("div",{className:"daily-motivation",children:Object(b.jsxs)("div",{className:"quote-card",children:[Object(b.jsx)("h3",{children:"\ud83d\udcad Frase del Giorno"}),Object(b.jsxs)("blockquote",{children:['"',S.quote,'"',Object(b.jsxs)("footer",{children:["\u2014 ",S.author]})]}),Object(b.jsx)("p",{className:"quote-context",children:S.context})]})}),Object(b.jsxs)("div",{className:"today-workout-preview",children:[Object(b.jsxs)("h3",{children:["\ud83c\udfaf Oggi: ",null===c||void 0===c?void 0:c.name]}),Object(b.jsxs)("div",{className:"workout-quick-stats",children:[Object(b.jsx)("span",{className:"workout-focus",children:null===c||void 0===c?void 0:c.focus}),Object(b.jsxs)("span",{className:"workout-exercises",children:[null===c||void 0===c?void 0:c.exercises," esercizi"]}),Object(b.jsxs)("span",{className:"workout-progress ".concat(100===w.percentage?"completed":""),children:[w.completed,"/",w.total," completati (",w.percentage,"%)"]})]}),Object(b.jsx)("div",{className:"progress-bar",children:Object(b.jsx)("div",{className:"progress-fill",style:{width:"".concat(w.percentage,"%")}})}),Object(b.jsx)(n.b,{to:"/workout",className:"start-workout-btn",children:0===w.percentage?"\ud83d\ude80 INIZIA WORKOUT":100===w.percentage?"\u2705 COMPLETATO":"\u25b6\ufe0f CONTINUA WORKOUT"})]}),Object(b.jsxs)("div",{style:{background:"linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%)",borderRadius:"20px",padding:"30px",margin:"30px 0",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"25px"},children:[Object(b.jsxs)("h2",{style:{fontSize:"1.8rem",color:"#ff9500",margin:0},children:["\ud83d\udcc5 ",(new Date).toLocaleDateString("it-IT",{month:"long",year:"numeric"}).toUpperCase()]}),Object(b.jsxs)("div",{style:{background:"linear-gradient(135deg, #ff9500 0%, #ff6b35 100%)",padding:"20px",borderRadius:"20px",textAlign:"center",boxShadow:"0 5px 15px rgba(255, 149, 0, 0.3)",minWidth:"120px"},children:[Object(b.jsx)("div",{style:{fontSize:"2rem",marginBottom:"8px"},children:"\ud83d\udd25"}),Object(b.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"5px",color:"white"},children:r.currentStreak}),Object(b.jsx)("div",{style:{fontSize:"0.9rem",color:"white",opacity:.9},children:"STREAK"})]})]}),Object(b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"10px",marginBottom:"20px"},children:[["DOM","LUN","MAR","MER","GIO","VEN","SAB"].map(e=>Object(b.jsx)("div",{style:{padding:"10px",textAlign:"center",fontWeight:"bold",color:"#ff9500",fontSize:"0.9rem"},children:e},e)),(()=>{const e=new Date,t=e.getMonth(),a=e.getFullYear(),s=new Date(a,t,1),i=new Date(a,t+1,0).getDate(),r=s.getDay(),o=[];for(let n=0;n<r;n++)o.push(null);for(let n=1;n<=i;n++)o.push(n);return o})().map((e,t)=>Object(b.jsxs)("div",{style:{padding:"12px",textAlign:"center",borderRadius:"10px",cursor:e?"pointer":"default",background:e?v(e)?"#ff9500":y(e)?"#22c55e":"rgba(255, 255, 255, 0.05)":"transparent",color:e?v(e)||y(e)?"white":"#ccc":"transparent",fontWeight:v(e)?"bold":"normal",border:v(e)?"2px solid white":"1px solid transparent",transform:v(e)?"scale(1.1)":"scale(1)",transition:"all 0.3s ease",fontSize:"0.9rem"},children:[e,y(e)&&!v(e)&&Object(b.jsx)("div",{style:{fontSize:"0.7rem",marginTop:"2px"},children:"\u2705"}),v(e)&&Object(b.jsx)("div",{style:{fontSize:"0.6rem",marginTop:"2px"},children:"OGGI"})]},t))]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 149, 0, 0.1)",padding:"15px 20px",borderRadius:"15px"},children:[Object(b.jsx)("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:"\ud83d\udfe0 Oggi \u2022 \ud83d\udfe2 Giorno completato \u2022 \u26aa Da completare"}),Object(b.jsxs)("div",{style:{color:"#ff9500",fontWeight:"bold"},children:["\ud83d\udcca ",r.monthlyWorkouts||0," workout questo mese"]})]})]}),Object(b.jsxs)("div",{className:"performance-dashboard",children:[Object(b.jsx)("h3",{children:"\u26a1 Performance Overview"}),Object(b.jsxs)("div",{className:"perf-grid",children:[Object(b.jsxs)("div",{className:"perf-card strength",children:[Object(b.jsx)("h4",{children:"\ud83d\udcaa Forza"}),Object(b.jsxs)("p",{className:"perf-value",children:[r.weeklyVolume||0,"kg"]}),Object(b.jsx)("p",{className:"perf-label",children:"Volume Settimanale"})]}),Object(b.jsxs)("div",{className:"perf-card volume",children:[Object(b.jsx)("h4",{children:"\ud83c\udfcb\ufe0f Volume"}),Object(b.jsx)("p",{className:"perf-value",children:r.weeklySets||0}),Object(b.jsx)("p",{className:"perf-label",children:"Serie Settimanali"})]}),Object(b.jsxs)("div",{className:"perf-card consistency",children:[Object(b.jsx)("h4",{children:"\ud83c\udfaf Consistenza"}),Object(b.jsxs)("p",{className:"perf-value",children:[Math.round(r.currentStreak/30*100),"%"]}),Object(b.jsx)("p",{className:"perf-label",children:"Streak Rate"})]}),Object(b.jsxs)("div",{className:"perf-card supplements",children:[Object(b.jsx)("h4",{children:"\ud83d\udc8a Stack"}),Object(b.jsxs)("p",{className:"perf-value",children:[N.percentage,"%"]}),Object(b.jsx)("p",{className:"perf-label",children:"Integratori Oggi"})]})]})]}),Object(b.jsxs)("div",{className:"goals-progress",children:[Object(b.jsx)("h3",{children:"\ud83c\udfaf Obiettivi 12 Settimane"}),Object(b.jsxs)("div",{className:"goals-grid",children:[Object(b.jsxs)("div",{className:"goal-item",children:[Object(b.jsx)("h4",{children:"Peso Target"}),Object(b.jsx)("div",{className:"goal-bar",children:Object(b.jsx)("div",{className:"goal-progress",style:{width:"".concat(Math.min(100,(r.currentWeight-O.startWeight)/(O.targetWeight-O.startWeight)*100),"%")}})}),Object(b.jsxs)("p",{children:[r.currentWeight,"kg \u2192 ",O.targetWeight,"kg"]})]}),Object(b.jsxs)("div",{className:"goal-item",children:[Object(b.jsx)("h4",{children:"Settimane"}),Object(b.jsx)("div",{className:"goal-bar",children:Object(b.jsx)("div",{className:"goal-progress",style:{width:"".concat(Math.min(100,O.weeksCompleted/12*100),"%")}})}),Object(b.jsxs)("p",{children:[O.weeksCompleted,"/12 settimane"]})]})]})]}),Object(b.jsxs)("nav",{className:"quick-actions",children:[Object(b.jsxs)(n.b,{to:"/workout",className:"action-card workout",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83c\udfcb\ufe0f"}),Object(b.jsx)("h4",{children:"Workout"}),Object(b.jsx)("p",{children:"Inizia sessione"})]}),Object(b.jsxs)(n.b,{to:"/progress",className:"action-card progress",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83d\udcc8"}),Object(b.jsx)("h4",{children:"Progressi"}),Object(b.jsx)("p",{children:"Traccia misure"})]}),Object(b.jsxs)(n.b,{to:"/measurements",className:"action-card measurements",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83d\udccf"}),Object(b.jsx)("h4",{children:"Misurazioni"}),Object(b.jsx)("p",{children:"Peso & corpo"})]}),Object(b.jsxs)(n.b,{to:"/nutrition",className:"action-card nutrition",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83e\udd57"}),Object(b.jsx)("h4",{children:"Dieta"}),Object(b.jsx)("p",{children:"Piano settimanale"})]}),Object(b.jsxs)(n.b,{to:"/recovery-timer",className:"action-card recovery-timer",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83d\udd25"}),Object(b.jsx)("h4",{children:"Recovery"}),Object(b.jsx)("p",{children:"Timer sauna/ice"})]}),Object(b.jsxs)(n.b,{to:"/supplements",className:"action-card supplements",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83d\udc8a"}),Object(b.jsx)("h4",{children:"Integratori"}),Object(b.jsxs)("p",{children:[N.taken,"/",N.total," presi"]})]}),Object(b.jsxs)(n.b,{to:"/recovery",className:"action-card recovery",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83e\uddd8"}),Object(b.jsx)("h4",{children:"Recovery Info"}),Object(b.jsxs)("p",{children:[k.totalTime||0,"min oggi"]})]}),Object(b.jsxs)(n.b,{to:"/analytics",className:"action-card analytics",children:[Object(b.jsx)("span",{className:"action-icon",children:"\ud83d\udcca"}),Object(b.jsx)("h4",{children:"Analytics"}),Object(b.jsx)("p",{children:"Grafici avanzati"})]})]}),Object(b.jsxs)("div",{className:"legend-mindset",children:[Object(b.jsx)("h3",{children:"\ud83d\udc51 Mentalit\xe0 da Leggenda"}),Object(b.jsxs)("p",{className:"mindset-text",children:['"I campioni non nascono in palestra. I campioni nascono da qualcosa di pi\xf9 profondo:',Object(b.jsx)("strong",{children:"un desiderio, un sogno, una visione."}),' Tu hai tutto questo. Oggi \xe8 il giorno per dimostrarlo."']}),Object(b.jsxs)("div",{className:"power-stats",children:[Object(b.jsxs)("span",{children:["\ud83d\udc80 Disciplina: ",Math.min(100,3*r.currentStreak),"%"]}),Object(b.jsxs)("span",{children:["\u26a1 Intensit\xe0: ",Math.min(100,20*r.weeklyWorkouts),"%"]}),Object(b.jsxs)("span",{children:["\ud83d\udd25 Dedizione: ",Math.min(100,8*(O.weeksCompleted||0)),"%"]})]})]})]})};var O=()=>{const e=Object(c.p)(),t=u(),[a,s]=i.a.useState(null),[r,o]=i.a.useState(null),[n,d]=i.a.useState(!1),[p,g]=i.a.useState({exercises:[],startTime:null,duration:0,day:null}),[h,j]=i.a.useState({sets:"",reps:"",weight:"",rir:"",notes:""}),O={"Luned\xec":{focus:"Petto + Bicipiti",subtitle:"Focus: Petto (fascio alto + globale), Bicipiti",exercises:[{name:"Panca Inclinata Bilanciere",sets:"4\xd76-8",rest:"2min",notes:"RIR 1-2 | Focus forma e controllo"},{name:"Spinte Manubri Inclinata",sets:"3\xd78-10",rest:"90sec",notes:"Angolo 30-45\xb0 | ROM completo"},{name:"Croci ai Cavi Alti/Inclinata",sets:"3\xd712-15",rest:"75sec",notes:"Stretch massimo petto"},{name:"Curl Bilanciere",sets:"4\xd78-10",rest:"90sec",notes:"No cheating | Controllo eccentrica"},{name:"Curl Manubri Inclinati",sets:"3\xd710-12",rest:"75sec",notes:"Panca 45\xb0 | Stretch bicipiti"}]},"Marted\xec":{focus:"Dorso + Tricipiti + Collo (A)",subtitle:"Focus: Larghezza dorsale, spessore scapolare, tricipiti, collo",exercises:[{name:"Trazioni Presa Ampia",sets:"4\xd76-8",rest:"2min",notes:"Se necessario usa assistenza | Focus larghezza"},{name:"Rematore Bilanciere/Manubrio",sets:"4\xd78-10",rest:"2min",notes:"Busto 45\xb0 | Squeeze scapole"},{name:"Lat Machine Inversa o Presa Stretta",sets:"3\xd710-12",rest:"90sec",notes:"Controllo concentrica/eccentrica"},{name:"Panca Stretta Bilanciere",sets:"4\xd76-8",rest:"2min",notes:"Presa larghezza spalle | Gomiti chiusi"},{name:"French Press EZ",sets:"3\xd78-10",rest:"90sec",notes:"Solo avambracci si muovono"}]},"Mercoled\xec":{focus:"Gambe Complete",subtitle:"Focus: Quadricipiti, glutei, femorali, polpacci",exercises:[{name:"Squat",sets:"4\xd76-8",rest:"3min",notes:"Profondit\xe0 completa | RIR 1-2"},{name:"Hip Thrust",sets:"4\xd78-10",rest:"2min",notes:"Contrazione glutei al top | Pausa 1 sec"},{name:"Affondi Camminata",sets:"3\xd710 passi/gamba",rest:"90sec",notes:"Ginocchio a 90\xb0 | Passo lungo"},{name:"Leg Press 45\xb0",sets:"3\xd710-12",rest:"90sec",notes:"Piedi larghezza spalle | ROM completo"},{name:"Calf Raise in Piedi",sets:"4\xd710-12",rest:"60sec",notes:"Pausa 2 sec al top | Range completo"}]},"Gioved\xec":{focus:"Recupero Attivo",subtitle:"Focus: Cardiovascolare leggero, mobilit\xe0, recupero",exercises:[{name:"LISS (Camminata/Cyclette)",sets:"30-40min",rest:"Zona 1-2",notes:"60-70% FCMax | Mantieni conversazione"},{name:"Stretching/Mobilit\xe0",sets:"15-20min",rest:"Rilassante",notes:"Tutti i gruppi muscolari | Respiro profondo"},{name:"Sauna o Bagno Turco",sets:"10-15min",rest:"Recovery",notes:"Idratazione costante | Relax mentale"}]},"Venerd\xec":{focus:"Spalle Complete + Collo (B)",subtitle:"Focus: Deltoidi laterali/posteriori, trapezio, richiamo braccia, collo",exercises:[{name:"Military Press Manubri",sets:"4\xd76-8",rest:"2min",notes:"Seduto con schienale | Core attivo"},{name:"Alzate Laterali Cavi/Manubri",sets:"4\xd712-15",rest:"75sec",notes:"Controllo eccentrica | No cheating"},{name:"Rear Delt Fly (Pec Deck Inversa o Manubri)",sets:"3\xd712-15",rest:"75sec",notes:"Squeeze scapole | Focus deltoidi posteriori"},{name:"Face Pull",sets:"3\xd712-15",rest:"60sec",notes:"Corda ai cavi | Gomiti alti"},{name:"Scrollate Manubri/Bilanciere",sets:"3\xd710-12",rest:"90sec",notes:"Solo spalle | No rotazione"}]},Sabato:{focus:"Posteriori + Conditioning",subtitle:"Focus: Femorali, glutei, polpacci + condizionamento",exercises:[{name:"Stacco Rumeno (RDL)",sets:"4\xd76-8",rest:"2min",notes:"Focus femorali | Bilanciere vicino corpo"},{name:"Hip Thrust (Variante Mono)",sets:"3\xd710-12",rest:"2min",notes:"Una gamba | Controllo stabilit\xe0"},{name:"Nordic Curl o Glute Ham Raise",sets:"3\xd78-10",rest:"90sec",notes:"Eccentrica lenta | Assistenza se necessaria"},{name:"Leg Curl Seduto",sets:"3\xd712-15",rest:"75sec",notes:"Contrazione massima | Pausa 1 sec"},{name:"Calf Raise Multipla",sets:"3\xd715-20",rest:"60sec",notes:"Variare angoli piedi | Range massimo"}]},Domenica:{focus:"Riposo Completo",subtitle:"Focus: Recupero totale, rigenerazione",exercises:[{name:"Passeggiata Tranquilla",sets:"30-60min",rest:"Libero",notes:"Aria aperta | Ritmo rilassante"},{name:"Stretching Globale",sets:"20-30min",rest:"Flow dolce",notes:"Focus respirazione e relax"},{name:"Sauna/Bagno Turco (Opzionale)",sets:"15-20min",rest:"Recovery",notes:"Detossificazione | Idratazione"},{name:"Meditazione/Visualizzazione",sets:"10-20min",rest:"Mentale",notes:"Preparazione settimana successiva"}]}},x=e=>{const t=e.toLowerCase();return t.includes("panca")||t.includes("petto")||t.includes("spinte")||t.includes("croci")||t.includes("dip")?"Petto":t.includes("curl")||t.includes("bicip")?"Bicipiti":t.includes("trazione")||t.includes("rematore")||t.includes("dorso")||t.includes("pullover")?"Dorso":t.includes("tricip")||t.includes("french")||t.includes("pushdown")?"Tricipiti":t.includes("squat")||t.includes("cosce")||t.includes("quad")?"Quadricipiti":t.includes("stacco")||t.includes("femorali")?"Femorali":t.includes("spalla")||t.includes("shoulder")||t.includes("alzate")?"Spalle":t.includes("polpacci")||t.includes("calf")?"Polpacci":"Altro"},f=e=>p.exercises.some(t=>t.name===e);return Object(b.jsxs)("div",{className:"workout-container",children:[Object(b.jsxs)("div",{className:"workout-header",children:[Object(b.jsxs)("button",{className:"back-button",onClick:()=>e("/"),title:"Torna alla Dashboard",style:{background:"#ff9500",color:"white",padding:"10px 15px",border:"none",borderRadius:"8px",cursor:"pointer",marginBottom:"20px"},children:[Object(b.jsx)("span",{children:"\u2190"})," Dashboard"]}),Object(b.jsxs)("div",{className:"header-content",children:[Object(b.jsx)("h1",{children:"\ud83c\udfcb\ufe0f SCHEDA: FISICO DELLA MADONNA"}),Object(b.jsx)("p",{children:"Programma di allenamento avanzato per trasformazione fisica estrema"}),Object(b.jsxs)("div",{className:"program-stats",children:[Object(b.jsx)("span",{children:"\ud83d\udcc5 6 giorni/settimana"}),Object(b.jsx)("span",{children:"\u23f1\ufe0f 75-90 min/sessione"}),Object(b.jsx)("span",{children:"\ud83c\udfaf Volume: Alto"}),Object(b.jsx)("span",{children:"\ud83d\udd25 Intensit\xe0: RIR 1-3"})]}),n&&Object(b.jsxs)("div",{style:{background:"rgba(255, 149, 0, 0.1)",padding:"20px",borderRadius:"10px",margin:"20px 0",border:"2px solid #ff9500"},children:[Object(b.jsxs)("h3",{children:["\ud83d\udd25 Workout in Corso: ",p.day]}),Object(b.jsxs)("p",{children:["Esercizi completati: ",p.exercises.length]}),Object(b.jsx)("button",{onClick:()=>{var e;if(0===p.exercises.length)return void alert("Aggiungi almeno un esercizio prima di salvare!");const a=Object(l.a)(Object(l.a)({},p),{},{date:(new Date).toISOString(),duration:Math.round((Date.now()-p.startTime)/1e3/60),type:(null===(e=O[p.day])||void 0===e?void 0:e.focus)||"Workout Generico"});console.log("\ud83d\udea8 INIZIO SALVATAGGIO FORZATO:",a);try{m.a.saveWorkout(a),console.log("\u2705 Salvato in dataManager")}catch(i){console.error("\u274c Errore dataManager:",i)}try{const e=JSON.parse(localStorage.getItem("workoutSessions")||"[]");e.unshift(a),localStorage.setItem("workoutSessions",JSON.stringify(e)),console.log("\u2705 Salvato in workoutSessions")}catch(i){console.error("\u274c Errore workoutSessions:",i)}try{const e=JSON.parse(localStorage.getItem("userData_workouts")||"[]");e.unshift(a),localStorage.setItem("userData_workouts",JSON.stringify(e)),console.log("\u2705 Salvato in userData_workouts")}catch(i){console.error("\u274c Errore userData_workouts:",i)}try{const e=(new Date).toISOString().split("T")[0],t=JSON.parse(localStorage.getItem("streakData")||"{}");t[e]={completed:!0,workoutType:a.type,exercises:a.exercises,timestamp:(new Date).toISOString()},localStorage.setItem("streakData",JSON.stringify(t)),console.log("\u2705 Salvato streak direttamente")}catch(i){console.error("\u274c Errore streak:",i)}t.markWorkoutCompleted(new Date,a.type,a.exercises);try{const e=JSON.parse(localStorage.getItem("timeStats")||"{}"),t=JSON.parse(localStorage.getItem("timeLog")||"[]"),s=a.duration||0;e.totalWorkoutTime=(e.totalWorkoutTime||0)+s,t.unshift({date:(new Date).toISOString(),minutes:s}),localStorage.setItem("timeLog",JSON.stringify(t));const i=Date.now()-6048e5;e.weeklyTime=t.filter(e=>new Date(e.date).getTime()>=i).reduce((e,t)=>e+(t.minutes||0),0),localStorage.setItem("timeStats",JSON.stringify(e)),console.log("\ud83d\udcc8 TimeStats aggiornato:",e)}catch(i){console.warn("TimeStats update failed:",i)}window.dispatchEvent(new CustomEvent("workoutCompleted",{detail:a})),g({exercises:[],startTime:null,duration:0,day:null}),d(!1),s(null),console.log("\ud83d\ude80 WORKOUT SALVATO:",a),console.log("\ud83d\udcca DataManager workouts:",m.a.getWorkouts()),console.log("\ud83d\udcc5 Old workoutSessions:",JSON.parse(localStorage.getItem("workoutSessions")||"[]")),alert("\ud83c\udf89 Workout salvato! ".concat(a.exercises.length," esercizi completati in ").concat(a.duration," minuti.\n        \ud83d\udd25 STREAK AGGIORNATO: Ricarica la Dashboard per vedere i cambiamenti!"))},style:{background:"#22c55e",color:"white",padding:"12px 24px",borderRadius:"8px",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"\u2705 Termina e Salva Workout"})]})]})]}),Object(b.jsxs)("div",{className:"workout-week",children:[Object(b.jsx)("h2",{children:"\ud83d\udcc5 Piano Settimanale"}),Object(b.jsx)("div",{className:"days-grid",children:Object.entries(O).map(e=>{let[t,i]=e;return Object(b.jsxs)("div",{style:{border:a===t?"3px solid #ff9500":"1px solid #333",borderRadius:"10px",padding:"20px",margin:"10px",background:a===t?"rgba(255, 149, 0, 0.1)":"#1a1a1a"},children:[Object(b.jsxs)("div",{onClick:()=>s(a===t?null:t),style:{cursor:"pointer"},children:[Object(b.jsx)("h3",{children:t}),Object(b.jsx)("p",{style:{color:"#ff9500",fontWeight:"bold"},children:i.focus}),Object(b.jsx)("p",{style:{color:"#aaa"},children:i.subtitle})]}),a===t&&Object(b.jsxs)("div",{style:{marginTop:"20px"},children:[!n&&Object(b.jsxs)("button",{onClick:()=>(e=>{g({day:e,exercises:[],startTime:Date.now(),duration:0}),d(!0),s(e)})(t),style:{background:"#ff9500",color:"white",padding:"15px 30px",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",width:"100%",marginBottom:"20px",border:"none",cursor:"pointer"},children:["\ud83d\ude80 Inizia Workout - ",i.focus]}),Object(b.jsx)("div",{className:"exercises-list",children:i.exercises.map((e,t)=>Object(b.jsxs)("div",{style:{background:f(e.name)?"rgba(34, 197, 94, 0.2)":r===e.name?"rgba(255, 149, 0, 0.2)":"#2a2a2a",border:r===e.name?"2px solid #ff9500":"1px solid #444",borderRadius:"8px",padding:"15px",margin:"10px 0",cursor:"pointer"},children:[Object(b.jsxs)("div",{onClick:()=>o(r===e.name?null:e.name),children:[Object(b.jsxs)("h4",{children:[f(e.name)&&"\u2705 ",e.name]}),Object(b.jsxs)("div",{style:{color:"#aaa",fontSize:"14px"},children:[Object(b.jsx)("span",{children:e.sets})," |",Object(b.jsxs)("span",{children:[" Rest: ",e.rest]})]}),Object(b.jsx)("p",{style:{color:"#ccc",fontSize:"12px",marginTop:"8px"},children:e.notes})]}),r===e.name&&n&&Object(b.jsxs)("div",{style:{background:"#333",padding:"20px",borderRadius:"8px",marginTop:"15px"},children:[Object(b.jsx)("h5",{children:"\ud83c\udfcb\ufe0f Inserisci Dati Allenamento"}),Object(b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"15px",marginBottom:"15px"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{style:{display:"block",marginBottom:"5px",color:"#aaa"},children:"Serie:"}),Object(b.jsx)("input",{type:"number",value:h.sets,onChange:e=>j(t=>Object(l.a)(Object(l.a)({},t),{},{sets:e.target.value})),placeholder:"es. 3",style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #555",background:"#222",color:"white"}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{style:{display:"block",marginBottom:"5px",color:"#aaa"},children:"Ripetizioni:"}),Object(b.jsx)("input",{type:"number",value:h.reps,onChange:e=>j(t=>Object(l.a)(Object(l.a)({},t),{},{reps:e.target.value})),placeholder:"es. 8",style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #555",background:"#222",color:"white"}})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{style:{display:"block",marginBottom:"5px",color:"#aaa"},children:"Peso (kg):"}),Object(b.jsx)("input",{type:"number",step:"0.5",value:h.weight,onChange:e=>j(t=>Object(l.a)(Object(l.a)({},t),{},{weight:e.target.value})),placeholder:"es. 80",style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #ff9500",background:"#ff9500",color:"white",fontWeight:"bold"}})]})]}),Object(b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"150px 1fr",gap:"15px",marginBottom:"15px"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{style:{display:"block",marginBottom:"5px",color:"#aaa"},children:"RIR (opz.):"}),Object(b.jsxs)("select",{value:h.rir,onChange:e=>j(t=>Object(l.a)(Object(l.a)({},t),{},{rir:e.target.value})),style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #555",background:"#222",color:"white"},children:[Object(b.jsx)("option",{value:"",children:"-"}),Object(b.jsx)("option",{value:"0",children:"0 (cedimento)"}),Object(b.jsx)("option",{value:"1",children:"1"}),Object(b.jsx)("option",{value:"2",children:"2"}),Object(b.jsx)("option",{value:"3",children:"3"})]})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{style:{display:"block",marginBottom:"5px",color:"#aaa"},children:"Note:"}),Object(b.jsx)("input",{type:"text",value:h.notes,onChange:e=>j(t=>Object(l.a)(Object(l.a)({},t),{},{notes:e.target.value})),placeholder:"Sensazioni, difficolt\xe0, ecc.",style:{width:"100%",padding:"8px",borderRadius:"5px",border:"1px solid #555",background:"#222",color:"white"}})]})]}),Object(b.jsx)("button",{onClick:()=>(e=>{if(!h.weight||!h.reps||!h.sets)return void alert("Inserisci almeno peso, ripetizioni e serie!");const t={name:e.name,sets:parseInt(h.sets),reps:parseInt(h.reps),weight:parseFloat(h.weight),rir:h.rir?parseInt(h.rir):null,notes:h.notes,muscleGroup:x(e.name),completed:!0};g(e=>Object(l.a)(Object(l.a)({},e),{},{exercises:[...e.exercises,t]})),j({sets:"",reps:"",weight:"",rir:"",notes:""}),o(null),alert("Esercizio ".concat(e.name," salvato!"))})(e),style:{background:"#22c55e",color:"white",padding:"12px 24px",borderRadius:"8px",width:"100%",border:"none",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"\u2705 Salva Esercizio"})]})]},t))}),n&&p.day===t&&Object(b.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.1)",padding:"20px",borderRadius:"10px",marginTop:"20px",border:"2px solid #22c55e"},children:[Object(b.jsx)("h4",{children:"\ud83c\udfc6 Progresso Workout"}),Object(b.jsxs)("div",{style:{marginBottom:"15px",color:"#aaa"},children:[Object(b.jsxs)("span",{children:["Esercizi: ",p.exercises.length,"/",i.exercises.length," | "]}),Object(b.jsxs)("span",{children:["Completamento: ",Math.round(p.exercises.length/i.exercises.length*100),"%"]})]}),p.exercises.length>0&&Object(b.jsxs)("div",{children:[Object(b.jsx)("h5",{style:{color:"#22c55e"},children:"Esercizi Completati:"}),p.exercises.map((e,t)=>Object(b.jsxs)("div",{style:{background:"#2a2a2a",padding:"8px",borderRadius:"5px",margin:"5px 0",fontSize:"14px"},children:[Object(b.jsxs)("span",{children:[e.name,": ",e.sets,"x",e.reps," @ ",e.weight,"kg"]}),e.rir&&Object(b.jsxs)("span",{children:[" (RIR ",e.rir,")"]})]},t))]})]})]})]},t)})})]}),Object(b.jsxs)("div",{style:{background:"rgba(0, 255, 255, 0.1)",padding:"20px",borderRadius:"10px",textAlign:"center",margin:"30px 0",border:"2px solid #00ffff"},children:[Object(b.jsx)("h3",{style:{color:"#00ffff"},children:"\ud83d\udcca I Tuoi Dati Alimentano gli Analytics!"}),Object(b.jsx)("p",{children:"Ogni workout salvato contribuisce ai tuoi grafici di progresso reali."}),Object(b.jsx)("button",{onClick:()=>e("/analytics"),style:{background:"#00ffff",color:"black",padding:"12px 24px",borderRadius:"8px",border:"none",fontWeight:"bold",cursor:"pointer"},children:"\ud83d\ude80 Vai agli Analytics"})]})]})};var x=()=>{const e=Object(c.p)(),[t,a]=Object(s.useState)((new Date).getDay()),[i,r]=Object(s.useState)(()=>{const e=localStorage.getItem("completedMeals");return e?JSON.parse(e):{}}),[o,d]=Object(s.useState)(()=>{const e=localStorage.getItem("nutritionStreak");return e?parseInt(e):0}),[m,u]=Object(s.useState)(()=>{const e=localStorage.getItem("nutritionCheats");return e?JSON.parse(e):{}}),p={0:{name:"\ud83d\udd25 DOMENICA - RECOVERY DAY",color:"#ff6b6b",meals:[{id:"dom-idratazione",type:"\ud83d\udca7 Idratazione & Primer",time:"7:00",food:"Morning Detox Protocol",proteins:2,calories:15,ingredients:["Acqua tiepida + limone + sale","Stabilium","Spremuta melograno (opz)"]},{id:"dom-colazione",type:"\ud83c\udf05 Colazione",time:"8:00",food:"Omelette funzionale con superfood",proteins:32,calories:485,ingredients:["3 uova + 3 albumi","spinaci + aglio","1 cucchiaio EVOO","1/4 avocado","porridge quinoa + latte mandorla","mirtilli + semi chia","GOS + inulina + cacao 6g + cannella"]},{id:"dom-pranzo",type:"\ud83c\udf7d\ufe0f Pranzo",time:"12:30",food:"Tacchino curry con superfood bowl",proteins:42,calories:680,ingredients:["200g tacchino al curry","curcuma/pepe + zenzero","100g riso integrale","aceto mele prima","cavolini/broccoli + EVOO","semi di zucca + fermentati","150g legumi"]},{id:"dom-snack",type:"\ud83d\udcaa Snack/Post-WO",time:"15:30",food:"Shake vegano con cacao",proteins:28,calories:350,ingredients:["shake veg + spinaci","fragole + burro mandorle","cacao 6g","2 quadretti fondente 90%"]}]},1:{name:"\ud83d\udcaa LUNED\xcc - POWER DAY",color:"#ff9500",meals:[{id:"lun-idratazione",type:"\ud83d\udca7 Idratazione & Primer",time:"7:00",food:"Morning Detox Protocol",proteins:2,calories:15,ingredients:["Acqua tiepida + limone + sale","Stabilium","Spremuta melograno (opz)"]},{id:"lun-colazione",type:"\ud83c\udf05 Colazione",time:"8:00",food:"Omelette funzionale completa",proteins:35,calories:520,ingredients:["3 uova + 3 albumi","spinaci + aglio","1 cucchiaio EVOO","1/4 avocado","porridge quinoa + latte mandorla","mirtilli + semi chia","GOS + inulina + cacao 6g + cannella"]},{id:"lun-pranzo",type:"\ud83c\udf7d\ufe0f Pranzo",time:"12:30",food:"Salmone anti-infiammatorio",proteins:45,calories:650,ingredients:["200g salmone","curcuma + pepe + zenzero","3/4 tazza quinoa + patata dolce","broccoli + semi zucca + EVOO","insalata verde + crauti/kimchi","150g ceci/lenticchie"]},{id:"lun-snack",type:"\ud83d\udcaa Snack/Post-WO",time:"15:30",food:"Power shake al cacao",proteins:30,calories:380,ingredients:["shake proteico + banana","spinaci + burro mandorle","cacao 6g","2 quadretti fondente 90%"]}]},2:{name:"\ud83c\udfaf MARTED\xcc - PRECISION DAY",color:"#4ecdc4",meals:[{id:"mar-idratazione",type:"\ud83d\udca7 Idratazione & Primer",time:"7:00",food:"Morning Detox Protocol",proteins:2,calories:15,ingredients:["Acqua tiepida + limone + sale","Stabilium","Spremuta melograno (opz)"]},{id:"mar-colazione",type:"\ud83c\udf05 Colazione",time:"8:00",food:"Pancake funzionali GF",proteins:28,calories:465,ingredients:["pancake avena GF + albume + 1 uovo + cannella","burro d'arachidi","fragole & lamponi","t\xe8 verde","1 cucchiaio EVOO a crudo"]},{id:"mar-pranzo",type:"\ud83c\udf7d\ufe0f Pranzo",time:"12:30",food:"Pollo speziato con prebiotici",proteins:48,calories:620,ingredients:["200g petto pollo","rosmarino + cumino","100g riso integrale","aceto mele prima","cavolo nero + aglio + EVOO","1/4 avocado","150g legumi + fermentati"]},{id:"mar-snack",type:"\ud83d\udcaa Snack/Post-WO",time:"15:30",food:"Yogurt proteico con prebiotici",proteins:25,calories:280,ingredients:["yogurt vegetale + proteine","noci + inulina","1 mela verde"]}]},3:{name:"\ud83d\udd0b MERCOLED\xcc - ENERGY DAY",color:"#45b7d1",meals:[{id:"mer-idratazione",type:"\ud83d\udca7 Idratazione & Primer",time:"7:00",food:"Morning Detox Protocol",proteins:2,calories:15,ingredients:["Acqua tiepida + limone + sale","Stabilium","Spremuta melograno (opz)"]},{id:"mer-colazione",type:"\ud83c\udf05 Colazione",time:"8:00",food:"Uova strapazzate anti-infiammatorie",proteins:30,calories:480,ingredients:["3 uova + 2 albumi","zucchine + curcuma/pepe","EVOO","1/2 tazza quinoa","semi lino + mirtilli + GOS"]},{id:"mer-pranzo",type:"\ud83c\udf7d\ufe0f Pranzo",time:"12:30",food:"Tacchino speziato con prebiotici",proteins:45,calories:650,ingredients:["200g tacchino","curcuma + limone + zenzero","200g patata dolce","aceto mele prima","spinaci + sesamo + EVOO","150g legumi + fermentati"]},{id:"mer-snack",type:"\ud83d\udcaa Snack/Post-WO",time:"15:30",food:"Shake vegano al cacao",proteins:28,calories:360,ingredients:["shake veg + latte mandorla","fragole + burro anacardi","cacao 6g","2 quadretti 90%"]}]},4:{name:"\u26a1 GIOVED\xcc - THUNDER DAY",color:"#96ceb4",meals:[{id:"gio-idratazione",type:"\ud83d\udca7 Idratazione & Primer",time:"7:00",food:"Morning Detox Protocol",proteins:2,calories:15,ingredients:["Acqua tiepida + limone + sale","Stabilium","Spremuta melograno (opz)"]},{id:"gio-colazione",type:"\ud83c\udf05 Colazione",time:"8:00",food:"Omelette con superfood",proteins:32,calories:510,ingredients:["3 uova + 3 albumi","zucchine/peperoni + aglio + prezzemolo","EVOO","1/2 avocado","porridge amaranto + lamponi","semi chia + inulina + cacao 6g + cannella"]},{id:"gio-pranzo",type:"\ud83c\udf7d\ufe0f Pranzo",time:"12:30",food:"Tonno con crucifere bowl",proteins:50,calories:620,ingredients:["200g tonno","bowl crucifere (broccoli+cauli \u2265250g)","150g lenticchie nere","cumino + zenzero + EVOO","2-4 cucchiai fermentati"]},{id:"gio-snack",type:"\ud83d\udcaa Snack/Post-WO",time:"15:30",food:"Yogurt con superseeds",proteins:24,calories:290,ingredients:["yogurt vegetale + proteine","mirtilli + 1-2 noci brasiliane","1 kiwi"]}]},5:{name:"\ud83c\udfc6 VENERD\xcc - VICTORY DAY",color:"#feca57",meals:[{id:"ven-idratazione",type:"\ud83d\udca7 Idratazione & Primer",time:"7:00",food:"Morning Detox Protocol",proteins:2,calories:15,ingredients:["Acqua tiepida + limone + sale","Stabilium","Spremuta melograno (opz)"]},{id:"ven-colazione",type:"\ud83c\udf05 Colazione",time:"8:00",food:"Uova strapazzate con prebiotici",proteins:30,calories:480,ingredients:["3 uova + 2 albumi","spinaci + curcuma/pepe","EVOO","1/2 tazza quinoa","semi lino + mirtilli","GOS/inulina","t\xe8 verde"]},{id:"ven-pranzo",type:"\ud83c\udf7d\ufe0f Pranzo",time:"12:30",food:"Manzo magro con fermentati (1x/sett)",proteins:48,calories:670,ingredients:["200g manzo magro","200g patata dolce","aceto mele prima","insalata cavolo + carote","semi girasole + EVOO","150g legumi + fermentati"]},{id:"ven-snack",type:"\ud83d\udcaa Snack/Post-WO",time:"15:30",food:"Shake proteico al cacao",proteins:30,calories:380,ingredients:["shake proteico + latte riso","banana + burro arachidi","cacao 6g"]}]},6:{name:"\ud83c\udf89 SABATO - OMEGA DAY",color:"#a55eea",meals:[{id:"sab-idratazione",type:"\ud83d\udca7 Idratazione & Primer",time:"7:00",food:"Morning Detox Protocol",proteins:2,calories:15,ingredients:["Acqua tiepida + limone + sale","Stabilium","Spremuta melograno (opz)"]},{id:"sab-colazione",type:"\ud83c\udf05 Colazione",time:"8:00",food:"Pancake proteici con antiossidanti",proteins:28,calories:460,ingredients:["pancake avena GF + albume + proteine","\u2265150g frutti di bosco","burro di mandorle","t\xe8 verde + EVOO"]},{id:"sab-pranzo",type:"\ud83c\udf7d\ufe0f Pranzo",time:"12:30",food:"Pesce azzurro con omega-3",proteins:45,calories:650,ingredients:["200g sgombro/sardine","3/4 tazza quinoa","aceto mele prima","broccoli + spinaci","semi lino + EVOO","insalata rucola+pomodorini + fermentati","150g legumi"]},{id:"sab-snack",type:"\ud83d\udcaa Snack/Post-WO",time:"15:30",food:"Yogurt con omega seeds",proteins:26,calories:320,ingredients:["yogurt vegetale + proteine","semi di chia + noci","1 mela"]}]}},g=e=>{const t=(new Date).toDateString(),a=p[(new Date).getDay()].meals,s=a.filter(a=>e["".concat(t,"-").concat(a.id)]).length;if(s===a.length){const e=o+1;d(e),localStorage.setItem("nutritionStreak",e.toString()),setTimeout(()=>{window.dispatchEvent(new CustomEvent("nutritionCompleted",{detail:{streak:e,mealsCompleted:s,totalMeals:a.length}}))},100)}},h=e=>{const t=(new Date).toDateString();return i["".concat(t,"-").concat(e)]||!1},j=()=>{const e=(new Date).toDateString(),a=p[t].meals,s=a.filter(t=>i["".concat(e,"-").concat(t.id)]).length;return Math.round(s/a.length*100)},O=e=>e===(new Date).getDate(),x=e=>{if(!e)return!1;const t=new Date;t.setDate(e);const a=t.toDateString(),s=t.getDay(),r=p[s].meals;return r.filter(e=>i["".concat(a,"-").concat(e.id)]).length===r.length},f=e=>{if(!e)return!1;const t=new Date;t.setDate(e);const a=t.toDateString();return!!m[a]},v=()=>{const e=(new Date).getMonth(),t=(new Date).getFullYear();return Object.values(m).filter(a=>a.month===e&&a.year===t).length},y=(()=>{const e=new Date,t=e.getMonth(),a=e.getFullYear(),s=new Date(a,t,1),i=new Date(a,t+1,0).getDate(),r=s.getDay(),o=[];for(let n=0;n<r;n++)o.push(null);for(let n=1;n<=i;n++)o.push(n);return o})(),S=new Date;return Object(b.jsxs)("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%)",color:"white",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'},children:[Object(b.jsxs)("div",{style:{background:"linear-gradient(135deg, #ff9500 0%, #ff6b35 100%)",padding:"30px 20px",boxShadow:"0 4px 20px rgba(255, 149, 0, 0.3)"},children:[Object(b.jsx)("button",{onClick:()=>e("/"),style:{background:"rgba(255, 255, 255, 0.2)",border:"none",color:"white",padding:"12px 20px",borderRadius:"25px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",marginBottom:"20px",backdropFilter:"blur(10px)"},children:"\u2190 Dashboard"}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{style:{fontSize:"2.5rem",margin:"0 0 10px 0",textShadow:"2px 2px 4px rgba(0,0,0,0.3)"},children:"\ud83c\udf7d\ufe0f NUTRITION TRACKER PRO"}),Object(b.jsx)("p",{style:{fontSize:"1.2rem",opacity:.9,margin:0},children:"Piano alimentare settimanale personalizzato"})]}),Object(b.jsxs)("div",{style:{background:"rgba(255, 255, 255, 0.15)",padding:"20px",borderRadius:"20px",textAlign:"center",backdropFilter:"blur(10px)",border:"2px solid rgba(255, 255, 255, 0.2)"},children:[Object(b.jsx)("div",{style:{fontSize:"3rem",marginBottom:"10px"},children:"\ud83d\udd25"}),Object(b.jsx)("div",{style:{fontSize:"2.5rem",fontWeight:"bold",marginBottom:"5px"},children:o}),Object(b.jsx)("div",{style:{fontSize:"1rem",opacity:.8},children:"GIORNI STREAK"})]})]})]}),Object(b.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"30px 20px"},children:[Object(b.jsxs)("div",{style:{background:"linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%)",borderRadius:"20px",padding:"30px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[Object(b.jsxs)("h2",{style:{textAlign:"center",marginBottom:"25px",fontSize:"1.8rem",color:"#ff9500"},children:["\ud83d\udcc5 ",S.toLocaleDateString("it-IT",{month:"long",year:"numeric"}).toUpperCase()]}),Object(b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"10px",marginBottom:"20px"},children:[["DOM","LUN","MAR","MER","GIO","VEN","SAB"].map(e=>Object(b.jsx)("div",{style:{padding:"10px",textAlign:"center",fontWeight:"bold",color:"#ff9500",fontSize:"0.9rem"},children:e},e)),y.map((e,t)=>Object(b.jsxs)("div",{style:{padding:"12px",textAlign:"center",borderRadius:"10px",cursor:e?"pointer":"default",background:e?O(e)?"#ff9500":f(e)?"#ef4444":x(e)?"#22c55e":"rgba(255, 255, 255, 0.05)":"transparent",color:e?O(e)||x(e)||f(e)?"white":"#ccc":"transparent",fontWeight:O(e)?"bold":"normal",border:O(e)?"2px solid white":"1px solid transparent",transform:O(e)?"scale(1.1)":"scale(1)",transition:"all 0.3s ease"},children:[e,f(e)&&!O(e)&&Object(b.jsx)("div",{style:{fontSize:"0.8rem",marginTop:"2px"},children:"\ud83c\udf55"}),x(e)&&!O(e)&&!f(e)&&Object(b.jsx)("div",{style:{fontSize:"0.8rem",marginTop:"2px"},children:"\u2705"}),O(e)&&Object(b.jsx)("div",{style:{fontSize:"0.7rem",marginTop:"2px"},children:"OGGI"})]},t))]}),Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",background:"rgba(255, 149, 0, 0.1)",padding:"15px 20px",borderRadius:"15px"},children:[Object(b.jsx)("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:"\ud83d\udfe0 Oggi \u2022 \ud83d\udfe2 Completato \u2022 \ud83c\udf55 Sgarro \u2022 \u26aa Da completare"}),Object(b.jsxs)("div",{style:{color:"#ef4444",fontWeight:"bold"},children:["\ud83c\udf55 ",v()," sgarri questo mese"]})]})]}),Object(b.jsx)("div",{style:{display:"flex",gap:"10px",marginBottom:"30px",overflowX:"auto",padding:"10px 0"},children:["Domenica","Luned\xec","Marted\xec","Mercoled\xec","Gioved\xec","Venerd\xec","Sabato"].map((e,s)=>Object(b.jsxs)("button",{onClick:()=>a(s),style:{padding:"15px 25px",borderRadius:"25px",border:"none",cursor:"pointer",fontSize:"1rem",fontWeight:"bold",minWidth:"140px",whiteSpace:"nowrap",background:t===s?p[s].color:"rgba(255, 255, 255, 0.1)",color:t===s?"white":"#ccc",transform:t===s?"scale(1.05)":"scale(1)",transition:"all 0.3s ease",boxShadow:t===s?"0 5px 15px ".concat(p[s].color,"40"):"none"},children:[e,s===(new Date).getDay()&&Object(b.jsx)("div",{style:{fontSize:"0.7rem",marginTop:"3px",opacity:.8},children:"OGGI"})]},s))}),Object(b.jsxs)("div",{style:{background:"linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%)",borderRadius:"20px",padding:"25px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[Object(b.jsx)("h3",{style:{color:p[t].color,marginBottom:"20px",fontSize:"1.5rem"},children:p[t].name}),Object(b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px",marginBottom:"20px"},children:[Object(b.jsxs)("div",{style:{textAlign:"center"},children:[Object(b.jsxs)("div",{style:{fontSize:"2rem",fontWeight:"bold",color:p[t].color},children:[j(),"%"]}),Object(b.jsx)("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:"Completato"})]}),Object(b.jsxs)("div",{style:{textAlign:"center"},children:[Object(b.jsxs)("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#22c55e"},children:[(()=>{const e=(new Date).toDateString();return p[t].meals.filter(t=>i["".concat(e,"-").concat(t.id)]).reduce((e,t)=>e+t.proteins,0)})(),"g"]}),Object(b.jsx)("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:"Proteine"})]}),Object(b.jsxs)("div",{style:{textAlign:"center"},children:[Object(b.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#f59e0b"},children:(()=>{const e=(new Date).toDateString();return p[t].meals.filter(t=>i["".concat(e,"-").concat(t.id)]).reduce((e,t)=>e+t.calories,0)})()}),Object(b.jsx)("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:"Kcal"})]}),Object(b.jsxs)("div",{style:{textAlign:"center"},children:[Object(b.jsx)("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#ef4444"},children:v()}),Object(b.jsx)("div",{style:{color:"#aaa",fontSize:"0.9rem"},children:"Sgarri Mese"})]})]}),Object(b.jsx)("div",{style:{background:"rgba(255, 255, 255, 0.1)",borderRadius:"25px",height:"12px",overflow:"hidden"},children:Object(b.jsx)("div",{style:{background:"linear-gradient(90deg, ".concat(p[t].color," 0%, ").concat(p[t].color,"aa 100%)"),height:"100%",width:"".concat(j(),"%"),borderRadius:"25px",transition:"width 0.5s ease"}})})]}),Object(b.jsx)("div",{style:{display:"grid",gap:"20px"},children:p[t].meals.map((e,a)=>Object(b.jsxs)("div",{style:{background:h(e.id)?"linear-gradient(135deg, #22c55e20 0%, #22c55e10 100%)":"linear-gradient(135deg, #2d2d2d 0%, #3d3d3d 100%)",borderRadius:"20px",padding:"25px",border:h(e.id)?"2px solid #22c55e":"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.2)",transition:"all 0.3s ease"},children:[Object(b.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"20px"},children:[Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"10px"},children:[Object(b.jsx)("h4",{style:{fontSize:"1.3rem",margin:0,color:p[t].color},children:e.type}),Object(b.jsx)("span",{style:{background:"rgba(255, 149, 0, 0.2)",color:"#ff9500",padding:"5px 12px",borderRadius:"15px",fontSize:"0.9rem",fontWeight:"bold"},children:e.time})]}),Object(b.jsx)("h5",{style:{fontSize:"1.1rem",margin:"0 0 15px 0",color:"white"},children:e.food}),Object(b.jsxs)("div",{style:{display:"flex",gap:"20px",marginBottom:"15px"},children:[Object(b.jsxs)("div",{style:{background:"rgba(34, 197, 94, 0.2)",color:"#22c55e",padding:"8px 15px",borderRadius:"15px",fontSize:"0.9rem",fontWeight:"bold"},children:["\ud83d\udcaa ",e.proteins,"g proteine"]}),Object(b.jsxs)("div",{style:{background:"rgba(245, 158, 11, 0.2)",color:"#f59e0b",padding:"8px 15px",borderRadius:"15px",fontSize:"0.9rem",fontWeight:"bold"},children:["\ud83d\udd25 ",e.calories," kcal"]})]})]}),Object(b.jsx)("button",{onClick:()=>(e=>{const a=(new Date).toDateString(),s="".concat(a,"-").concat(e),o=Object(l.a)(Object(l.a)({},i),{},{[s]:!i[s]});r(o),localStorage.setItem("completedMeals",JSON.stringify(o));const n={mealId:e,completed:!i[s],timestamp:(new Date).toISOString(),day:t,mealData:p[t].meals.find(t=>t.id===e)},c=JSON.parse(localStorage.getItem("nutritionHistory")||"[]");c.unshift(n),localStorage.setItem("nutritionHistory",JSON.stringify(c)),g(o),window.dispatchEvent(new CustomEvent("mealToggled",{detail:n}))})(e.id),style:{background:h(e.id)?"#22c55e":p[t].color,border:"none",color:"white",padding:"15px 25px",borderRadius:"25px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold",transition:"all 0.3s ease",transform:"scale(1)",boxShadow:"0 5px 15px rgba(0, 0, 0, 0.2)"},onMouseOver:e=>e.target.style.transform="scale(1.05)",onMouseOut:e=>e.target.style.transform="scale(1)",children:h(e.id)?"\u2705 Completato":"\u2b55 Completa"})]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("h6",{style:{color:"#aaa",fontSize:"0.9rem",marginBottom:"10px",textTransform:"uppercase",letterSpacing:"1px"},children:"Ingredienti:"}),Object(b.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:e.ingredients.map((e,t)=>Object(b.jsx)("span",{style:{background:"rgba(255, 255, 255, 0.1)",color:"#ccc",padding:"5px 12px",borderRadius:"12px",fontSize:"0.8rem"},children:e},t))})]})]},e.id))}),Object(b.jsxs)("div",{style:{display:"flex",gap:"15px",marginTop:"40px",flexWrap:"wrap"},children:[Object(b.jsx)(n.b,{to:"/analytics",style:{background:"linear-gradient(135deg, #00ffff 0%, #0ea5e9 100%)",color:"black",textDecoration:"none",padding:"15px 25px",borderRadius:"25px",fontWeight:"bold",fontSize:"1rem",transition:"transform 0.3s ease",boxShadow:"0 5px 15px rgba(0, 255, 255, 0.3)"},children:"\ud83d\udcca Vai agli Analytics"}),Object(b.jsx)(n.b,{to:"/supplements",style:{background:"linear-gradient(135deg, #a855f7 0%, #8b5cf6 100%)",color:"white",textDecoration:"none",padding:"15px 25px",borderRadius:"25px",fontWeight:"bold",fontSize:"1rem",transition:"transform 0.3s ease",boxShadow:"0 5px 15px rgba(168, 85, 247, 0.3)"},children:"\ud83d\udc8a Gestione Integratori"}),Object(b.jsx)("button",{onClick:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;const t=e.toDateString(),a={date:t,timestamp:(new Date).toISOString(),month:e.getMonth(),year:e.getFullYear()},s=Object(l.a)(Object(l.a)({},m),{},{[t]:a});u(s),localStorage.setItem("nutritionCheats",JSON.stringify(s)),window.dispatchEvent(new CustomEvent("cheatAdded",{detail:a})),alert("\ud83c\udf55 Sgarro registrato! Non \xe8 un fallimento, \xe8 parte del percorso!")}(),style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)",color:"white",border:"none",padding:"15px 25px",borderRadius:"25px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",transition:"transform 0.3s ease",boxShadow:"0 5px 15px rgba(239, 68, 68, 0.3)"},children:"\ud83c\udf55 Registra Sgarro Oggi"}),Object(b.jsx)("button",{onClick:()=>{r({}),d(0),u({}),localStorage.removeItem("completedMeals"),localStorage.removeItem("nutritionStreak"),localStorage.removeItem("nutritionCheats"),localStorage.removeItem("nutritionHistory")},style:{background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",color:"white",border:"none",padding:"15px 25px",borderRadius:"25px",fontWeight:"bold",fontSize:"1rem",cursor:"pointer",transition:"transform 0.3s ease",boxShadow:"0 5px 15px rgba(107, 114, 128, 0.3)"},children:"\ud83d\udd04 Reset Tutto"})]})]})]})};var f=()=>{const e=Object(c.p)(),[t,a]=Object(s.useState)("all"),[i,r]=Object(s.useState)(()=>{const e=localStorage.getItem("supplementsTaken");return e?JSON.parse(e):{}}),[o,n]=Object(s.useState)(()=>{const e=localStorage.getItem("currentStack");return e?JSON.parse(e):["whey-protein","creatine","multivitamin","omega3","vitamin-d"]}),d={"whey-protein":{name:"Whey Protein",category:"protein",icon:"\ud83d\udcaa",dosage:"25-30g",timing:["post-workout","snack"],benefits:["Crescita muscolare","Recovery","Sintesi proteica"],priority:"essential",cost:"\u20ac35/mese",description:"Proteine del siero ad alto valore biologico per massimizzare la crescita muscolare",instructions:"Assumere 1 scoop (25g) in 250ml acqua/latte entro 30min dal workout"},creatine:{name:"Creatina Monoidrata",category:"performance",icon:"\u26a1",dosage:"3-5g",timing:["pre-workout","post-workout"],benefits:["Forza","Potenza","Volume muscolare"],priority:"essential",cost:"\u20ac15/mese",description:"Aumenta ATP per performance esplosive e volume cellulare",instructions:"5g al giorno, possibile loading di 20g per 5 giorni iniziali"},multivitamin:{name:"Multivitaminico Premium",category:"health",icon:"\ud83c\udf1f",dosage:"1 tablet",timing:["breakfast"],benefits:["Salute generale","Sistema immunitario","Energia"],priority:"important",cost:"\u20ac25/mese",description:"Formula completa di vitamine e minerali per atleti",instructions:"1 compressa al mattino a stomaco pieno"},omega3:{name:"Omega-3 EPA/DHA",category:"health",icon:"\ud83d\udc1f",dosage:"1-2g",timing:["meals"],benefits:["Antinfiammatorio","Salute cuore","Recovery"],priority:"important",cost:"\u20ac20/mese",description:"Acidi grassi essenziali per ridurre infiammazione e supportare il recovery",instructions:"1-2 capsule ai pasti principali"},"vitamin-d":{name:"Vitamina D3",category:"health",icon:"\u2600\ufe0f",dosage:"2000-4000 IU",timing:["breakfast"],benefits:["Salute ossa","Sistema immunitario","Testosterone"],priority:"important",cost:"\u20ac12/mese",description:"Supporta salute ossea, sistema immunitario e produzione ormonale",instructions:"2000 IU al mattino con grassi per migliore assorbimento"},bcaa:{name:"BCAA 2:1:1",category:"recovery",icon:"\ud83d\udd04",dosage:"10-15g",timing:["intra-workout","between-meals"],benefits:["Riduce catabolismo","Energia durante workout","Recovery"],priority:"optional",cost:"\u20ac30/mese",description:"Aminoacidi ramificati per preservare massa muscolare durante workout",instructions:"10g durante workout lunghi o tra i pasti"},"beta-alanine":{name:"Beta-Alanina",category:"performance",icon:"\ud83d\udd25",dosage:"3-5g",timing:["pre-workout"],benefits:["Resistenza muscolare","Riduce fatica","Performance"],priority:"optional",cost:"\u20ac18/mese",description:"Aumenta capacit\xe0 di buffer muscolare per allenamenti intensi",instructions:"3g 30min pre-workout, possibile formicolio normale"},magnesium:{name:"Magnesio Glicinato",category:"recovery",icon:"\ud83d\ude34",dosage:"200-400mg",timing:["evening"],benefits:["Rilassamento muscolare","Sonno","Recovery"],priority:"important",cost:"\u20ac15/mese",description:"Supporta rilassamento muscolare e qualit\xe0 del sonno",instructions:"200-300mg la sera prima di dormire"},caffeine:{name:"Caffeina Anidra",category:"performance",icon:"\u2615",dosage:"100-200mg",timing:["pre-workout"],benefits:["Energia","Focus","Performance"],priority:"optional",cost:"\u20ac10/mese",description:"Stimolante per energia e focus durante allenamenti intensi",instructions:"100-200mg 30-45min pre-workout, non oltre le 16:00"},zinc:{name:"Zinco + Rame",category:"health",icon:"\u26a1",dosage:"15-30mg",timing:["evening"],benefits:["Testosterone","Sistema immunitario","Recovery"],priority:"important",cost:"\u20ac12/mese",description:"Supporta produzione ormonale e sistema immunitario",instructions:"15mg la sera a stomaco vuoto con rame 1-2mg"}},m={all:{name:"Tutti",icon:"\ud83d\udd2e",color:"#00ffff"},protein:{name:"Proteine",icon:"\ud83d\udcaa",color:"#ff9500"},performance:{name:"Performance",icon:"\u26a1",color:"#ff6b6b"},health:{name:"Salute",icon:"\ud83c\udf1f",color:"#4ecdc4"},recovery:{name:"Recovery",icon:"\ud83d\ude34",color:"#a8e6cf"}},u={breakfast:"\ud83c\udf05 Colazione","pre-workout":"\ud83c\udfcb\ufe0f Pre-Workout","intra-workout":"\ud83d\udcaa Intra-Workout","post-workout":"\ud83d\udd25 Post-Workout",meals:"\ud83c\udf7d\ufe0f Ai pasti",snack:"\ud83e\udd64 Snack",evening:"\ud83c\udf19 Sera","between-meals":"\u23f0 Tra pasti"},p=e=>{const t=(new Date).toDateString();return i["".concat(t,"-").concat(e)]||!1},g=e=>{const t=o.filter(t=>t!==e);n(t),localStorage.setItem("currentStack",JSON.stringify(t))};return Object(b.jsxs)("div",{className:"supplements-premium",children:[Object(b.jsxs)("div",{className:"supplements-header",children:[Object(b.jsxs)("button",{className:"back-button",onClick:()=>e("/"),title:"Torna alla Dashboard",children:[Object(b.jsx)("span",{className:"back-icon",children:"\u2190"}),Object(b.jsx)("span",{className:"back-text",children:"Dashboard"})]}),Object(b.jsxs)("div",{className:"header-title",children:[Object(b.jsx)("h1",{children:"\ud83d\udc8a SUPPLEMENT STACK PRO"}),Object(b.jsx)("p",{className:"subtitle",children:"Gestione intelligente degli integratori"})]}),Object(b.jsxs)("div",{className:"completion-badge",children:[Object(b.jsx)("div",{className:"completion-circle",children:Object(b.jsxs)("span",{className:"completion-percentage",children:[(()=>{const e=(new Date).toDateString(),t=o.length,a=o.filter(t=>i["".concat(e,"-").concat(t)]).length;return t>0?Math.round(a/t*100):0})(),"%"]})}),Object(b.jsx)("div",{className:"completion-label",children:"Oggi"})]})]}),Object(b.jsxs)("div",{className:"stack-overview",children:[Object(b.jsxs)("div",{className:"overview-card",children:[Object(b.jsx)("div",{className:"card-icon",children:"\ud83d\udce6"}),Object(b.jsxs)("div",{className:"card-data",children:[Object(b.jsx)("span",{className:"card-value",children:o.length}),Object(b.jsx)("span",{className:"card-label",children:"Nel tuo stack"})]})]}),Object(b.jsxs)("div",{className:"overview-card",children:[Object(b.jsx)("div",{className:"card-icon",children:"\u2705"}),Object(b.jsxs)("div",{className:"card-data",children:[Object(b.jsx)("span",{className:"card-value",children:o.filter(e=>p(e)).length}),Object(b.jsx)("span",{className:"card-label",children:"Assunti oggi"})]})]}),Object(b.jsxs)("div",{className:"overview-card",children:[Object(b.jsx)("div",{className:"card-icon",children:"\ud83d\udcb0"}),Object(b.jsxs)("div",{className:"card-data",children:[Object(b.jsxs)("span",{className:"card-value",children:["\u20ac",o.reduce((e,t)=>{var a;const s=(null===(a=d[t])||void 0===a?void 0:a.cost)||"\u20ac0/mese";return e+parseInt(s.replace("\u20ac","").replace("/mese",""))},0)]}),Object(b.jsx)("span",{className:"card-label",children:"Costo mensile"})]})]})]}),Object(b.jsxs)("div",{className:"current-stack-section",children:[Object(b.jsx)("h2",{children:"\ud83d\udd25 IL TUO STACK ATTUALE"}),Object(b.jsx)("div",{className:"stack-grid",children:o.map(e=>{const t=d[e];return t?Object(b.jsxs)("div",{className:"stack-card ".concat(p(e)?"taken":""),children:[Object(b.jsxs)("div",{className:"stack-card-header",children:[Object(b.jsxs)("div",{className:"stack-info",children:[Object(b.jsx)("span",{className:"stack-icon",children:t.icon}),Object(b.jsxs)("div",{className:"stack-details",children:[Object(b.jsx)("h4",{children:t.name}),Object(b.jsx)("span",{className:"stack-dosage",children:t.dosage})]})]}),Object(b.jsx)("button",{className:"take-button ".concat(p(e)?"taken":""),onClick:()=>(e=>{const t=(new Date).toDateString(),a="".concat(t,"-").concat(e),s=Object(l.a)(Object(l.a)({},i),{},{[a]:!i[a]});r(s),localStorage.setItem("supplementsTaken",JSON.stringify(s))})(e),children:p(e)?"\u2705":"\u2b55"})]}),Object(b.jsx)("div",{className:"stack-timing",children:t.timing.map(e=>Object(b.jsx)("span",{className:"timing-tag",children:u[e]},e))}),Object(b.jsxs)("div",{className:"stack-actions",children:[Object(b.jsx)("span",{className:"stack-cost",children:t.cost}),Object(b.jsx)("button",{className:"remove-button",onClick:()=>g(e),title:"Rimuovi dallo stack",children:"\ud83d\uddd1\ufe0f"})]})]},e):null})})]}),Object(b.jsxs)("div",{className:"category-filter",children:[Object(b.jsx)("h2",{children:"\ud83d\udd0d ESPLORA SUPPLEMENTI"}),Object(b.jsx)("div",{className:"filter-buttons",children:Object.entries(m).map(e=>{let[s,i]=e;return Object(b.jsxs)("button",{className:"filter-btn ".concat(t===s?"active":""),onClick:()=>a(s),style:{"--category-color":i.color},children:[Object(b.jsx)("span",{className:"filter-icon",children:i.icon}),Object(b.jsx)("span",{className:"filter-name",children:i.name})]},s)})})]}),Object(b.jsx)("div",{className:"supplements-catalog",children:Object(b.jsx)("div",{className:"catalog-grid",children:Object.entries(d).filter(e=>{let[a,s]=e;return"all"===t||s.category===t}).map(e=>{let[t,a]=e;const s=o.includes(t);return Object(b.jsxs)("div",{className:"supplement-card ".concat(a.priority),children:[Object(b.jsxs)("div",{className:"supplement-header",children:[Object(b.jsxs)("div",{className:"supplement-main",children:[Object(b.jsx)("span",{className:"supplement-icon",children:a.icon}),Object(b.jsxs)("div",{className:"supplement-info",children:[Object(b.jsx)("h3",{children:a.name}),Object(b.jsx)("span",{className:"supplement-category",children:m[a.category].name})]})]}),Object(b.jsxs)("div",{className:"supplement-priority",children:["essential"===a.priority&&Object(b.jsx)("span",{className:"priority-badge essential",children:"Essential"}),"important"===a.priority&&Object(b.jsx)("span",{className:"priority-badge important",children:"Important"}),"optional"===a.priority&&Object(b.jsx)("span",{className:"priority-badge optional",children:"Optional"})]})]}),Object(b.jsx)("div",{className:"supplement-description",children:Object(b.jsx)("p",{children:a.description})}),Object(b.jsxs)("div",{className:"supplement-details",children:[Object(b.jsxs)("div",{className:"detail-row",children:[Object(b.jsx)("span",{className:"detail-label",children:"\ud83d\udc8a Dosaggio:"}),Object(b.jsx)("span",{className:"detail-value",children:a.dosage})]}),Object(b.jsxs)("div",{className:"detail-row",children:[Object(b.jsx)("span",{className:"detail-label",children:"\ud83d\udcb0 Costo:"}),Object(b.jsx)("span",{className:"detail-value",children:a.cost})]})]}),Object(b.jsxs)("div",{className:"supplement-benefits",children:[Object(b.jsx)("h4",{children:"Benefici:"}),Object(b.jsx)("div",{className:"benefits-tags",children:a.benefits.map((e,t)=>Object(b.jsx)("span",{className:"benefit-tag",children:e},t))})]}),Object(b.jsxs)("div",{className:"supplement-timing",children:[Object(b.jsx)("h4",{children:"Quando assumere:"}),Object(b.jsx)("div",{className:"timing-tags",children:a.timing.map(e=>Object(b.jsx)("span",{className:"timing-tag",children:u[e]},e))})]}),Object(b.jsx)("div",{className:"supplement-instructions",children:Object(b.jsxs)("p",{children:[Object(b.jsx)("strong",{children:"Istruzioni:"})," ",a.instructions]})}),Object(b.jsx)("div",{className:"supplement-actions",children:s?Object(b.jsx)("button",{className:"action-button remove",onClick:()=>g(t),children:"\u274c Rimuovi dal Stack"}):Object(b.jsx)("button",{className:"action-button add",onClick:()=>(e=>{if(!o.includes(e)){const t=[...o,e];n(t),localStorage.setItem("currentStack",JSON.stringify(t))}})(t),children:"\u2795 Aggiungi al Stack"})})]},t)})})}),Object(b.jsxs)("div",{className:"timing-guide",children:[Object(b.jsx)("h2",{children:"\u23f0 GUIDA AI TIMING"}),Object(b.jsxs)("div",{className:"timing-schedule",children:[Object(b.jsxs)("div",{className:"time-slot",children:[Object(b.jsx)("h3",{children:"\ud83c\udf05 Mattino (7:00-9:00)"}),Object(b.jsx)("div",{className:"time-supplements",children:Object.entries(d).filter(e=>{let[t,a]=e;return o.includes(t)&&a.timing.includes("breakfast")}).map(e=>{let[t,a]=e;return Object(b.jsxs)("span",{className:"time-supp",children:[a.icon," ",a.name]},t)})})]}),Object(b.jsxs)("div",{className:"time-slot",children:[Object(b.jsx)("h3",{children:"\ud83c\udfcb\ufe0f Pre-Workout (30-45min prima)"}),Object(b.jsx)("div",{className:"time-supplements",children:Object.entries(d).filter(e=>{let[t,a]=e;return o.includes(t)&&a.timing.includes("pre-workout")}).map(e=>{let[t,a]=e;return Object(b.jsxs)("span",{className:"time-supp",children:[a.icon," ",a.name]},t)})})]}),Object(b.jsxs)("div",{className:"time-slot",children:[Object(b.jsx)("h3",{children:"\ud83d\udd25 Post-Workout (0-30min dopo)"}),Object(b.jsx)("div",{className:"time-supplements",children:Object.entries(d).filter(e=>{let[t,a]=e;return o.includes(t)&&a.timing.includes("post-workout")}).map(e=>{let[t,a]=e;return Object(b.jsxs)("span",{className:"time-supp",children:[a.icon," ",a.name]},t)})})]}),Object(b.jsxs)("div",{className:"time-slot",children:[Object(b.jsx)("h3",{children:"\ud83c\udf19 Sera (prima di dormire)"}),Object(b.jsx)("div",{className:"time-supplements",children:Object.entries(d).filter(e=>{let[t,a]=e;return o.includes(t)&&a.timing.includes("evening")}).map(e=>{let[t,a]=e;return Object(b.jsxs)("span",{className:"time-supp",children:[a.icon," ",a.name]},t)})})]})]})]}),Object(b.jsxs)("div",{className:"supplements-actions",children:[Object(b.jsx)("button",{className:"action-button reset",onClick:()=>{r({}),localStorage.removeItem("supplementsTaken")},children:"\ud83d\udd04 Reset Giorno"}),Object(b.jsx)("button",{className:"action-button clear",onClick:()=>{n([]),localStorage.removeItem("currentStack")},children:"\ud83d\uddd1\ufe0f Svuota Stack"})]})]})};var v=()=>{const e=Object(c.p)(),[t,a]=Object(s.useState)(null),[i,r]=Object(s.useState)(()=>{const e=localStorage.getItem("recoveryHistory");return e?JSON.parse(e):[]}),[o,n]=Object(s.useState)(0),[l,d]=Object(s.useState)(!1),[m,u]=Object(s.useState)("sauna"),p={sauna:{name:"Sauna Finlandese",icon:"\ud83d\udd25",category:"heat",temperature:"80-90\xb0C",duration:"15-20 min",benefits:["Vasodilatazione","Rilascio endorfine","Detox","Riduce stress"],difficulty:"facile",equipment:"Sauna",calories:150,description:"Terapia del calore per rilassamento profondo e recupero muscolare",instructions:["Riscalda la sauna a 80-90\xb0C","Entra con asciugamano pulito","Siediti rilassato per 15-20 minuti","Bevi acqua frequentemente","Doccia fredda finale per shock termico"],contraindications:["Problemi cardiaci","Pressione alta","Gravidanza"]},"ice-bath":{name:"Ice Bath (Crioterapia)",icon:"\ud83e\uddca",category:"cold",temperature:"10-15\xb0C",duration:"3-5 min",benefits:["Riduce infiammazione","Accelera recovery","Migliora circolazione"],difficulty:"difficile",equipment:"Vasca + ghiaccio",calories:50,description:"Immersione in acqua fredda per ridurre infiammazione e accelerare il recupero",instructions:["Riempie vasca con acqua 10-15\xb0C","Respirazione controllata prima di entrare","Immersione graduale fino al petto","Rimani calmo per 3-5 minuti","Uscita graduale e riscaldamento naturale"],contraindications:["Problemi circolatori","Ipotermia","Ferite aperte"]},"contrast-shower":{name:"Doccia Contrastante",icon:"\ud83d\udebf",category:"contrast",temperature:"40\xb0C / 15\xb0C",duration:"10-15 min",benefits:["Migliora circolazione","Energizza","Recovery veloce"],difficulty:"medio",equipment:"Doccia",calories:30,description:"Alternanza di acqua calda e fredda per stimolare la circolazione",instructions:["3 min acqua calda (40\xb0C)","30 sec acqua fredda (15\xb0C)","Ripeti il ciclo 3-4 volte","Termina sempre con acqua fredda","Asciugatura energica con asciugamano"],contraindications:["Pressione alta instabile"]},massage:{name:"Massaggio Sportivo",icon:"\ud83d\ude4c",category:"manual",temperature:"Ambiente",duration:"30-60 min",benefits:["Riduce tensione","Migliora flessibilit\xe0","Rilassamento profondo"],difficulty:"facile",equipment:"Olio da massaggio",calories:0,description:"Manipolazione manuale dei tessuti molli per rilassamento muscolare",instructions:["Usa olio da massaggio di qualit\xe0","Movimenti lenti e profondi","Concentrati su aree tense","Pressione gradualmente crescente","Termina con movimenti rilassanti"],contraindications:["Lesioni acute","Infiammazioni acute"]},stretching:{name:"Stretching Profondo",icon:"\ud83e\udd38",category:"movement",temperature:"Ambiente",duration:"20-30 min",benefits:["Aumenta flessibilit\xe0","Riduce tensione","Migliora mobilit\xe0"],difficulty:"facile",equipment:"Tappetino yoga",calories:80,description:"Allungamento muscolare per migliorare flessibilit\xe0 e ridurre tensioni",instructions:["Riscaldamento leggero 5 minuti","Stretching statico 30 sec per gruppo muscolare","Respirazione profonda durante allungamento","Non forzare mai il movimento","Rilassamento finale 5 minuti"],contraindications:["Lesioni muscolari acute"]},meditation:{name:"Meditazione Mindfulness",icon:"\ud83e\uddd8",category:"mental",temperature:"Ambiente",duration:"10-20 min",benefits:["Riduce stress","Migliora focus","Equilibrio mentale"],difficulty:"medio",equipment:"Silenzio",calories:0,description:"Pratica di consapevolezza per recupero mentale e riduzione dello stress",instructions:["Trova posizione comoda e silenziosa","Chiudi gli occhi e respira naturalmente","Concentrati sul respiro","Osserva pensieri senza giudicare","Ritorna al respiro quando ti distrai"],contraindications:["Disturbi psichiatrici gravi"]},"foam-rolling":{name:"Foam Rolling",icon:"\ud83c\udf0a",category:"self-massage",temperature:"Ambiente",duration:"15-25 min",benefits:["Rilascia trigger points","Migliora mobilit\xe0","Self-massage"],difficulty:"facile",equipment:"Foam roller",calories:60,description:"Auto-massaggio con rullo per rilasciare tensioni e trigger points",instructions:["Inizia con pressione leggera","Rotola lentamente ogni gruppo muscolare","Fermati sui punti dolorosi 30-60 sec","Mantieni respirazione regolare","Termina con movimenti rilassanti"],contraindications:["Lesioni acute","Osteoporosi severa"]},yoga:{name:"Yoga Restorative",icon:"\ud83d\udd49\ufe0f",category:"movement",temperature:"Ambiente",duration:"30-45 min",benefits:["Flessibilit\xe0","Equilibrio","Rilassamento profondo"],difficulty:"medio",equipment:"Tappetino yoga",calories:120,description:"Pratica yoga dolce focalizzata sul recupero e rilassamento",instructions:["Inizia con respirazione profonda","Posizioni dolci e sostenute","Mantieni ogni asana 1-3 minuti","Focus sul rilascio delle tensioni","Chiudi con Savasana 10 minuti"],contraindications:["Lesioni spinali acute"]}};Object(s.useEffect)(()=>{let e;return l?e=setInterval(()=>{n(e=>e+1)},1e3):clearInterval(e),()=>clearInterval(e)},[l]);const g=()=>{if(t){const e=[{id:Date.now().toString(),protocol:t,duration:o,date:(new Date).toISOString(),quality:null},...i.slice(0,19)];r(e),localStorage.setItem("recoveryHistory",JSON.stringify(e))}a(null),d(!1),n(0)},h=e=>{const t=Math.floor(e/60),a=e%60;return"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"))},j=(()=>{const e=i.filter(e=>{const t=new Date(e.date),a=new Date;return a.setDate(a.getDate()-7),t>=a}),t=i.reduce((e,t)=>e+t.duration,0),a=i.length>0?Math.round(t/i.length):0;return{totalSessions:i.length,thisWeek:e.length,avgDuration:Math.floor(a/60),totalHours:Math.floor(t/3600)}})(),O={heat:{name:"Calore",icon:"\ud83d\udd25",color:"#ff6b6b"},cold:{name:"Freddo",icon:"\ud83e\uddca",color:"#4ecdc4"},contrast:{name:"Contrasto",icon:"\ud83c\udf0a",color:"#45b7d1"},manual:{name:"Manuale",icon:"\ud83d\ude4c",color:"#f7b267"},movement:{name:"Movimento",icon:"\ud83e\udd38",color:"#a8e6cf"},mental:{name:"Mentale",icon:"\ud83e\uddd8",color:"#dcc7e8"},"self-massage":{name:"Auto-massaggio",icon:"\ud83c\udf0a",color:"#ffd93d"}};return Object(b.jsxs)("div",{className:"recovery-luxury",children:[Object(b.jsxs)("div",{className:"recovery-header",children:[Object(b.jsxs)("button",{className:"back-button",onClick:()=>e("/"),title:"Torna alla Dashboard",children:[Object(b.jsx)("span",{className:"back-icon",children:"\u2190"}),Object(b.jsx)("span",{className:"back-text",children:"Dashboard"})]}),Object(b.jsxs)("div",{className:"header-title",children:[Object(b.jsx)("h1",{children:"\ud83d\udecc RECOVERY CENTER PRO"}),Object(b.jsx)("p",{className:"subtitle",children:"Centro benessere digitale per il recupero ottimale"})]}),Object(b.jsxs)("div",{className:"recovery-streak",children:[Object(b.jsx)("div",{className:"streak-number",children:j.thisWeek}),Object(b.jsx)("div",{className:"streak-label",children:"Questa Settimana"})]})]}),t&&Object(b.jsxs)("div",{className:"active-session-timer",children:[Object(b.jsxs)("div",{className:"timer-container",children:[Object(b.jsxs)("div",{className:"timer-protocol",children:[Object(b.jsx)("span",{className:"timer-icon",children:p[t].icon}),Object(b.jsxs)("div",{className:"timer-info",children:[Object(b.jsx)("h3",{children:p[t].name}),Object(b.jsxs)("span",{className:"timer-duration",children:["Durata consigliata: ",p[t].duration]})]})]}),Object(b.jsx)("div",{className:"timer-display",children:Object(b.jsx)("span",{className:"timer-time",children:h(o)})}),Object(b.jsxs)("div",{className:"timer-controls",children:[Object(b.jsx)("button",{className:"timer-btn pause",onClick:()=>d(!l),children:l?"\u23f8\ufe0f":"\u25b6\ufe0f"}),Object(b.jsx)("button",{className:"timer-btn stop",onClick:g,children:"\ud83d\uded1 Fine Sessione"})]})]}),Object(b.jsx)("div",{className:"session-progress",children:Object(b.jsxs)("div",{className:"progress-info",children:[Object(b.jsxs)("span",{children:["Temperatura: ",p[t].temperature]}),Object(b.jsxs)("span",{children:["Calorie bruciate: ~",Math.round(o/60*(p[t].calories/60))]})]})})]}),Object(b.jsxs)("div",{className:"recovery-stats",children:[Object(b.jsxs)("div",{className:"stat-card primary",children:[Object(b.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),Object(b.jsxs)("div",{className:"stat-data",children:[Object(b.jsx)("span",{className:"stat-value",children:j.totalSessions}),Object(b.jsx)("span",{className:"stat-label",children:"Sessioni Totali"})]})]}),Object(b.jsxs)("div",{className:"stat-card success",children:[Object(b.jsx)("div",{className:"stat-icon",children:"\u23f1\ufe0f"}),Object(b.jsxs)("div",{className:"stat-data",children:[Object(b.jsxs)("span",{className:"stat-value",children:[j.avgDuration,"min"]}),Object(b.jsx)("span",{className:"stat-label",children:"Durata Media"})]})]}),Object(b.jsxs)("div",{className:"stat-card info",children:[Object(b.jsx)("div",{className:"stat-icon",children:"\ud83d\udd50"}),Object(b.jsxs)("div",{className:"stat-data",children:[Object(b.jsxs)("span",{className:"stat-value",children:[j.totalHours,"h"]}),Object(b.jsx)("span",{className:"stat-label",children:"Ore Totali"})]})]}),Object(b.jsxs)("div",{className:"stat-card warning",children:[Object(b.jsx)("div",{className:"stat-icon",children:"\ud83d\udd25"}),Object(b.jsxs)("div",{className:"stat-data",children:[Object(b.jsx)("span",{className:"stat-value",children:j.thisWeek}),Object(b.jsx)("span",{className:"stat-label",children:"Questa Settimana"})]})]})]}),Object(b.jsxs)("div",{className:"protocols-section",children:[Object(b.jsx)("h2",{children:"\ud83c\udfaf PROTOCOLLI PROFESSIONALI"}),Object(b.jsx)("div",{className:"protocols-grid",children:Object.entries(p).map(e=>{var s;let[i,r]=e;return Object(b.jsxs)("div",{className:"protocol-card ".concat(r.difficulty),children:[Object(b.jsxs)("div",{className:"protocol-header",children:[Object(b.jsxs)("div",{className:"protocol-main",children:[Object(b.jsx)("span",{className:"protocol-icon",children:r.icon}),Object(b.jsxs)("div",{className:"protocol-info",children:[Object(b.jsx)("h3",{children:r.name}),Object(b.jsx)("span",{className:"protocol-category",children:null===(s=O[r.category])||void 0===s?void 0:s.name})]})]}),Object(b.jsx)("div",{className:"protocol-difficulty",children:Object(b.jsx)("span",{className:"difficulty-badge ".concat(r.difficulty),children:r.difficulty})})]}),Object(b.jsx)("div",{className:"protocol-description",children:Object(b.jsx)("p",{children:r.description})}),Object(b.jsxs)("div",{className:"protocol-details",children:[Object(b.jsxs)("div",{className:"detail-row",children:[Object(b.jsx)("span",{className:"detail-label",children:"\ud83c\udf21\ufe0f Temperatura:"}),Object(b.jsx)("span",{className:"detail-value",children:r.temperature})]}),Object(b.jsxs)("div",{className:"detail-row",children:[Object(b.jsx)("span",{className:"detail-label",children:"\u23f1\ufe0f Durata:"}),Object(b.jsx)("span",{className:"detail-value",children:r.duration})]}),Object(b.jsxs)("div",{className:"detail-row",children:[Object(b.jsx)("span",{className:"detail-label",children:"\ud83d\udd25 Calorie:"}),Object(b.jsxs)("span",{className:"detail-value",children:["~",r.calories,"/sessione"]})]}),Object(b.jsxs)("div",{className:"detail-row",children:[Object(b.jsx)("span",{className:"detail-label",children:"\ud83d\udee0\ufe0f Equipment:"}),Object(b.jsx)("span",{className:"detail-value",children:r.equipment})]})]}),Object(b.jsxs)("div",{className:"protocol-benefits",children:[Object(b.jsx)("h4",{children:"\ud83d\udc8e Benefici:"}),Object(b.jsx)("div",{className:"benefits-tags",children:r.benefits.map((e,t)=>Object(b.jsx)("span",{className:"benefit-tag",children:e},t))})]}),Object(b.jsxs)("div",{className:"protocol-instructions",children:[Object(b.jsx)("h4",{children:"\ud83d\udccb Istruzioni:"}),Object(b.jsx)("ol",{className:"instructions-list",children:r.instructions.map((e,t)=>Object(b.jsx)("li",{children:e},t))})]}),r.contraindications.length>0&&Object(b.jsxs)("div",{className:"protocol-warnings",children:[Object(b.jsx)("h4",{children:"\u26a0\ufe0f Controindicazioni:"}),Object(b.jsx)("ul",{className:"warnings-list",children:r.contraindications.map((e,t)=>Object(b.jsx)("li",{children:e},t))})]}),Object(b.jsx)("div",{className:"protocol-action",children:Object(b.jsx)("button",{className:"protocol-btn ".concat(t===i?"active":""),onClick:()=>{return t===i?g():(a(e=i),u(e),n(0),void d(!0));var e},disabled:t&&t!==i,children:t===i?"\ud83d\uded1 Ferma Sessione":"\u25b6\ufe0f Inizia Sessione"})})]},i)})})]}),i.length>0&&Object(b.jsxs)("div",{className:"recovery-history",children:[Object(b.jsx)("h2",{children:"\ud83d\udcc8 CRONOLOGIA SESSIONI"}),Object(b.jsx)("div",{className:"history-list",children:i.slice(0,10).map(e=>{const t=p[e.protocol],a=new Date(e.date);return Object(b.jsxs)("div",{className:"history-item",children:[Object(b.jsxs)("div",{className:"history-protocol",children:[Object(b.jsx)("span",{className:"history-icon",children:t.icon}),Object(b.jsxs)("div",{className:"history-info",children:[Object(b.jsx)("h4",{children:t.name}),Object(b.jsxs)("span",{className:"history-date",children:[a.toLocaleDateString("it-IT")," - ",a.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})]})]})]}),Object(b.jsxs)("div",{className:"history-stats",children:[Object(b.jsx)("span",{className:"history-duration",children:h(e.duration)}),Object(b.jsxs)("span",{className:"history-calories",children:["~",Math.round(e.duration/60*(t.calories/60))," cal"]})]})]},e.id)})}),i.length>10&&Object(b.jsxs)("button",{className:"show-more-btn",children:["Mostra altre ",i.length-10," sessioni"]})]}),Object(b.jsxs)("div",{className:"recovery-tips",children:[Object(b.jsx)("h2",{children:"\ud83d\udca1 CONSIGLI PROFESSIONALI"}),Object(b.jsxs)("div",{className:"tips-grid",children:[Object(b.jsxs)("div",{className:"tip-card",children:[Object(b.jsx)("div",{className:"tip-icon",children:"\ud83c\udf21\ufe0f"}),Object(b.jsx)("h4",{children:"Contrasto Termico"}),Object(b.jsx)("p",{children:"Alterna calore e freddo per massimizzare la circolazione e accelerare il recupero muscolare."})]}),Object(b.jsxs)("div",{className:"tip-card",children:[Object(b.jsx)("div",{className:"tip-icon",children:"\ud83d\udca7"}),Object(b.jsx)("h4",{children:"Idratazione"}),Object(b.jsx)("p",{children:"Bevi acqua abbondante durante e dopo ogni sessione per mantenere l'equilibrio idro-salino."})]}),Object(b.jsxs)("div",{className:"tip-card",children:[Object(b.jsx)("div",{className:"tip-icon",children:"\u23f0"}),Object(b.jsx)("h4",{children:"Timing Ottimale"}),Object(b.jsx)("p",{children:"Le sessioni di recovery sono pi\xf9 efficaci entro 2-6 ore dopo l'allenamento intenso."})]}),Object(b.jsxs)("div",{className:"tip-card",children:[Object(b.jsx)("div",{className:"tip-icon",children:"\ud83c\udfaf"}),Object(b.jsx)("h4",{children:"Consistenza"}),Object(b.jsx)("p",{children:"3-4 sessioni settimanali regolari sono pi\xf9 efficaci di sessioni sporadiche intense."})]})]})]})]})};var y=()=>{const[e,t]=i.a.useState([]),[a,s]=i.a.useState({weight:"",bodyFat:"",muscleMass:"",chest:"",arms:"",waist:"",thighs:"",notes:""}),[r,o]=i.a.useState({totalWorkoutTime:0,weeklyTime:0,monthlyTime:0,sessionsCompleted:0}),n=e=>{localStorage.setItem("progressData",JSON.stringify(e))},c=e=>{const t=Math.floor(e/60),a=e%60;return"".concat(t,"h ").concat(a,"m")};return i.a.useEffect(()=>{(()=>{const e=localStorage.getItem("progressData");e&&t(JSON.parse(e));const a=localStorage.getItem("timeStats");a&&o(JSON.parse(a))})()},[]),Object(b.jsxs)("div",{className:"progress-container",children:[Object(b.jsx)("h2",{children:"\ud83c\udfaf Progress Tracker Avanzato"}),Object(b.jsxs)("div",{className:"time-stats",children:[Object(b.jsx)("h3",{children:"\ud83d\udcca Statistiche Tempo Investito"}),Object(b.jsxs)("div",{className:"stats-grid",children:[Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("h4",{children:"Tempo Totale"}),Object(b.jsx)("p",{children:c(r.totalWorkoutTime)})]}),Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("h4",{children:"Questa Settimana"}),Object(b.jsx)("p",{children:c(r.weeklyTime)})]}),Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("h4",{children:"Questo Mese"}),Object(b.jsx)("p",{children:c(r.monthlyTime)})]}),Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("h4",{children:"Sessioni Completate"}),Object(b.jsx)("p",{children:r.sessionsCompleted})]})]})]}),Object(b.jsxs)("div",{className:"add-entry-form",children:[Object(b.jsx)("h3",{children:"\u2795 Aggiungi Nuove Misurazioni"}),Object(b.jsxs)("div",{className:"form-grid",children:[Object(b.jsx)("input",{type:"number",placeholder:"Peso (kg)",value:a.weight,onChange:e=>s(Object(l.a)(Object(l.a)({},a),{},{weight:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Massa Grassa (%)",value:a.bodyFat,onChange:e=>s(Object(l.a)(Object(l.a)({},a),{},{bodyFat:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Massa Muscolare (kg)",value:a.muscleMass,onChange:e=>s(Object(l.a)(Object(l.a)({},a),{},{muscleMass:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Petto (cm)",value:a.chest,onChange:e=>s(Object(l.a)(Object(l.a)({},a),{},{chest:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Braccia (cm)",value:a.arms,onChange:e=>s(Object(l.a)(Object(l.a)({},a),{},{arms:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Vita (cm)",value:a.waist,onChange:e=>s(Object(l.a)(Object(l.a)({},a),{},{waist:e.target.value}))}),Object(b.jsx)("input",{type:"number",placeholder:"Cosce (cm)",value:a.thighs,onChange:e=>s(Object(l.a)(Object(l.a)({},a),{},{thighs:e.target.value}))}),Object(b.jsx)("textarea",{placeholder:"Note (sensazioni, obiettivi, etc.)",value:a.notes,onChange:e=>s(Object(l.a)(Object(l.a)({},a),{},{notes:e.target.value}))})]}),Object(b.jsx)("button",{className:"button",onClick:()=>{if(!a.weight)return;const i=[Object(l.a)(Object(l.a)({},a),{},{date:(new Date).toISOString().split("T")[0],id:Date.now()}),...e];t(i),n(i),s({weight:"",bodyFat:"",muscleMass:"",chest:"",arms:"",waist:"",thighs:"",notes:""})},children:"Aggiungi Misurazione"})]}),Object(b.jsxs)("div",{className:"progress-table",children:[Object(b.jsx)("h3",{children:"\ud83d\udcc8 Storico Progressi"}),0===e.length?Object(b.jsx)("p",{children:"Nessuna misurazione ancora. Inizia ad aggiungere i tuoi progressi!"}):Object(b.jsx)("div",{className:"table-responsive",children:Object(b.jsxs)("table",{children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Data"}),Object(b.jsx)("th",{children:"Peso"}),Object(b.jsx)("th",{children:"Grasso"}),Object(b.jsx)("th",{children:"Muscolo"}),Object(b.jsx)("th",{children:"Petto"}),Object(b.jsx)("th",{children:"Braccia"}),Object(b.jsx)("th",{children:"Vita"}),Object(b.jsx)("th",{children:"Cosce"}),Object(b.jsx)("th",{children:"Note"}),Object(b.jsx)("th",{children:"Azioni"})]})}),Object(b.jsx)("tbody",{children:e.map(a=>Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:a.date}),Object(b.jsxs)("td",{children:[a.weight," kg"]}),Object(b.jsxs)("td",{children:[a.bodyFat,"%"]}),Object(b.jsxs)("td",{children:[a.muscleMass," kg"]}),Object(b.jsxs)("td",{children:[a.chest," cm"]}),Object(b.jsxs)("td",{children:[a.arms," cm"]}),Object(b.jsxs)("td",{children:[a.waist," cm"]}),Object(b.jsxs)("td",{children:[a.thighs," cm"]}),Object(b.jsx)("td",{className:"notes-cell",children:a.notes}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{className:"delete-btn",onClick:()=>(a=>{const s=e.filter(e=>e.id!==a);t(s),n(s)})(a.id),children:"\ud83d\uddd1\ufe0f"})})]},a.id))})]})})]})]})};var S=()=>{const e=Object(c.p)(),[t,a]=Object(s.useState)([]),[i,r]=Object(s.useState)(!1),[o,n]=Object(s.useState)({weight:"",height:"",bodyFat:"",muscleMass:"",waist:"",chest:"",arms:"",thighs:"",notes:""});Object(s.useEffect)(()=>{d()},[]);const d=()=>{const e=m.a.getMeasurements();a(e)},u=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"kg";if(!t)return{change:0,trend:"stable"};const s=e-t,i=s>0?"up":s<0?"down":"stable";return{change:Math.abs(s).toFixed(1)+a,trend:i}},p=t[0]||null,g=t[1]||null;return Object(b.jsxs)("div",{className:"measurements-container",children:[Object(b.jsxs)("div",{className:"measurements-header",children:[Object(b.jsxs)("button",{className:"back-button",onClick:()=>e("/"),title:"Torna alla Dashboard",children:[Object(b.jsx)("span",{className:"back-icon",children:"\u2190"}),Object(b.jsx)("span",{className:"back-text",children:"Dashboard"})]}),Object(b.jsxs)("div",{className:"header-content",children:[Object(b.jsx)("h1",{children:"\ud83d\udccf MISURAZIONI CORPOREE"}),Object(b.jsx)("p",{className:"subtitle",children:"Traccia i tuoi progressi fisici nel tempo"})]}),Object(b.jsx)("button",{className:"add-measurement-btn",onClick:()=>r(!0),style:{background:"#ff9500",color:"white",padding:"12px 24px",borderRadius:"8px",border:"none",fontWeight:"bold"},children:"\u2795 Nuova Misurazione"})]}),i&&Object(b.jsx)("div",{className:"measurement-form-overlay",children:Object(b.jsxs)("div",{className:"measurement-form",children:[Object(b.jsxs)("div",{className:"form-header",children:[Object(b.jsx)("h3",{children:"\ud83d\udcca Nuova Misurazione"}),Object(b.jsx)("button",{onClick:()=>r(!1),children:"\u2715"})]}),Object(b.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!o.weight)return void alert("Inserisci almeno il peso!");const t={weight:parseFloat(o.weight),height:o.height?parseFloat(o.height):null,bodyFat:o.bodyFat?parseFloat(o.bodyFat):null,muscleMass:o.muscleMass?parseFloat(o.muscleMass):null,waist:o.waist?parseFloat(o.waist):null,chest:o.chest?parseFloat(o.chest):null,arms:o.arms?parseFloat(o.arms):null,thighs:o.thighs?parseFloat(o.thighs):null,notes:o.notes};m.a.saveMeasurement(t),n({weight:"",height:"",bodyFat:"",muscleMass:"",waist:"",chest:"",arms:"",thighs:"",notes:""}),r(!1),d(),alert("Misurazione salvata con successo!")},children:[Object(b.jsxs)("div",{className:"form-grid",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"\ud83c\udfcb\ufe0f Peso (kg) *"}),Object(b.jsx)("input",{type:"number",step:"0.1",value:o.weight,onChange:e=>n(t=>Object(l.a)(Object(l.a)({},t),{},{weight:e.target.value})),placeholder:"es. 75.5",required:!0,style:{background:"#ff9500",color:"white"}})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"\ud83d\udccf Altezza (cm)"}),Object(b.jsx)("input",{type:"number",value:o.height,onChange:e=>n(t=>Object(l.a)(Object(l.a)({},t),{},{height:e.target.value})),placeholder:"es. 175"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"\ud83d\udcca Grasso Corporeo (%)"}),Object(b.jsx)("input",{type:"number",step:"0.1",value:o.bodyFat,onChange:e=>n(t=>Object(l.a)(Object(l.a)({},t),{},{bodyFat:e.target.value})),placeholder:"es. 12.5"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"\ud83d\udcaa Massa Muscolare (kg)"}),Object(b.jsx)("input",{type:"number",step:"0.1",value:o.muscleMass,onChange:e=>n(t=>Object(l.a)(Object(l.a)({},t),{},{muscleMass:e.target.value})),placeholder:"es. 35.2"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"\u2696\ufe0f Girovita (cm)"}),Object(b.jsx)("input",{type:"number",step:"0.5",value:o.waist,onChange:e=>n(t=>Object(l.a)(Object(l.a)({},t),{},{waist:e.target.value})),placeholder:"es. 82"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"\ud83e\udec1 Petto (cm)"}),Object(b.jsx)("input",{type:"number",step:"0.5",value:o.chest,onChange:e=>n(t=>Object(l.a)(Object(l.a)({},t),{},{chest:e.target.value})),placeholder:"es. 105"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"\ud83d\udcaa Braccia (cm)"}),Object(b.jsx)("input",{type:"number",step:"0.5",value:o.arms,onChange:e=>n(t=>Object(l.a)(Object(l.a)({},t),{},{arms:e.target.value})),placeholder:"es. 38"})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"\ud83e\uddb5 Cosce (cm)"}),Object(b.jsx)("input",{type:"number",step:"0.5",value:o.thighs,onChange:e=>n(t=>Object(l.a)(Object(l.a)({},t),{},{thighs:e.target.value})),placeholder:"es. 58"})]}),Object(b.jsxs)("div",{className:"form-group full-width",children:[Object(b.jsx)("label",{children:"\ud83d\udcdd Note"}),Object(b.jsx)("textarea",{value:o.notes,onChange:e=>n(t=>Object(l.a)(Object(l.a)({},t),{},{notes:e.target.value})),placeholder:"Condizioni, sensazioni, obiettivi...",rows:"3"})]})]}),Object(b.jsxs)("div",{className:"form-actions",children:[Object(b.jsx)("button",{type:"button",onClick:()=>r(!1),children:"Annulla"}),Object(b.jsx)("button",{type:"submit",style:{background:"#22c55e",color:"white"},children:"\u2705 Salva Misurazione"})]})]})]})}),p&&Object(b.jsxs)("div",{className:"current-stats",children:[Object(b.jsx)("h3",{children:"\ud83d\udcca Stato Attuale"}),Object(b.jsxs)("div",{className:"stats-grid",children:[Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("div",{className:"stat-icon",children:"\ud83c\udfcb\ufe0f"}),Object(b.jsxs)("div",{className:"stat-info",children:[Object(b.jsxs)("span",{className:"stat-value",children:[p.weight,"kg"]}),Object(b.jsx)("span",{className:"stat-label",children:"Peso"}),g&&Object(b.jsxs)("span",{className:"stat-change ".concat(u(p.weight,g.weight).trend),children:["up"===u(p.weight,g.weight).trend?"\u2197":"down"===u(p.weight,g.weight).trend?"\u2198":"\u2192",u(p.weight,g.weight).change]})]})]}),p.bodyFat&&Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("div",{className:"stat-icon",children:"\ud83d\udcca"}),Object(b.jsxs)("div",{className:"stat-info",children:[Object(b.jsxs)("span",{className:"stat-value",children:[p.bodyFat,"%"]}),Object(b.jsx)("span",{className:"stat-label",children:"Grasso"}),(null===g||void 0===g?void 0:g.bodyFat)&&Object(b.jsxs)("span",{className:"stat-change ".concat(u(p.bodyFat,g.bodyFat,"%").trend),children:["down"===u(p.bodyFat,g.bodyFat,"%").trend?"\u2198":"\u2197",u(p.bodyFat,g.bodyFat,"%").change]})]})]}),p.muscleMass&&Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("div",{className:"stat-icon",children:"\ud83d\udcaa"}),Object(b.jsxs)("div",{className:"stat-info",children:[Object(b.jsxs)("span",{className:"stat-value",children:[p.muscleMass,"kg"]}),Object(b.jsx)("span",{className:"stat-label",children:"Muscoli"}),(null===g||void 0===g?void 0:g.muscleMass)&&Object(b.jsxs)("span",{className:"stat-change ".concat(u(p.muscleMass,g.muscleMass).trend),children:["up"===u(p.muscleMass,g.muscleMass).trend?"\u2197":"\u2198",u(p.muscleMass,g.muscleMass).change]})]})]}),p.waist&&Object(b.jsxs)("div",{className:"stat-card",children:[Object(b.jsx)("div",{className:"stat-icon",children:"\u2696\ufe0f"}),Object(b.jsxs)("div",{className:"stat-info",children:[Object(b.jsxs)("span",{className:"stat-value",children:[p.waist,"cm"]}),Object(b.jsx)("span",{className:"stat-label",children:"Girovita"}),(null===g||void 0===g?void 0:g.waist)&&Object(b.jsxs)("span",{className:"stat-change ".concat(u(p.waist,g.waist,"cm").trend),children:["down"===u(p.waist,g.waist,"cm").trend?"\u2198":"\u2197",u(p.waist,g.waist,"cm").change]})]})]})]})]}),Object(b.jsxs)("div",{className:"measurements-history",children:[Object(b.jsx)("h3",{children:"\ud83d\udcc8 Storico Misurazioni"}),t.length>0?Object(b.jsx)("div",{className:"measurements-list",children:t.map((e,t)=>Object(b.jsxs)("div",{className:"measurement-item",children:[Object(b.jsx)("div",{className:"measurement-date",children:new Date(e.date).toLocaleDateString("it-IT",{day:"numeric",month:"long",year:"numeric"})}),Object(b.jsxs)("div",{className:"measurement-data",children:[Object(b.jsxs)("div",{className:"data-group",children:[Object(b.jsx)("span",{className:"data-label",children:"Peso:"}),Object(b.jsxs)("span",{className:"data-value",children:[e.weight,"kg"]})]}),e.bodyFat&&Object(b.jsxs)("div",{className:"data-group",children:[Object(b.jsx)("span",{className:"data-label",children:"Grasso:"}),Object(b.jsxs)("span",{className:"data-value",children:[e.bodyFat,"%"]})]}),e.muscleMass&&Object(b.jsxs)("div",{className:"data-group",children:[Object(b.jsx)("span",{className:"data-label",children:"Muscoli:"}),Object(b.jsxs)("span",{className:"data-value",children:[e.muscleMass,"kg"]})]}),e.waist&&Object(b.jsxs)("div",{className:"data-group",children:[Object(b.jsx)("span",{className:"data-label",children:"Girovita:"}),Object(b.jsxs)("span",{className:"data-value",children:[e.waist,"cm"]})]}),e.notes&&Object(b.jsxs)("div",{className:"measurement-notes",children:[Object(b.jsx)("strong",{children:"Note:"})," ",e.notes]})]})]},e.id))}):Object(b.jsxs)("div",{className:"no-measurements",children:[Object(b.jsx)("h4",{children:"\ud83d\udccf Nessuna Misurazione"}),Object(b.jsx)("p",{children:"Inizia a tracciare i tuoi progressi fisici!"}),Object(b.jsx)("button",{onClick:()=>r(!0),className:"start-measuring-btn",children:"\ud83d\udcca Inizia a Misurare"})]})]}),Object(b.jsxs)("div",{className:"analytics-link",style:{padding:"20px",background:"rgba(0, 255, 255, 0.1)",borderRadius:"10px",textAlign:"center",marginTop:"20px"},children:[Object(b.jsx)("h3",{style:{color:"#00ffff"},children:"\ud83d\udcca Visualizza i Progressi"}),Object(b.jsx)("p",{children:"Le tue misurazioni alimentano gli analytics in tempo reale!"}),Object(b.jsx)("button",{onClick:()=>e("/analytics"),style:{background:"#00ffff",color:"black",padding:"12px 24px",borderRadius:"8px",border:"none",fontWeight:"bold"},children:"\ud83d\ude80 Vai agli Analytics"})]})]})},w=a(12),N=a(7);console.log("\ud83d\udeab Firebase DISABILITATO per fix emergenza"),console.log("\ud83d\udcf1 App funziona solo con localStorage");const k=null,D=null,z=e=>console.log("\u2139\ufe0f [App] ".concat(e)),I=e=>console.error("\u274c [App] ".concat(e)),C=e=>console.warn("\u26a0\ufe0f [App] ".concat(e)),M=e=>console.log("\u2705 [App] ".concat(e));M("App configurata per localStorage only");const R=new w.b;R.addScope("profile"),R.addScope("email");const T=new class{constructor(){this.currentUser=null,this.authStateListeners=[],this.initializeAuthListener()}initializeAuthListener(){Object(w.e)(k,e=>{this.currentUser=e,this.notifyAuthStateListeners(e),e?(M("Utente autenticato",{uid:e.uid,email:e.email,displayName:e.displayName}),this.updateUserLastSeen(e)):z("Utente disconnesso")})}onAuthStateChange(e){return this.authStateListeners.push(e),()=>{this.authStateListeners=this.authStateListeners.filter(t=>t!==e)}}notifyAuthStateListeners(e){this.authStateListeners.forEach(t=>{try{t(e)}catch(a){I("Errore nel listener auth state",a)}})}async signInWithEmail(e,t){try{z("Tentativo login con email...");const a=(await Object(w.h)(k,e,t)).user;return await this.updateUserLastSeen(a),M("Login completato",{uid:a.uid}),{success:!0,user:a,error:null}}catch(a){return I("Errore login email",a),{success:!1,user:null,error:this.handleAuthError(a)}}}async signUpWithEmail(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{z("Tentativo registrazione con email...");const s=(await Object(w.c)(k,e,t)).user;return a&&await Object(w.l)(s,{displayName:a}),await this.createUserDocument(s,{displayName:a}),M("Registrazione completata",{uid:s.uid}),{success:!0,user:s,error:null}}catch(s){return I("Errore registrazione email",s),{success:!1,user:null,error:this.handleAuthError(s)}}}async signInWithGoogle(){try{z("Tentativo login con Google...");const e=(await Object(w.i)(k,R)).user;return await this.createUserDocument(e,{displayName:e.displayName,photoURL:e.photoURL,provider:"google"}),M("Login Google completato",{uid:e.uid}),{success:!0,user:e,error:null}}catch(e){return I("Errore login Google",e),{success:!1,user:null,error:this.handleAuthError(e)}}}async signOutUser(){try{return z("Logout utente..."),await Object(w.j)(k),M("Logout completato"),{success:!0,error:null}}catch(e){return I("Errore logout",e),{success:!1,error:this.handleAuthError(e)}}}async resetPassword(e){try{return z("Invio reset password..."),await Object(w.g)(k,e),M("Email reset password inviata"),{success:!0,error:null}}catch(t){return I("Errore reset password",t),{success:!1,error:this.handleAuthError(t)}}}async updateUserPassword(e,t){try{if(!this.currentUser)throw new Error("Nessun utente autenticato");z("Aggiornamento password...");const a=w.a.credential(this.currentUser.email,e);return await Object(w.f)(this.currentUser,a),await Object(w.k)(this.currentUser,t),M("Password aggiornata"),{success:!0,error:null}}catch(a){return I("Errore aggiornamento password",a),{success:!1,error:this.handleAuthError(a)}}}async createUserDocument(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e)try{const a=Object(N.d)(D,"users",e.uid);if((await Object(N.e)(a)).exists())await Object(N.l)(a,{lastSeen:Object(N.k)()},{merge:!0}),z("LastSeen aggiornato");else{const s=Object(l.a)({uid:e.uid,email:e.email,displayName:e.displayName||t.displayName||"Utente",photoURL:e.photoURL||t.photoURL||null,provider:t.provider||"email",createdAt:Object(N.k)(),lastSeen:Object(N.k)(),settings:{units:"metric",language:"it",notifications:!0,darkMode:!1},profile:{age:null,height:null,activityLevel:"moderate",goals:[],experience:"beginner"}},t);await Object(N.l)(a,s),M("Documento utente creato")}}catch(a){I("Errore creazione documento utente",a)}}async updateUserLastSeen(e){if(e)try{const t=Object(N.d)(D,"users",e.uid);await Object(N.l)(t,{lastSeen:Object(N.k)(),isOnline:!0},{merge:!0})}catch(t){I("Errore aggiornamento lastSeen",t)}}handleAuthError(e){return{code:e.code,message:{"auth/user-not-found":"Utente non trovato. Verifica l'email inserita.","auth/wrong-password":"Password non corretta. Riprova.","auth/email-already-in-use":"Email gi\xe0 registrata. Prova ad effettuare il login.","auth/weak-password":"Password troppo debole. Usa almeno 6 caratteri.","auth/invalid-email":"Email non valida. Verifica il formato.","auth/user-disabled":"Account disabilitato. Contatta l'assistenza.","auth/too-many-requests":"Troppi tentativi. Riprova pi\xf9 tardi.","auth/network-request-failed":"Errore di connessione. Verifica la rete.","auth/popup-closed-by-user":"Login annullato dall'utente.","auth/cancelled-popup-request":"Popup gi\xe0 aperto. Completa il login.","auth/popup-blocked":"Popup bloccato dal browser. Abilita i popup.","auth/requires-recent-login":"Operazione sensibile. Effettua nuovamente il login."}[e.code]||e.message||"Errore sconosciuto",originalError:e}}isAuthenticated(){return!!this.currentUser}getCurrentUser(){return this.currentUser}async deleteAccount(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{if(!this.currentUser)throw new Error("Nessun utente autenticato");if(C("Tentativo eliminazione account..."),e){const t=w.a.credential(this.currentUser.email,e);await Object(w.f)(this.currentUser,t)}const t=this.currentUser.uid;return await Object(w.d)(this.currentUser),C("Account eliminato",{uid:t}),{success:!0,error:null}}catch(t){return I("Errore eliminazione account",t),{success:!1,error:this.handleAuthError(t)}}}};var A=T;class E{constructor(e){this.collectionName=e,this.collectionRef=Object(N.b)(D,e),this.cache=new Map,this.listeners=new Map}async getById(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{if(t&&this.cache.has(e)){const t=this.cache.get(e);if(Date.now()-t.timestamp<3e5)return z("Cache hit per ".concat(this.collectionName,"/").concat(e)),{success:!0,data:t.data,fromCache:!0}}const a=Object(N.d)(D,this.collectionName,e),s=await Object(N.e)(a);if(s.exists()){const a=Object(l.a)({id:s.id},s.data());return t&&this.cache.set(e,{data:a,timestamp:Date.now()}),{success:!0,data:a,fromCache:!1}}return{success:!1,error:"Documento non trovato",data:null}}catch(a){return I("Errore getById ".concat(this.collectionName),a),{success:!1,error:a.message,data:null}}}async create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{var a;const s=null===(a=A.getCurrentUser())||void 0===a?void 0:a.uid;if(!s)throw new Error("Utente non autenticato");const i=Object(l.a)(Object(l.a)({},e),{},{userId:s,createdAt:Object(N.k)(),updatedAt:Object(N.k)()});let r;t?(r=Object(N.d)(D,this.collectionName,t),await Object(N.l)(r,i)):r=await Object(N.a)(this.collectionRef,i);const o=t||r.id;return this.invalidateCache(),M("Documento creato in ".concat(this.collectionName),{id:o}),{success:!0,id:o,data:Object(l.a)({id:o},i)}}catch(s){return I("Errore create ".concat(this.collectionName),s),{success:!1,error:s.message,id:null}}}async update(e,t){let a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];try{const s=Object(N.d)(D,this.collectionName,e),i=Object(l.a)(Object(l.a)({},t),{},{updatedAt:Object(N.k)()});return a?await Object(N.m)(s,i):await Object(N.l)(s,i),this.cache.delete(e),M("Documento aggiornato in ".concat(this.collectionName),{id:e}),{success:!0,id:e}}catch(s){return I("Errore update ".concat(this.collectionName),s),{success:!1,error:s.message}}}async delete(e){try{const t=Object(N.d)(D,this.collectionName,e);return await Object(N.c)(t),this.cache.delete(e),M("Documento eliminato da ".concat(this.collectionName),{id:e}),{success:!0}}catch(t){return I("Errore delete ".concat(this.collectionName),t),{success:!1,error:t.message}}}async getWithQuery(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];try{const t=Object(N.i)(this.collectionRef,...e),a=await Object(N.f)(t),s=[];return a.forEach(e=>{s.push(Object(l.a)({id:e.id},e.data()))}),{success:!0,data:s,count:s.length}}catch(t){return I("Errore query ".concat(this.collectionName),t),{success:!1,error:t.message,data:[],count:0}}}subscribeToChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};try{const a=Object(N.i)(this.collectionRef,...e);return Object(N.g)(a,e=>{const a=[];e.forEach(e=>{a.push(Object(l.a)({id:e.id},e.data()))}),t(a)})}catch(a){return I("Errore subscription ".concat(this.collectionName),a),()=>{}}}invalidateCache(){this.cache.clear(),z("Cache invalidata per ".concat(this.collectionName))}}const P=new class extends E{constructor(){super("progress")}async getUserProgress(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=null===(e=A.getCurrentUser())||void 0===e?void 0:e.uid;if(!s)return{success:!1,error:"Utente non autenticato",data:[]};const i=[Object(N.n)("userId","==",s),Object(N.h)("date","desc")];return t&&i.push(Object(N.n)("date",">=",t)),a&&i.push(Object(N.n)("date","<=",a)),this.getWithQuery(i)}async addMeasurement(e){const t=Object(l.a)(Object(l.a)({},e),{},{date:e.date||(new Date).toISOString().split("T")[0],type:"measurement"});return this.create(t)}async getPeriodStats(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;if(!(null===(e=A.getCurrentUser())||void 0===e?void 0:e.uid))return{success:!1,error:"Utente non autenticato"};const a=new Date,s=new Date(a.getTime()-24*t*60*60*1e3),i=await this.getUserProgress(s.toISOString().split("T")[0],a.toISOString().split("T")[0]);if(i.success&&i.data.length>0){const e=i.data,r=e[0],o=e[e.length-1];return{success:!0,stats:{totalEntries:e.length,weightChange:r.weight-o.weight,muscleMassChange:r.muscleMass-o.muscleMass,bodyFatChange:r.bodyFat-o.bodyFat,averageWeight:e.reduce((e,t)=>e+(t.weight||0),0)/e.length,period:{startDate:s,endDate:a,days:t}}}}return{success:!1,error:"Dati insufficienti per calcolare statistiche"}}},W=new class extends E{constructor(){super("workouts")}async startSession(e){const t=Object(l.a)(Object(l.a)({},e),{},{status:"in_progress",startTime:Object(N.k)(),exercises:e.exercises||[],totalDuration:0});return this.create(t)}async completeSession(e,t){const a=Object(l.a)(Object(l.a)({},t),{},{status:"completed",endTime:Object(N.k)(),completedAt:Object(N.k)()});return this.update(e,a)}async getUserSessions(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;const a=null===(e=A.getCurrentUser())||void 0===e?void 0:e.uid;return a?this.getWithQuery([Object(N.n)("userId","==",a),Object(N.h)("createdAt","desc"),t(t)]):{success:!1,error:"Utente non autenticato",data:[]}}async getWorkoutStats(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7;const t=await this.getUserSessions(100);if(!t.success)return t;const a=new Date,s=new Date(a.getTime()-24*e*60*60*1e3),i=t.data.filter(e=>{var t,a;return((null===(t=e.createdAt)||void 0===t||null===(a=t.toDate)||void 0===a?void 0:a.call(t))||new Date(e.createdAt))>=s&&"completed"===e.status}),r=i.length,o=i.reduce((e,t)=>e+(t.totalDuration||0),0),n=r>0?o/r:0,c={};return i.forEach(e=>{var t;null===(t=e.exercises)||void 0===t||t.forEach(e=>{c[e.name]||(c[e.name]={count:0,totalVolume:0}),c[e.name].count++,c[e.name].totalVolume+=e.sets*e.reps*e.weight||0})}),{success:!0,stats:{totalSessions:r,totalDuration:o,averageDuration:n,exerciseStats:c,period:{days:e,startDate:s,endDate:a}}}}},F=new class extends E{constructor(){super("exercises")}async logExercise(e){const t=Object(l.a)(Object(l.a)({},e),{},{date:e.date||(new Date).toISOString().split("T")[0],volume:e.sets*e.reps*e.weight||0,oneRepMax:this.calculateOneRepMax(e.weight,e.reps)});return this.create(t)}calculateOneRepMax(e,t){return!e||!t||t<=0?0:1===t?e:Math.round(e*(1+t/30))}async getPersonalRecords(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const a=null===(e=A.getCurrentUser())||void 0===e?void 0:e.uid;if(!a)return{success:!1,error:"Utente non autenticato"};const s=[Object(N.n)("userId","==",a),Object(N.h)("weight","desc")];t&&s.unshift(Object(N.n)("exerciseName","==",t));const i=await this.getWithQuery(s);if(i.success){const e={};return i.data.forEach(t=>{const a=t.exerciseName;(!e[a]||t.weight>e[a].weight)&&(e[a]=t)}),{success:!0,data:Object.values(e)}}return i}},L=new class extends E{constructor(){super("users")}async getCurrentUserProfile(){var e;const t=null===(e=A.getCurrentUser())||void 0===e?void 0:e.uid;return t?this.getById(t):{success:!1,error:"Utente non autenticato"}}async updateSettings(e){var t;const a=null===(t=A.getCurrentUser())||void 0===t?void 0:t.uid;return a?this.update(a,{settings:e},!0):{success:!1,error:"Utente non autenticato"}}async updateProfile(e){var t;const a=null===(t=A.getCurrentUser())||void 0===t?void 0:t.uid;return a?this.update(a,{profile:e},!0):{success:!1,error:"Utente non autenticato"}}};new class extends E{constructor(){super("nutrition")}async logMeal(e){const t=Object(l.a)(Object(l.a)({},e),{},{date:e.date||(new Date).toISOString().split("T")[0],completedAt:"completed"===e.status?new Date:null});return this.create(t)}async updateMealStatus(e,t){const a={status:t,notes:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,completedAt:"completed"===t?new Date:null};return this.update(e,a)}async getUserMeals(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=null===(e=A.getCurrentUser())||void 0===e?void 0:e.uid;if(!s)return{success:!1,error:"Utente non autenticato",data:[]};const i=[Object(N.n)("userId","==",s),Object(N.h)("date","desc")];return t&&i.push(Object(N.n)("date",">=",t)),a&&i.push(Object(N.n)("date","<=",a)),this.getWithQuery(i)}async getDayMeals(e){var t;const a=null===(t=A.getCurrentUser())||void 0===t?void 0:t.uid;return a?this.getWithQuery([Object(N.n)("userId","==",a),Object(N.n)("date","==",e),Object(N.h)("mealType","asc")]):{success:!1,error:"Utente non autenticato",data:[]}}async getNutritionStats(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;if(!(null===(e=A.getCurrentUser())||void 0===e?void 0:e.uid))return{success:!1,error:"Utente non autenticato"};const a=new Date,s=new Date(a.getTime()-24*t*60*60*1e3),i=await this.getUserMeals(s.toISOString().split("T")[0],a.toISOString().split("T")[0]);if(!i.success)return i;const r=i.data,o=r.filter(e=>"completed"===e.status),n=r.length,c=n>0?o.length/n*100:0,l=o.reduce((e,t)=>e+(t.proteins||0),0),d=t>0?l/t:0,m=this.calculateNutritionStreak(r);return{success:!0,stats:{totalMeals:n,completedMeals:o.length,adherenceRate:Math.round(c),totalProteins:l,avgProteinsPerDay:Math.round(d),currentStreak:m,period:{startDate:s,endDate:a,days:t}}}}calculateNutritionStreak(e){if(!e.length)return 0;const t={};e.forEach(e=>{t[e.date]||(t[e.date]=[]),t[e.date].push(e)});let a=0;const s=Object.keys(t).sort().reverse();for(const i of s){const e=t[i];if(!(e.filter(e=>"completed"===e.status).length/e.length>=.66))break;a++}return a}},new class extends E{constructor(){super("recovery")}async logRecoverySession(e){const t=Object(l.a)(Object(l.a)({},e),{},{date:e.date||(new Date).toISOString().split("T")[0],completedAt:new Date});return this.create(t)}async getUserRecoverySessions(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const s=null===(e=A.getCurrentUser())||void 0===e?void 0:e.uid;if(!s)return{success:!1,error:"Utente non autenticato",data:[]};const i=[Object(N.n)("userId","==",s),Object(N.h)("date","desc")];return t&&i.push(Object(N.n)("date",">=",t)),a&&i.push(Object(N.n)("date","<=",a)),this.getWithQuery(i)}async getDayRecoverySessions(e){var t;const a=null===(t=A.getCurrentUser())||void 0===t?void 0:t.uid;return a?this.getWithQuery([Object(N.n)("userId","==",a),Object(N.n)("date","==",e),Object(N.h)("createdAt","desc")]):{success:!1,error:"Utente non autenticato",data:[]}}async getRecoveryStats(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;if(!(null===(e=A.getCurrentUser())||void 0===e?void 0:e.uid))return{success:!1,error:"Utente non autenticato"};const a=new Date,s=new Date(a.getTime()-24*t*60*60*1e3),i=await this.getUserRecoverySessions(s.toISOString().split("T")[0],a.toISOString().split("T")[0]);if(!i.success)return i;const r=i.data,o=r.length,n=r.reduce((e,t)=>e+(t.duration||0),0),c=o>0?n/o:0,l={};r.forEach(e=>{const t=e.activityType;l[t]||(l[t]={count:0,totalDuration:0}),l[t].count++,l[t].totalDuration+=e.duration||0});const d=o/Math.ceil(t/7);return{success:!0,stats:{totalSessions:o,totalDuration:n,avgDuration:Math.round(c),weeklyFrequency:Math.round(10*d)/10,activityBreakdown:l,period:{startDate:s,endDate:a,days:t}}}}};new class{constructor(){this.migrationKey="firebase_migration_status",this.backupKey="firebase_migration_backup"}isMigrationCompleted(){try{return"completed"===localStorage.getItem(this.migrationKey)}catch(e){return I("Errore verifica migrazione",e),!1}}markMigrationCompleted(){try{const e={status:"completed",timestamp:(new Date).toISOString(),version:"1.0.0"};localStorage.setItem(this.migrationKey,"completed"),localStorage.setItem("".concat(this.migrationKey,"_details"),JSON.stringify(e)),M("Migrazione marcata come completata")}catch(e){I("Errore marcamento migrazione",e)}}createBackup(){try{const e={timestamp:(new Date).toISOString(),data:{progressData:this.safeGetLocalStorage("progressData"),workoutSessions:this.safeGetLocalStorage("workoutSessions"),exerciseData:this.safeGetLocalStorage("exerciseData"),timeStats:this.safeGetLocalStorage("timeStats"),streakData:this.safeGetLocalStorage("streakData"),personalRecords:this.safeGetLocalStorage("personalRecords"),goals12Week:this.safeGetLocalStorage("goals12Week"),userSettings:this.safeGetLocalStorage("userSettings")}},t=JSON.stringify(e);return t.length>2097152&&C("Backup molto grande, compressione necessaria"),localStorage.setItem(this.backupKey,t),M("Backup creato",{size:"".concat(Math.round(t.length/1024),"KB")}),{success:!0,backup:e}}catch(e){return I("Errore creazione backup",e),{success:!1,error:e.message}}}safeGetLocalStorage(e){try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return C("Errore parsing ".concat(e),t),null}}async migrateAllData(){if(!A.isAuthenticated())return{success:!1,error:"Utente non autenticato"};if(this.isMigrationCompleted())return z("Migrazione gi\xe0 completata"),{success:!0,message:"Migrazione gi\xe0 completata"};const e={startTime:(new Date).toISOString(),steps:[],errors:[],totalItems:0,migratedItems:0};try{z("\ud83d\ude80 Inizio migrazione dati localStorage \u2192 Firestore"),e.steps.push("Creazione backup...");const t=this.createBackup();if(!t.success)throw new Error("Backup fallito: ".concat(t.error));e.steps.push("Migrazione dati progress...");const a=await this.migrateProgressData();e.totalItems+=a.totalItems,e.migratedItems+=a.migratedItems,a.errors.length>0&&e.errors.push(...a.errors),e.steps.push("Migrazione sessioni workout...");const s=await this.migrateWorkoutSessions();e.totalItems+=s.totalItems,e.migratedItems+=s.migratedItems,s.errors.length>0&&e.errors.push(...s.errors),e.steps.push("Migrazione dati esercizi...");const i=await this.migrateExerciseData();e.totalItems+=i.totalItems,e.migratedItems+=i.migratedItems,i.errors.length>0&&e.errors.push(...i.errors),e.steps.push("Migrazione impostazioni utente...");const r=await this.migrateUserSettings();r.success||e.errors.push("Errore migrazione utente: ".concat(r.error)),e.steps.push("Verifica integrit\xe0 dati...");const o=await this.verifyMigration();return e.verificationPassed=o.success,0===e.errors.length&&o.success?(this.markMigrationCompleted(),e.steps.push("Migrazione completata con successo"),M("\u2705 Migrazione completata",{totalItems:e.totalItems,migratedItems:e.migratedItems,duration:"".concat(Date.now()-new Date(e.startTime).getTime(),"ms")})):C("\u26a0\ufe0f Migrazione completata con errori",{errors:e.errors.length,details:e.errors}),e.endTime=(new Date).toISOString(),e.success=0===e.errors.length,{success:!0,report:e}}catch(t){return e.endTime=(new Date).toISOString(),e.success=!1,e.errors.push("Errore fatale: ".concat(t.message)),I("\u274c Migrazione fallita",t),{success:!1,error:t.message,report:e}}}async migrateProgressData(){const e=this.safeGetLocalStorage("progressData")||[],t={totalItems:e.length,migratedItems:0,errors:[]};if(0===e.length)return z("Nessun dato progress da migrare"),t;z("Migrazione ".concat(e.length," record progress..."));for(const s of e)try{const e=this.cleanProgressData(s);if(!e){t.errors.push("Dato progress non valido: ".concat(JSON.stringify(s)));continue}const a=await P.addMeasurement(e);a.success?(t.migratedItems++,z("Progress migrato: ".concat(e.date))):t.errors.push("Errore migrazione progress: ".concat(a.error)),await this.sleep(50)}catch(a){t.errors.push("Errore progress item: ".concat(a.message))}return M("Progress migration: ".concat(t.migratedItems,"/").concat(t.totalItems)),t}async migrateWorkoutSessions(){const e=this.safeGetLocalStorage("workoutSessions")||[],t={totalItems:e.length,migratedItems:0,errors:[]};if(0===e.length)return z("Nessuna sessione workout da migrare"),t;z("Migrazione ".concat(e.length," sessioni workout..."));for(const s of e)try{const e=this.cleanWorkoutSession(s);if(!e){t.errors.push("Sessione workout non valida: ".concat(JSON.stringify(s)));continue}const a=await W.create(e);a.success?(t.migratedItems++,z("Workout migrato: ".concat(e.date))):t.errors.push("Errore migrazione workout: ".concat(a.error)),await this.sleep(50)}catch(a){t.errors.push("Errore workout session: ".concat(a.message))}return M("Workout migration: ".concat(t.migratedItems,"/").concat(t.totalItems)),t}async migrateExerciseData(){const e=this.safeGetLocalStorage("exerciseData")||{},t=Object.values(e),a={totalItems:t.length,migratedItems:0,errors:[]};if(0===t.length)return z("Nessun dato esercizio da migrare"),a;z("Migrazione ".concat(t.length," record esercizi..."));for(const i of t)try{const e=this.cleanExerciseData(i);if(!e){a.errors.push("Dato esercizio non valido: ".concat(JSON.stringify(i)));continue}const t=await F.logExercise(e);t.success?(a.migratedItems++,z("Esercizio migrato: ".concat(e.exerciseName))):a.errors.push("Errore migrazione esercizio: ".concat(t.error)),await this.sleep(50)}catch(s){a.errors.push("Errore exercise item: ".concat(s.message))}return M("Exercise migration: ".concat(a.migratedItems,"/").concat(a.totalItems)),a}async migrateUserSettings(){try{const e=this.safeGetLocalStorage("timeStats")||{},t=this.safeGetLocalStorage("goals12Week")||{},a={fitnessStats:e,goals:t,preferences:this.safeGetLocalStorage("userSettings")||{},migratedFrom:"localStorage",migrationDate:(new Date).toISOString()},s=await L.updateProfile(a);return s.success?(M("Impostazioni utente migrate"),{success:!0}):{success:!1,error:s.error}}catch(e){return I("Errore migrazione impostazioni utente",e),{success:!1,error:e.message}}}cleanProgressData(e){if(!e||"object"!==typeof e)return null;const t={date:e.date||(new Date).toISOString().split("T")[0],weight:this.validateNumber(e.weight,30,300),bodyFat:this.validateNumber(e.bodyFat,1,50),muscleMass:this.validateNumber(e.muscleMass,10,150),chest:this.validateNumber(e.chest,50,200),arms:this.validateNumber(e.arms,20,100),waist:this.validateNumber(e.waist,50,150),thighs:this.validateNumber(e.thighs,30,100),notes:this.validateString(e.notes,1e3)};return Object.keys(t).forEach(e=>{null!==t[e]&&void 0!==t[e]||delete t[e]}),t.weight||t.date?t:null}cleanWorkoutSession(e){return e&&"object"===typeof e?{date:e.date||(new Date).toISOString().split("T")[0],name:this.validateString(e.name||e.workoutName,100),status:["planned","in_progress","completed"].includes(e.status)?e.status:"completed",totalDuration:this.validateNumber(e.totalDuration||e.duration,0,480),exercises:Array.isArray(e.exercises)?e.exercises:[],notes:this.validateString(e.notes,1e3)}:null}cleanExerciseData(e){return e&&"object"===typeof e&&e.exerciseName?{exerciseName:this.validateString(e.exerciseName,100),date:e.date||(new Date).toISOString().split("T")[0],sets:this.validateNumber(e.sets,1,20),reps:this.validateNumber(e.reps,1,100),weight:this.validateNumber(e.weight,0,1e3),rir:this.validateNumber(e.rir,0,10),notes:this.validateString(e.notes,500)}:null}validateNumber(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;const s=parseFloat(e);return!isNaN(s)&&s>=t&&s<=a?s:null}validateString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;return"string"!==typeof e?null:e.length<=t?e.trim():e.substring(0,t).trim()}async verifyMigration(){try{var e,t;z("Verifica integrit\xe0 dati migrati...");const a=await P.getUserProgress(),s=await W.getUserSessions(10),i=await L.getCurrentUserProfile(),r={progress:a.success,workouts:s.success,userProfile:i.success},o=Object.values(r).every(e=>!0===e);return z("Risultati verifica",r),{success:o,checks:r,details:{progressCount:(null===(e=a.data)||void 0===e?void 0:e.length)||0,workoutCount:(null===(t=s.data)||void 0===t?void 0:t.length)||0,hasUserProfile:!!i.data}}}catch(a){return I("Errore verifica migrazione",a),{success:!1,error:a.message}}}async rollbackMigration(){try{C("\ud83d\udd04 Inizio rollback migrazione...");const e=localStorage.getItem(this.backupKey);if(!e)throw new Error("Nessun backup disponibile per il rollback");const t=JSON.parse(e);return Object.keys(t.data).forEach(e=>{null!==t.data[e]&&localStorage.setItem(e,JSON.stringify(t.data[e]))}),localStorage.removeItem(this.migrationKey),localStorage.removeItem("".concat(this.migrationKey,"_details")),M("\u2705 Rollback completato"),{success:!0,message:"Dati ripristinati da backup"}}catch(e){return I("\u274c Errore rollback",e),{success:!1,error:e.message}}}sleep(e){return new Promise(t=>setTimeout(t,e))}getMigrationStatus(){try{const e=localStorage.getItem(this.migrationKey),t=localStorage.getItem("".concat(this.migrationKey,"_details"));return{isCompleted:"completed"===e,status:e,details:t?JSON.parse(t):null,hasBackup:!!localStorage.getItem(this.backupKey)}}catch(e){return I("Errore stato migrazione",e),{isCompleted:!1,status:"unknown",details:null,hasBackup:!1,error:e.message}}}};var q=a(5);q.h({mixed:{default:"Campo non valido",required:"Campo obbligatorio",notType:"Tipo di dato non valido"},string:{min:"Minimo ${min} caratteri",max:"Massimo ${max} caratteri",email:"Email non valida"},number:{min:"Valore minimo: ${min}",max:"Valore massimo: ${max}",positive:"Deve essere un numero positivo",integer:"Deve essere un numero intero"},date:{min:"Data non pu\xf2 essere precedente al ${min}",max:"Data non pu\xf2 essere successiva al ${max}"}});const U=q.e().typeError("Peso deve essere un numero").min(30,"Peso minimo 30kg").max(300,"Peso massimo 300kg"),B=q.e().typeError("Percentuale deve essere un numero").min(0,"Percentuale minima 0%").max(100,"Percentuale massima 100%"),G=q.e().typeError("Misurazione deve essere un numero").min(10,"Misurazione minima 10cm").max(200,"Misurazione massima 200cm"),J=q.c().typeError("Data non valida").max(new Date,"Data non pu\xf2 essere futura"),V=q.i().min(8,"Password minimo 8 caratteri").matches(/[a-z]/,"Deve contenere almeno una lettera minuscola").matches(/[A-Z]/,"Deve contenere almeno una lettera maiuscola").matches(/[0-9]/,"Deve contenere almeno un numero").matches(/[^a-zA-Z0-9]/,"Deve contenere almeno un carattere speciale"),Y=(q.f({email:q.i().required("Email \xe8 obbligatoria").email("Formato email non valido").max(254,"Email troppo lunga"),password:V.required("Password \xe8 obbligatoria"),confirmPassword:q.i().required("Conferma password \xe8 obbligatoria").oneOf([q.g("password")],"Le password non corrispondono"),displayName:q.i().min(2,"Nome minimo 2 caratteri").max(50,"Nome massimo 50 caratteri").matches(/^[a-zA-Z\xc0-\xff\s]+$/,"Nome pu\xf2 contenere solo lettere e spazi").nullable(),acceptTerms:q.b().oneOf([!0],"Devi accettare i termini e condizioni")}),q.f({email:q.i().required("Email \xe8 obbligatoria").email("Formato email non valido"),password:q.i().required("Password \xe8 obbligatoria").min(1,"Password non pu\xf2 essere vuota"),rememberMe:q.b().default(!1)}),q.f({email:q.i().required("Email \xe8 obbligatoria").email("Formato email non valido")}),q.f({currentPassword:q.i().required("Password attuale \xe8 obbligatoria"),newPassword:V.required("Nuova password \xe8 obbligatoria"),confirmNewPassword:q.i().required("Conferma nuova password \xe8 obbligatoria").oneOf([q.g("newPassword")],"Le password non corrispondono")}),q.f({weight:U.nullable(),bodyFat:B.min(3,"Massa grassa minima 3%").max(50,"Massa grassa massima 50%").nullable(),muscleMass:q.e().typeError("Massa muscolare deve essere un numero").min(10,"Massa muscolare minima 10kg").max(150,"Massa muscolare massima 150kg").nullable(),chest:G.min(50,"Circonferenza petto minima 50cm").max(200,"Circonferenza petto massima 200cm").nullable(),arms:G.min(20,"Circonferenza braccia minima 20cm").max(100,"Circonferenza braccia massima 100cm").nullable(),waist:G.min(50,"Circonferenza vita minima 50cm").max(150,"Circonferenza vita massima 150cm").nullable(),thighs:G.min(30,"Circonferenza cosce minima 30cm").max(100,"Circonferenza cosce massima 100cm").nullable(),date:J.default(()=>new Date),notes:q.i().max(1e3,"Note massimo 1000 caratteri").nullable()}).test("at-least-one-measurement","Inserisci almeno una misurazione",function(e){const{weight:t,bodyFat:a,muscleMass:s,chest:i,arms:r,waist:o,thighs:n}=e||{};return!!(t||a||s||i||r||o||n)}),q.f({exerciseName:q.i().required("Nome esercizio \xe8 obbligatorio").min(2,"Nome esercizio minimo 2 caratteri").max(100,"Nome esercizio massimo 100 caratteri").matches(/^[a-zA-Z\xc0-\xff0-9\s\-().]+$/,"Nome esercizio contiene caratteri non validi"),sets:q.e().required("Numero serie \xe8 obbligatorio").integer("Serie deve essere un numero intero").min(1,"Minimo 1 serie").max(20,"Massimo 20 serie"),reps:q.e().required("Numero ripetizioni \xe8 obbligatorio").integer("Ripetizioni deve essere un numero intero").min(1,"Minimo 1 ripetizione").max(100,"Massimo 100 ripetizioni"),weight:q.e().typeError("Peso deve essere un numero").min(0,"Peso non pu\xf2 essere negativo").max(1e3,"Peso massimo 1000kg").nullable(),rir:q.e().typeError("RIR deve essere un numero").integer("RIR deve essere un numero intero").min(0,"RIR minimo 0").max(10,"RIR massimo 10").nullable(),notes:q.i().max(500,"Note esercizio massimo 500 caratteri").nullable()}));q.f({name:q.i().required("Nome workout \xe8 obbligatorio").min(3,"Nome workout minimo 3 caratteri").max(100,"Nome workout massimo 100 caratteri"),date:J.required("Data \xe8 obbligatoria"),startTime:q.c().typeError("Orario inizio non valido").nullable(),endTime:q.c().typeError("Orario fine non valido").min(q.g("startTime"),"Orario fine deve essere dopo l'inizio").nullable(),totalDuration:q.e().typeError("Durata deve essere un numero").min(1,"Durata minima 1 minuto").max(480,"Durata massima 8 ore (480 minuti)").nullable(),exercises:q.a().of(Y).min(1,"Almeno un esercizio \xe8 obbligatorio"),notes:q.i().max(1e3,"Note workout massimo 1000 caratteri").nullable(),intensity:q.e().integer("Intensit\xe0 deve essere un numero intero").min(1,"Intensit\xe0 minima 1").max(10,"Intensit\xe0 massima 10").nullable()}),q.f({displayName:q.i().min(2,"Nome minimo 2 caratteri").max(50,"Nome massimo 50 caratteri").matches(/^[a-zA-Z\xc0-\xff\s]+$/,"Nome pu\xf2 contenere solo lettere e spazi").nullable(),age:q.e().integer("Et\xe0 deve essere un numero intero").min(13,"Et\xe0 minima 13 anni").max(120,"Et\xe0 massima 120 anni").nullable(),height:q.e().typeError("Altezza deve essere un numero").min(100,"Altezza minima 100cm").max(250,"Altezza massima 250cm").nullable(),activityLevel:q.i().oneOf(["sedentary","light","moderate","active","very_active"],"Livello attivit\xe0 non valido").default("moderate"),fitnessGoals:q.a().of(q.i().oneOf(["weight_loss","muscle_gain","strength","endurance","flexibility","general_health","athletic_performance"])).max(5,"Massimo 5 obiettivi"),experience:q.i().oneOf(["beginner","intermediate","advanced","expert"],"Livello esperienza non valido").default("beginner"),preferences:q.f({units:q.i().oneOf(["metric","imperial"]).default("metric"),language:q.i().oneOf(["it","en"]).default("it"),notifications:q.b().default(!0),darkMode:q.b().default(!1),publicProfile:q.b().default(!1)})}),q.f({startWeight:U.required("Peso iniziale \xe8 obbligatorio"),targetWeight:U.required("Peso target \xe8 obbligatorio").test("weight-difference","Differenza peso deve essere ragionevole (\xb130kg)",function(e){const{startWeight:t}=this.parent;return!t||!e||Math.abs(e-t)<=30}),targetBench:q.e().typeError("Target panca deve essere un numero").min(20,"Target panca minimo 20kg").max(300,"Target panca massimo 300kg").nullable(),targetSquat:q.e().typeError("Target squat deve essere un numero").min(30,"Target squat minimo 30kg").max(500,"Target squat massimo 500kg").nullable(),targetDeadlift:q.e().typeError("Target deadlift deve essere un numero").min(40,"Target deadlift minimo 40kg").max(600,"Target deadlift massimo 600kg").nullable(),startDate:q.c().required("Data inizio \xe8 obbligatoria").max(new Date,"Data inizio non pu\xf2 essere futura"),targetDate:q.c().required("Data target \xe8 obbligatoria").min(q.g("startDate"),"Data target deve essere dopo data inizio").test("12-weeks-max","Periodo massimo 16 settimane",function(e){const{startDate:t}=this.parent;if(!t||!e)return!0;return(e-t)/6048e5<=16})}),q.f({notifications:q.f({workoutReminders:q.b().default(!0),progressReminders:q.b().default(!0),achievementAlerts:q.b().default(!0),emailNotifications:q.b().default(!1),pushNotifications:q.b().default(!0)}),privacy:q.f({profileVisibility:q.i().oneOf(["private","friends","public"]).default("private"),shareProgress:q.b().default(!1),shareWorkouts:q.b().default(!1),allowFriendRequests:q.b().default(!0)}),display:q.f({theme:q.i().oneOf(["light","dark","auto"]).default("light"),language:q.i().oneOf(["it","en"]).default("it"),dateFormat:q.i().oneOf(["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"]).default("DD/MM/YYYY"),timeFormat:q.i().oneOf(["24h","12h"]).default("24h")}),units:q.f({weight:q.i().oneOf(["kg","lb"]).default("kg"),distance:q.i().oneOf(["km","mi"]).default("km"),height:q.i().oneOf(["cm","ft"]).default("cm")})});a(22);const H=Object(s.lazy)(()=>Promise.all([a.e(3),a.e(4)]).then(a.bind(null,35))),K=Object(s.lazy)(()=>a.e(5).then(a.bind(null,36))),_=Object(s.lazy)(()=>a.e(6).then(a.bind(null,37)));function Q(){return Object(b.jsx)(n.a,{children:Object(b.jsx)("div",{className:"App",children:Object(b.jsxs)(c.c,{children:[Object(b.jsx)(c.a,{path:"/",element:Object(b.jsx)(j,{})}),Object(b.jsx)(c.a,{path:"/workout",element:Object(b.jsx)(O,{})}),Object(b.jsx)(c.a,{path:"/nutrition",element:Object(b.jsx)(x,{})}),Object(b.jsx)(c.a,{path:"/supplements",element:Object(b.jsx)(f,{})}),Object(b.jsx)(c.a,{path:"/recovery",element:Object(b.jsx)(v,{})}),Object(b.jsx)(c.a,{path:"/progress",element:Object(b.jsx)(y,{})}),Object(b.jsx)(c.a,{path:"/measurements",element:Object(b.jsx)(S,{})}),Object(b.jsx)(c.a,{path:"/analytics",element:Object(b.jsx)(s.Suspense,{fallback:Object(b.jsx)("div",{className:"loading-analytics",children:"Caricamento Analytics..."}),children:Object(b.jsx)(H,{})})}),Object(b.jsx)(c.a,{path:"/nutrition-tracker",element:Object(b.jsx)(s.Suspense,{fallback:Object(b.jsx)("div",{className:"loading-nutrition",children:"Caricamento Nutrition Tracker..."}),children:Object(b.jsx)(K,{})})}),Object(b.jsx)(c.a,{path:"/recovery-timer",element:Object(b.jsx)(s.Suspense,{fallback:Object(b.jsx)("div",{className:"loading-recovery",children:"Caricamento Recovery Timer..."}),children:Object(b.jsx)(_,{})})})]})})})}var Z=function(){return Object(b.jsx)(Q,{})};o.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(Z,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.74103cd3.chunk.js.map